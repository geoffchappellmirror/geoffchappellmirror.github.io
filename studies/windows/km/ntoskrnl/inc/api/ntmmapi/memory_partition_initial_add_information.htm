<!doctype html>
<html lang="en">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>MEMORY_PARTITION_INITIAL_ADD_INFORMATION</title>
<link rel="stylesheet" type="text/css" href="../../../../../../../_styles/master.css">
<link rel="stylesheet" type="text/css" href="../../../../../../../_styles/document.css">
<link rel="stylesheet" type="text/css" href="../../../../_styles/km.css">
<script type="text/javascript" src="../../../../../../../_scripts/master.js"></script>
<script type="text/javascript" src="../../../../../../../_scripts/document.js"></script>
<script type="text/javascript" src="../../../../_scripts/km.js" defer></script>
</head>

<body>

<!--webbot bot="Include" U-Include="../../../../_include/noscript.htm" TAG="BODY" startspan -->

<div class="NoScript" id="Banner">
  <div id="Links">
    <ul class="LinkList">
      <li> 
      <ul class="PreferNoWrap">
        <li class="LinkListItem"><a href="../../../../../../../index.htm">Home</a> </li><!--
     --><li class="LinkListItem"><a target="_self" href="../../../../toc.htm">Table of Contents</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../../about/index.htm">About This Site</a> </li>
      </ul>
      <ul class="PreferNoWrap">
        <li class="LinkListItem"><a href="../../../../../../../new/index.htm">What’s New?</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../../feedback/index.htm">Feedback</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../../consult/index.htm">Consult</a> </li>
      </ul>
      </li>
    </ul>
  </div>
  <div id="Logo">
    <p><span class="PreferNoWrap">Geoff Chappell -</span> <span class="PreferNoWrap">Software Analyst</span> </p>
  </div>
</div>

<!--webbot bot="Include" endspan i-checksum="48540" -->
<div class="Main">
  <h1>MEMORY_PARTITION_INITIAL_ADD_INFORMATION </h1>
  <p>The <span class="struct">MEMORY_PARTITION_INITIAL_ADD_INFORMATION</span> structure 
  (formally <span class="struct">_MEMORY_PARTITION_INITIAL_ADD_INFORMATION</span>) 
  both provides input for and receives output from <span class="function">
  <a href="../../../api/mm/partition/manage.htm">NtManagePartition</a></span> when 
  given the information class <span class="constant">SystemMemoryPartitionInitialAddMemory</span> 
  (4). </p>
  <p>The structure is defined for both 32-bit and 64-bit Windows, but the 32-bit 
  form is useless in practice before Version 1703 because the 32-bit
  <span class="function">NtManagePartition</span> fails trivially (returning
  <span class="constant">STATUS_NOT_SUPPORTED</span>). </p>
  <table class="Sizes">
    <colgroup>
      <col class="Version"><col class="Size" span="2">
    </colgroup>
    <thead>
      <tr>
        <th>Version </th>
        <th>Size (x86) </th>
        <th>Size (x64) </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>10.0 to 1511 </td>
        <td>0x0C </td>
        <td>0x18 </td>
      </tr>
      <tr>
        <td>1607 to 2004 </td>
        <td>0x14 </td>
        <td>0x20 </td>
      </tr>
    </tbody>
  </table>
  <p>The sizes in the preceding table and the offsets, names and types in the next 
  are from type information in private symbol files that Microsoft has included 
  in downloadable packages of public symbol files and still makes available at the 
  public symbol server. </p>
  <table class="Struct">
    <colgroup>
      <col class="Offset" span="2"><col class="Definition"><col class="Versions">
      <col class="Remarks">
    </colgroup>
    <thead>
      <tr>
        <th>Offset (x86) </th>
        <th>Offset (x64) </th>
        <th>Definition </th>
        <th>Versions </th>
        <th>Remarks </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>0x00 (10.0 to 1511) </td>
        <td>0x00 (10.0 to 1511) </td>
        <td>
        <pre class="source">ULONG_PTR StartPage;</pre>
        </td>
        <td>10.0 to 1511 </td>
        <td>input </td>
      </tr>
      <tr>
        <td>0x04 (10.o to 1511) </td>
        <td>0x08 (10.0 to 1511) </td>
        <td>
        <pre class="source">ULONG_PTR NumberOfPages;</pre>
        </td>
        <td>10.0 to 1511 </td>
        <td>input and output </td>
      </tr>
      <tr>
        <td>0x08 (10.0 to 1511); <br>
        0x00 </td>
        <td>0x10 (10.0 to 1511); <br>
        0x00 </td>
        <td>
        <pre class="source">ULONG Flags;</pre>
        </td>
        <td>10.0 and higher </td>
        <td>input </td>
      </tr>
      <tr>
        <td>0x04 </td>
        <td>0x04 </td>
        <td>
        <pre class="source">ULONG NumberOfRanges;</pre>
        </td>
        <td>1607 and higher </td>
        <td>input </td>
      </tr>
      <tr>
        <td>0x08 </td>
        <td>0x08 </td>
        <td>
        <pre class="source">ULONG_PTR NumberOfPagesAdded;</pre>
        </td>
        <td>1607 and higher </td>
        <td>output </td>
      </tr>
      <tr>
        <td>0x0C </td>
        <td>0x10 </td>
        <td>
        <pre class="source">MEMORY_PARTITION_PAGE_RANGE PartitionRanges [ANYSIZE_ARRAY];</pre>
        </td>
        <td>1607 and higher </td>
        <td>input </td>
      </tr>
    </tbody>
  </table>
  <div class="Footer">
    <p class="Dates">This page was created on 14th July 2016 and was last modified 
    on 14th <a href="../../../../../../../new/22/07.htm">August 2022</a>. </p>
    <!--webbot bot="Include" U-Include="../../../../_include/c1622.htm" TAG="BODY" startspan -->

<p class="Copyright">Copyright © 2016-2022. Geoff Chappell. All rights reserved. 
<a href="../../../../../../../about/terms.htm">Conditions apply</a>. </p>

<!--webbot bot="Include" endspan i-checksum="4925" -->
  </div>
</div>

</body>

</html>
