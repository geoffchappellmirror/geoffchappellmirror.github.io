<!doctype html>
<html lang="en">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>ISRDPCSTATS</title>
<link rel="stylesheet" type="text/css" href="../../../../../../../_styles/master.css">
<link rel="stylesheet" type="text/css" href="../../../../../../../_styles/document.css">
<link rel="stylesheet" type="text/css" href="../../../../_styles/km.css">
<script type="text/javascript" src="../../../../../../../_scripts/master.js"></script>
<script type="text/javascript" src="../../../../../../../_scripts/document.js"></script>
<script type="text/javascript" src="../../../../_scripts/km.js" defer></script>
</head>

<body>

<!--webbot bot="Include" U-Include="../../../../_include/noscript.htm" TAG="BODY" startspan -->

<div class="NoScript" id="Banner">
  <div id="Links">
    <ul class="LinkList">
      <li> 
      <ul class="PreferNoWrap">
        <li class="LinkListItem"><a href="../../../../../../../index.htm">Home</a> </li><!--
     --><li class="LinkListItem"><a target="_self" href="../../../../toc.htm">Table of Contents</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../../about/index.htm">About This Site</a> </li>
      </ul>
      <ul class="PreferNoWrap">
        <li class="LinkListItem"><a href="../../../../../../../new/index.htm">What’s New?</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../../feedback/index.htm">Feedback</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../../consult/index.htm">Consult</a> </li>
      </ul>
      </li>
    </ul>
  </div>
  <div id="Logo">
    <p><span class="PreferNoWrap">Geoff Chappell -</span> <span class="PreferNoWrap">Software Analyst</span> </p>
  </div>
</div>

<!--webbot bot="Include" endspan i-checksum="48540" -->
<div class="Main">
  <h1>ISRDPCSTATS </h1>
  <p>An <span class="struct">ISRDPCSTATS</span> structure (formally
  <span class="struct">_ISRDPCSTATS</span> ) is nested within the
  <span class="struct"><a href="kinterrupt.htm">KINTERRUPT</a></span> structure 
  as the latter’s <span class="member">IsrDpcStats</span> member, starting with 
  version 6.3. It is also what the <span class="struct"><a href="../kprcb.htm">KPRCB</a></span> 
  structure’s <span class="member">IsrDpcStats</span> member, defined formally as 
  pointing to void, actually points to. </p>
  <p>The only use that is yet known to be made of the statistics that accumulate 
  in an <span class="struct">ISRDPCSTATS</span> structure is for the (undocumented)
  <span class="switch">-t</span> switch of the debugger extension command
  <span class="command">!idt</span>. </p>
  <p>The <span class="struct">ISRDPCSTATS</span> structure is identical in both 
  32-bit and 64-bit Windows. It is 0x40 bytes originally, but grows to 0x60 bytes 
  in the 2004 release of Windows 10. Offsets, types and Microsoft’s names are known 
  from type information in public symbol files for the kernel: </p>
  <table class="Struct">
    <colgroup>
      <col class="Offset"><col class="Definition"><col class="Versions">
    </colgroup>
    <thead>
      <tr>
        <th>Offset </th>
        <th>Definition </th>
        <th>Versions </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>0x00 </td>
        <td>
        <pre class="source">ULONGLONG IsrTime;</pre>
        </td>
        <td>6.3 and higher </td>
      </tr>
      <tr>
        <td>0x08 </td>
        <td>
        <pre class="source">ULONGLONG IsrTimeStart;</pre>
        </td>
        <td>6.3 and higher </td>
      </tr>
      <tr>
        <td>0x10 </td>
        <td>
        <pre class="source">ULONGLONG IsrCount;</pre>
        </td>
        <td>6.3 and higher </td>
      </tr>
      <tr>
        <td>0x18 </td>
        <td>
        <pre class="source">ULONGLONG DpcTime;</pre>
        </td>
        <td>6.3 and higher </td>
      </tr>
      <tr>
        <td>0x20 </td>
        <td>
        <pre class="source">ULONGLONG DpcTimeStart;</pre>
        </td>
        <td>6.3 and higher </td>
      </tr>
      <tr>
        <td>0x28 </td>
        <td>
        <pre class="source">ULONGLONG DpcCount;</pre>
        </td>
        <td>6.3 and higher </td>
      </tr>
      <tr>
        <td>0x30 </td>
        <td>
        <pre class="source">BOOLEAN IsrActive;</pre>
        </td>
        <td>6.3 and higher </td>
      </tr>
      <tr>
        <td rowspan="2">0x31 </td>
        <td>
        <pre class="source">UCHAR Reserved [15];</pre>
        </td>
        <td>6.3 to 1903 </td>
      </tr>
      <tr>
        <td>
        <pre class="source">UCHAR Reserved [7];</pre>
        </td>
        <td>2004 and higher </td>
      </tr>
      <tr>
        <td>0x38 </td>
        <td>
        <pre class="source">ISRDPCSTATS_SEQUENCE DpcWatchdog;</pre>
        </td>
        <td>2004 and higher </td>
      </tr>
    </tbody>
  </table>
  <p>When the <span class="command">!idt</span> command reports on an Interrupt 
  Service Routine because the selected IDT entry has at least one
  <span class="struct">KINTERRUPT</span>, it presents four statistics for each
  <span class="struct">KINTERRUPT</span> but unhelpfully gives no heading to say 
  what these statistics represent. The four are in the order:
  <span class="member">IsrCount</span>, <span class="member">IsrTime</span>,
  <span class="member">DpcCount</span> and <span class="member">DpcTime</span>.
  </p>
  <div class="Footer">
    <p class="Dates">This page was created on 18th December 2019 and was last modified 
    on 20th <a href="../../../../../../../new/23/02.htm">February 2023</a>. </p>
    <!--webbot bot="Include" U-Include="../../../../_include/c1923.htm" TAG="BODY" startspan -->

<p class="Copyright">Copyright © 2019-2023. Geoff Chappell. All rights reserved. 
<a href="../../../../../../../about/terms.htm">Conditions apply</a>. </p>

<!--webbot bot="Include" endspan i-checksum="5325" -->
  </div>
</div>

</body>

</html>
