<html>

<head>
<title>NTAMD64_X.H</title>
<link rel="stylesheet" type="text/css" href="../../../../../../_styles/master.css">
<link rel="stylesheet" type="text/css" href="../../../../../../_styles/document.css">
<link rel="stylesheet" type="text/css" href="../../../_styles/km.css">
<script type="text/javascript" src="../../../../../../_scripts/master.js"></script>
<script type="text/javascript" src="../../../../../../_scripts/document.js"></script>
<script type="text/javascript" src="../../../_scripts/km.js"></script>
</head>

<body>

<!--webbot bot="Include" U-Include="../../../_include/noscript.htm" TAG="BODY" startspan -->

<div class="NoScript" id="Banner">
  <div id="Links">
    <ul class="LinkList">
      <li class="LinkListItem"><a href="../../../../../../index.htm"><span>Home</span></a> </li>
      <li class="LinkListItem"><a target="_self" href="../../../toc.htm"><span>Table of Contents</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../../about/index.htm"><span>About This Site</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../../new/index.htm"><span>What’s New?</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../../feedback/index.htm"><span>Feedback</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../../consult/index.htm"><span>Consult</span></a> </li>
    </ul>
  </div>
  <div id="Logo">
    <p>Geoff Chappell, Software Analyst </p>
  </div>
</div>

<!--webbot bot="Include" endspan i-checksum="54033" -->
<h1>NTAMD64_X.H </h1>
<p>The public symbol file NTKRPAMP.PDB for the original release of Windows 10 tells 
that the kernel is built with the NTAMD64_X.H header at </p>
<blockquote>
  d:\th.public.fre\internal\sdk\inc
</blockquote>
<p>and draws from it the following type definition: </p>
<table>
  <colgroup>
    <col class="LineNumber"><col class="Name"><col class="LineNumber">
  </colgroup>
  <tr>
    <th>Line Number </th>
    <th>Type </th>
    <th>NTDDK.H </th>
  </tr>
  <tr>
    <td>1374 </td>
    <td>struct <span class="struct">_CONTEXT</span> </td>
    <td>551 </td>
  </tr>
</table>
<p>The header NTAMD64_X.H is not known in any Device Driver Kit (DDK) or Windows 
Driver Kit (WDK), but this one type that the kernel is known to pick up from it 
is defined in the standard header NTDDK.H. The line number on the left is from the 
unseen NTAMD64_X.H but is known from the symbol file. The line number on the right 
is from the NTDDK.H that is readily available in the WDK for Windows 10. </p>
<p>From URLMON.PDB: </p>
<table>
  <colgroup>
    <col class="LineNumber"><col class="Name">
  </colgroup>
  <tr>
    <th>Line Number </th>
    <th>Type </th>
  </tr>
  <tr>
    <td>28 </td>
    <td>struct <span class="struct">_SCOPE_TABLE_AMD64</span> </td>
  </tr>
  <tr>
    <td>1374 </td>
    <td>struct <span class="struct">_CONTEXT</span> </td>
  </tr>
  <tr>
    <td>1578 </td>
    <td>struct <span class="struct">_UNWIND_HISTORY_TABLE_ENTRY</span> </td>
  </tr>
  <tr>
    <td>1583 </td>
    <td>struct <span class="struct">_UNWIND_HISTORY_TABLE</span> </td>
  </tr>
  <tr>
    <td>1625 </td>
    <td>struct <span class="struct">_DISPATCHER_CONTEXT</span> </td>
  </tr>
</table>
<h2>NTAMD64.H </h2>
<p>Though the public symbol files for the kernel make no mention of it, there is 
an NTAMD64.H in the same directory. This is known from private symbol files that 
Microsoft has distributed in packages of otherwise public symbol files. All 
these private symbols are for user-mode modules. Some, such as URLMON.DLL from 
Internet Explorer, are very far removed from kernel-mode programming, but let’s 
leave that wonder for some other time. If NTAMD64.H for the amd64 processor 
architecture follows the pattern of NTARM.H and NTARM_X.H, then NTAMD64.H 
includes NTAMD64_X.H. It’s not impossible, and may even be likely, that the 
kernel’s source code includes NTAMD64.H but just doesn’t use any of its contents 
in a way that survives into the public symbol files. </p>
<table>
  <colgroup>
    <col class="LineNumber"><col class="Name">
  </colgroup>
  <tr>
    <th>Line Number </th>
    <th>Type </th>
  </tr>
  <tr>
    <td>83 </td>
    <td>enum <span class="enum">_DEBUG_CONTROL_SPACE_ITEM</span> </td>
  </tr>
  <tr>
    <td>129 </td>
    <td>enum <span class="enum">_UNWIND_OP_CODES</span> </td>
  </tr>
  <tr>
    <td>147 </td>
    <td>union <span class="union">_UNWIND_CODE</span> </td>
  </tr>
  <tr>
    <td>157 </td>
    <td>unnamed struct for <span class="member">EpilogueCode</span> in
    <span class="union">_UNWIND_CODE</span> </td>
  </tr>
  <tr>
    <td>167 </td>
    <td>struct <span class="struct">_UNWIND_INFO</span> </td>
  </tr>
</table>
<p>&nbsp;</p>
<div class="Footer">
  <p class="Dates">This page was created on 16th
  <a href="../../../../../../new/20/11.htm">November 2020</a>. </p>
  <!--webbot bot="Include" U-Include="../../../_include/c20.htm" TAG="BODY" startspan -->

<p class="Copyright">Copyright © 2020. Geoff Chappell. All rights reserved. 
<a href="../../../../../../about/terms.htm">Conditions apply</a>. </p>

<!--webbot bot="Include" endspan i-checksum="61845" -->
</div>

</body>

</html>
