<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>HAL Exports Added For Version 3.50</title>
<link rel="stylesheet" type="text/css" href="../../../../../_styles/master.css">
<link rel="stylesheet" type="text/css" href="../../../../../_styles/document.css">
<link rel="stylesheet" type="text/css" href="../../_styles/km.css">
<script type="text/javascript" src="../../../../../_scripts/master.js"></script>
<script type="text/javascript" src="../../../../../_scripts/document.js"></script>
<script type="text/javascript" src="../../_scripts/km.js"></script>
</head>

<body>

<!--webbot bot="Include" U-Include="../../_include/noscript.htm" TAG="BODY" startspan -->

<div class="NoScript" id="Banner">
  <div id="Links">
    <ul class="LinkList">
      <li> 
      <ul class="PreferNoWrap">
        <li class="LinkListItem"><a href="../../../../../index.htm">Home</a> </li><!--
     --><li class="LinkListItem"><a target="_self" href="../../toc.htm">Table of Contents</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../about/index.htm">About This Site</a> </li>
      </ul>
      <ul class="PreferNoWrap">
        <li class="LinkListItem"><a href="../../../../../new/index.htm">What’s New?</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../feedback/index.htm">Feedback</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../consult/index.htm">Consult</a> </li>
      </ul>
      </li>
    </ul>
  </div>
  <div id="Logo">
    <p><span class="PreferNoWrap">Geoff Chappell -</span> <span class="PreferNoWrap">Software Analyst</span> </p>
  </div>
</div>

<!--webbot bot="Include" endspan i-checksum="63592" -->
<h1>HAL Exports Added For Version 3.50 </h1>
<p>The table below lists the 17 exports that had been added to the HAL by version 
3.50 from Windows NT 3.5 Service Pack 3. For the purpose of this study, with no 
other build of version 3.50 available for inspection, these exports are taken to 
have been added for version 3.50. Be aware that they might not date from the original 
release of version 3.50 or that they might have originated for a service-pack release 
of version 3.10. </p>
<!--webbot bot="Include" U-Include="../../_include/colours.htm" TAG="BODY" startspan -->

<p>Documentation status is summarised by colour coding. <span class="NoScript">(Had 
the website’s scripts run as expected, then hovering over any colour-coded text 
would produce a tooltip that shows why the text is coloured.) </span>
<span class="ScriptOnly">(To decode a colour, hover for a tooltip.) </span></p>
<p>Functions that appear to be completely undocumented are
<span class="undocumented">highlighted yellow</span>. If a function is documented 
now but was not documented in the first contemporaneous Device Driver Kit (DDK), 
Windows Driver Kit (WDK) or Installable File System (IFS) Kit, then it is
<span class="delayed">shaded yellow</span> to retain some of its previous status. 
If a function is documented as reserved or obsolete, it is
<span class="reserved">shaded red</span> or <span class="obsolete">shaded grey</span>, 
respectively. Otherwise, functions that have their own non-trivial documentation 
are left with no background colour. </p>
<p>Many undocumented functions and some variables have C-language declarations in 
one or another header file. To show them as being not completely undocumented they 
are <span class="declared">shaded orange</span>, except for one special case. Some 
declarations are known only from “minwin” headers that Microsoft published in early 
editions of the WDK for Windows 10 which seem since to have been withdrawn. These 
are <span class="minwin">highlighted orange</span> to indicate that public disclosure 
even of the declaration was exceptional. </p>

<!--webbot bot="Include" endspan i-checksum="57742" -->
<table class="Functions">
  <colgroup>
    <col class="Name"><col class="Remarks" span="3">
  </colgroup>
  <tr>
    <th>Function </th>
    <th>Export History </th>
    <th>Documentation History </th>
    <th>Declaration History </th>
  </tr>
  <tr>
    <td><span class="function">ExAcquireFastMutex</span> </td>
    <td>x86 only; <br>
    since 5.2 SP1, forwarded to <span class="declared function">ExiAcquireFastMutex</span> 
    in kernel; <br>
    since 6.2, forwarded to kernel </td>
    <td>since 6.1 revision, documented start is 5.0 </td>
    <td>since 6.0, declared start is 5.0 </td>
  </tr>
  <tr>
    <td><span class="function">ExReleaseFastMutex</span> </td>
    <td>x86 only; <br>
    since 5.2 SP1, forwarded to <span class="declared function">ExiReleaseFastMutex</span> 
    in kernel; <br>
    since 6.2, forwarded to kernel </td>
    <td>since 6.1 revision, documented start is 5.0 </td>
    <td>since 6.0, declared start is 5.0 </td>
  </tr>
  <tr>
    <td><span class="function">ExTryToAcquireFastMutex</span> </td>
    <td>x86 only; <br>
    since 5.2 SP1, forwarded to <span class="declared function">ExiTryToAcquireFastMutex</span> 
    in kernel; <br>
    since 6.2, forwarded to kernel </td>
    <td>since 6.1 revision, documented start is 5.0 </td>
    <td>since 6.0, declared start is 5.0 </td>
  </tr>
</table>
<p>The three functions for fast mutexes provide the first cases, chronologically, 
of HAL exports being reduced to forwards. The functions were for all practical effect 
moved to the kernel concurrently with the introduction of the x64 architecture, 
though the mechanism took a while to settle. For x64, these functions have only 
ever been exported from the kernel, not the HAL, not even as forwards. </p>
<table class="Functions">
  <colgroup>
    <col class="Name"><col class="Remarks" span="3">
  </colgroup>
  <tr>
    <th>Function </th>
    <th>Export History </th>
    <th>Documentation History </th>
    <th>Declaration History </th>
  </tr>
  <tr>
    <td><span class="minwin function">HalAdjustResourceList</span> </td>
    <td>x64 since 2004, forwarded to kernel </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">HalAllProcessorsStarted</span> </td>
    <td>x64 since 2004, forwarded to kernel </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="reserved function">HalAllocateCrashDumpRegisters</span>
    </td>
    <td>x64 since 2004, forwarded to kernel </td>
    <td>before 6.0, <span class="declared">declared</span> </td>
    <td>since 6.0, declared start is 5.0 </td>
  </tr>
  <tr>
    <td><span class="obsolete function">HalAssignSlotResources</span> </td>
    <td>x64 since 2004, forwarded to kernel </td>
    <td>before 5.0, documented </td>
    <td>since 5.1, deprecated <br>
    since 6.0, declared start is 5.0 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">HalClearSoftwareInterrupt</span>
    </td>
    <td>x64 since 2004, forwarded to kernel </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="obsolete function">HalGetBusDataByOffset</span> </td>
    <td>x64 since 2004, forwarded to kernel </td>
    <td>before 5.0, documented </td>
    <td>since 5.1, deprecated <br>
    since 6.0, declared start is 5.0 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">HalProcessorIdle</span> </td>
    <td>x64 since 2004, forwarded to kernel </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="obsolete function">HalSetBusData</span> </td>
    <td>x64 since 2004, forwarded to kernel </td>
    <td>before 5.0, documented </td>
    <td>since 5.1, deprecated <br>
    since 6.0, declared start is 5.0 </td>
  </tr>
  <tr>
    <td><span class="obsolete function">HalSetBusDataByOffset</span> </td>
    <td>x64 since 2004, forwarded to kernel </td>
    <td>before 5.0, documented </td>
    <td>since 5.1, deprecated <br>
    since 6.0, declared start is 5.0 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">HalSetTimeIncrement</span> </td>
    <td>discontinued in 6.3 </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
</table>
<p>The particularities of how the few <span class="functionprefix">Hal</span> functions 
that have ever been documented became obsolete are a separate story. Here it must 
suffice to note that starting with the DDK for Windows 2000, some of these functions 
are not declared at all if a macro <span class="macro">NO_LEGACY_DRIVERS</span> 
is defined. </p>
<table class="Functions">
  <colgroup>
    <col class="Name"><col class="Remarks" span="2">
  </colgroup>
  <tr>
    <th>Function </th>
    <th>Export History </th>
    <th>Declaration History </th>
  </tr>
  <tr>
    <td><span class="declared function">KfAcquireSpinLock</span> </td>
    <td>x86 only; <br>
    since 6.2, forwarded to kernel </td>
    <td>since 6.0, declared start is 5.0 </td>
  </tr>
  <tr>
    <td><span class="declared function">KfLowerIrql</span> </td>
    <td>x86 only <br>
    </td>
    <td>since 6.0, declared start is 5.0 </td>
  </tr>
  <tr>
    <td><span class="declared function">KfRaiseIrql</span> </td>
    <td>x86 only <br>
    </td>
    <td>since 6.0, declared start is 5.0 </td>
  </tr>
  <tr>
    <td><span class="declared function">KfReleaseSpinLock</span> </td>
    <td>x86 only; <br>
    since 6.2, forwarded to kernel </td>
    <td>since 6.0, declared start is 5.0 </td>
  </tr>
</table>
<div class="Footer">
  <p class="Dates">This page was created on 23rd April 2017 from material first 
  published on 14th April 2009. It was last modified on 13th October 2020. </p>
  <!--webbot bot="Include" U-Include="../../_include/c0920.htm" TAG="BODY" startspan -->

<p class="Copyright">Copyright © 2009-2020. Geoff Chappell. All rights reserved. 
<a href="../../../../../about/terms.htm">Conditions apply</a>. </p>

<!--webbot bot="Include" endspan i-checksum="5603" -->
</div>

</body>

</html>
