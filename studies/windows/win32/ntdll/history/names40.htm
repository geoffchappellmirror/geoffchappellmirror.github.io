<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Exports Added For NTDLL 4.0</title>
<link rel="stylesheet" type="text/css" href="../../../../../_styles/master.css">
<link rel="stylesheet" type="text/css" href="../../../../../_styles/document.css">
<link rel="stylesheet" type="text/css" href="../../_styles/win32.css">
<script type="text/javascript" src="../../../../../_scripts/master.js"></script>
<script type="text/javascript" src="../../../../../_scripts/document.js"></script>
<script type="text/javascript" src="../../_scripts/win32.js"></script>
</head>

<body>

<!--webbot bot="Include" U-Include="../../_include/noscript.htm" TAG="BODY" startspan -->

<div class="NoScript" id="Banner">
  <div id="Links">
    <ul class="LinkList">
      <li class="LinkListItem"><a href="../../../../../index.htm"><span>Home</span></a> </li>
      <li class="LinkListItem"><a target="_self" href="../../toc.htm"><span>Table of Contents</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../about/index.htm"><span>About This Site</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../new/index.htm"><span>What’s New?</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../feedback/index.htm"><span>Feedback</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../consult/index.htm"><span>Consult</span></a> </li>
    </ul>
  </div>
  <div id="Logo">
    <p>Geoff Chappell, Software Analyst </p>
  </div>
</div>

<!--webbot bot="Include" endspan i-checksum="21016" -->
<h1>Exports Added For NTDLL 4.0 </h1>
<p>The table below lists the 115 exports that are new to NTDLL in version 4.0. Something 
to note is that a high proportion of these additions were soon rejected, many as 
soon as version 5.0 and most by version 5.1. </p>
<!--webbot bot="Include" U-Include="_include/colours.htm" TAG="BODY" startspan -->

<p>Documentation status is conveyed by colour coding. If you browse with scripting 
enabled, hovering over any text that has a background colour should produce a tooltip 
that explains the formatting. NTDLL exports that have all along had their own non-trivial 
documentation as exports from NTDLL are shown with no background colour. So too 
are the NTDLL implementations of documented functions and variables from the C Run-Time 
Library. If the whole of the documentation is just that the function is reserved 
or obsolete, without even giving a prototype, then the function is
<span class="reserved">highlighted red</span> or <span class="obsolete">highlighted 
pink</span>, respectively. Functions that look to be completely undocumented are
<span class="undocumented">highlighted yellow</span>. If a function is documented 
now but is known not to have been documented immediately, especially in the contemporaneous 
Software Development Kit (SDK), then it is <span class="delayed">shaded yellow</span> 
to retain some of its previous status as undocumented. If the delayed documentation 
came specifically from the function’s listing among the
<a target="_top" href="http://msdn.microsoft.com/library/ms807073.aspx">Settlement 
Program Interfaces</a> in late 2002, then the shading is
<span class="settlement">less yellow</span> since Microsoft at least acknowledged 
that the documentation was late. An undocumented function is
<span class="declared">highlighted orange</span>, as semi-documented, if it is at 
least declared in one or another header file from an SDK or, exceptionally, a Windows 
Driver Kit (WDK). NTDLL is low-level enough that some functions are documented in 
the Windows Driver Kit (WDK), typically as exports from the NT kernel for use by 
ring 0 software such as device drivers, but sometimes with non-specific talk of 
being callable from user mode. Such functions are <span class="wdk">shaded blue</span> 
if they seem always to have had such documentation, but a
<span class="delayedwdk">brighter blue</span> if the WDK documentation was not immediate. 
A function is <span class="lowlevel">shaded grey</span> if it seems not to be documented 
but is known to be the entire low-level implementation of some function in a higher-level 
DLL such as KERNEL32 or ADVAPI32. Identifying these is a work in progress. </p>

<!--webbot bot="Include" endspan i-checksum="38445" -->
<table class="Functions">
  <tr>
    <th>Function </th>
    <th>Remarks </th>
  </tr>
  <tr>
    <td><span class="undocumented function">?Allocate@CBufferAllocator@@UAEPAXK@Z</span> </td>
    <td>discontinued in 5.0 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">KiRaiseUserExceptionDispatcher</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented variable">NlsAnsiCodePage</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">NtAddAtom</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">NtCreateChannel</span> </td>
    <td>discontinued in 5.1 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">NtDeleteAtom</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="declared function">NtDeleteObjectAuditAlarm</span> </td>
    <td>declaration requires Windows XP and higher </td>
  </tr>
  <tr>
    <td><span class="undocumented function">NtFindAtom</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">NtListenChannel</span> </td>
    <td>discontinued in 5.1 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">NtLoadKey2</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">NtOpenChannel</span> </td>
    <td>discontinued in 5.1 </td>
  </tr>
  <tr>
    <td><span class="delayedwdk function">NtQueryFullAttributesFile</span> </td>
    <td>undocumented until 2008-2009; <br>
    documentation requires Windows 2000 and higher; <br>
    not declared </td>
  </tr>
  <tr>
    <td><span class="undocumented function">NtQueryInformationAtom</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="declared function">NtQueryMultipleValueKey</span> </td>
    <td>declared in Windows 10 SDK </td>
  </tr>
  <tr>
    <td><span class="undocumented function">NtQueryOleDirectoryFile</span> </td>
    <td>discontinued in 5.0 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">NtQueueApcThread</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">NtReadFileScatter</span> </td>
    <td>begins from Windows NT 4.0 SP3 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">NtReplyWaitSendChannel</span> </td>
    <td>discontinued in 5.1 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">NtSendWaitReplyChannel</span> </td>
    <td>discontinued in 5.1 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">NtSetContextChannel</span> </td>
    <td>discontinued in 5.1 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">NtSignalAndWaitForSingleObject</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">NtWriteFileGather</span> </td>
    <td>begins from Windows NT 4.0 SP3 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">NtYieldExecution</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">PropertyLengthAsVariant</span> </td>
    <td>discontinued in 6.0 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlAddAtomToAtomTable</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlAddCompoundAce</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlAllocateHandle</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlClosePropertySet</span> </td>
    <td>discontinued in 5.0 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlCompareVariants</span> </td>
    <td>discontinued in 5.0 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlConvertPropertyToVariant</span> </td>
    <td>discontinued in 6.0 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlConvertVariantToProperty</span> </td>
    <td>discontinued in 6.0 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlCreateAtomTable</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlCreatePropertySet</span> </td>
    <td>discontinued in 5.0 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlDeleteAtomFromAtomTable</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="delayedwdk function">RtlDeleteNoSplay</span> </td>
    <td>undocumented until 2000; <br>
    declaration requires Windows 2000 and higher </td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlDestroyAtomTable</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlDestroyHandleTable</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="delayedwdk function">RtlDowncaseUnicodeString</span> </td>
    <td>undocumented until 2000; <br>
    declaration requires Windows 2000 and higher </td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlEmptyAtomTable</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlEnumerateProperties</span> </td>
    <td>discontinued in 5.0 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlFlushPropertySet</span> </td>
    <td>discontinued in 5.0 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlFreeHandle</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlFreeUserThreadStack</span> </td>
    <td>discontinued in 6.0 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlGuidToPropertySetName</span> </td>
    <td>discontinued in 5.0 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlImageRvaToSection</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlImageRvaToVa</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlInitializeAtomPackage</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlInitializeCriticalSectionAndSpinCount</span> </td>
    <td>begins from Windows NT 4.0 SP3 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlInitializeHandleTable</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlIsValidHandle</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlIsValidIndexHandle</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlLookupAtomInAtomTable</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlOnMappedStreamEvent</span> </td>
    <td>begins from Windows NT 4.0 SP3 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlPinAtomInAtomTable</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlPropertySetNameToGuid</span> </td>
    <td>discontinued in 5.0 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlQueryAtomInAtomTable</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlQueryProperties</span> </td>
    <td>discontinued in 5.0 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlQueryPropertyNames</span> </td>
    <td>discontinued in 5.0 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlQueryPropertySet</span> </td>
    <td>discontinued in 5.0 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlSetAttributesSecurityDescriptor</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="lowlevel function">RtlSetCriticalSectionSpinCount</span> </td>
    <td>begins from Windows NT 4.0 SP3; <br>
    forwarded from KERNEL32 function <span class="function">SetCriticalSectionSpinCount</span> in corresponding 4.0, and higher; <br>
    forwarded from KERNELBASE function <span class="function">SetCriticalSectionSpinCount</span> in 6.1 and higher </td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlSetProperties</span> </td>
    <td>discontinued in 5.0 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlSetPropertyNames</span> </td>
    <td>discontinued in 5.0 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlSetPropertySetClassId</span> </td>
    <td>discontinued in 5.0 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlSetUnicodeCallouts</span> </td>
    <td>discontinued in 6.0 </td>
  </tr>
  <tr>
    <td><span class="lowlevel function">RtlTryEnterCriticalSection</span> </td>
    <td>forwarded from KERNEL32 function <span class="function">TryEnterCriticalSection</span> in 4.0 and higher; <br>
    forwarded from KERNELBASE function <span class="function">TryEnterCriticalSection</span> in 6.1 and higher </td>
  </tr>
  <tr>
    <td><span class="declared function">ZwAddAtom</span> </td>
    <td>declared in Windows 10 WDK </td>
  </tr>
  <tr>
    <td><span class="undocumented function">ZwCreateChannel</span> </td>
    <td>discontinued in 5.1 </td>
  </tr>
  <tr>
    <td><span class="declared function">ZwDeleteAtom</span> </td>
    <td>declared in Windows 10 WDK </td>
  </tr>
  <tr>
    <td><span class="declared function">ZwDeleteObjectAuditAlarm</span> </td>
    <td>declared in Windows 10 WDK </td>
  </tr>
  <tr>
    <td><span class="declared function">ZwFindAtom</span> </td>
    <td>declared in Windows 10 WDK </td>
  </tr>
  <tr>
    <td><span class="undocumented function">ZwListenChannel</span> </td>
    <td>discontinued in 5.1 </td>
  </tr>
  <tr>
    <td><span class="declared function">ZwLoadKey2</span> </td>
    <td>declared in Windows 10 WDK </td>
  </tr>
  <tr>
    <td><span class="undocumented function">ZwOpenChannel</span> </td>
    <td>discontinued in 5.1 </td>
  </tr>
  <tr>
    <td><span class="delayedwdk function">ZwQueryFullAttributesFile</span> </td>
    <td>undocumented until 2008-2009; <br>
    documentation requires Windows XP and higher; <br>
    declaration requires Windows 2000 and higher </td>
  </tr>
  <tr>
    <td><span class="declared function">ZwQueryInformationAtom</span> </td>
    <td>declared in Windows 10 WDK </td>
  </tr>
  <tr>
    <td><span class="declared function">ZwQueryMultipleValueKey</span> </td>
    <td>declaration requires Windows 7 and higher </td>
  </tr>
  <tr>
    <td><span class="undocumented function">ZwQueryOleDirectoryFile</span> </td>
    <td>discontinued in 5.0 </td>
  </tr>
  <tr>
    <td><span class="declared function">ZwQueueApcThread</span> </td>
    <td>declared in Windows 10 WDK </td>
  </tr>
  <tr>
    <td><span class="declared function">ZwReadFileScatter</span> </td>
    <td>begins from Windows NT 4.0 SP3; <br>
    declared in Windows 10 WDK </td>
  </tr>
  <tr>
    <td><span class="undocumented function">ZwReplyWaitSendChannel</span> </td>
    <td>discontinued in 5.1 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">ZwSendWaitReplyChannel</span> </td>
    <td>discontinued in 5.1 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">ZwSetContextChannel</span> </td>
    <td>discontinued in 5.1 </td>
  </tr>
  <tr>
    <td><span class="declared function">ZwSignalAndWaitForSingleObject</span> </td>
    <td>declared in Windows 10 WDK </td>
  </tr>
  <tr>
    <td><span class="declared function">ZwWriteFileGather</span> </td>
    <td>begins from Windows NT 4.0 SP3; <br>
    declared in Windows 10 WDK </td>
  </tr>
  <tr>
    <td><span class="declared function">ZwYieldExecution</span> </td>
    <td>declared in Windows 10 WDK </td>
  </tr>
  <tr>
    <td><span class="function">__isascii</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">__iscsym</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">__iscsymf</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">__toascii</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="delayed function">_alldiv</span> </td>
    <td>x86 only; <br>
    undocumented until 2001-2002 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">_allmul</span> </td>
    <td>x86 only </td>
  </tr>
  <tr>
    <td><span class="undocumented function">_allrem</span> </td>
    <td>x86 only </td>
  </tr>
  <tr>
    <td><span class="undocumented function">_allshl</span> </td>
    <td>x86 only </td>
  </tr>
  <tr>
    <td><span class="undocumented function">_allshr</span> </td>
    <td>x86 only </td>
  </tr>
  <tr>
    <td><span class="function">_atoi64</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">_aulldiv</span> </td>
    <td>x86 only </td>
  </tr>
  <tr>
    <td><span class="undocumented function">_aullrem</span> </td>
    <td>x86 only </td>
  </tr>
  <tr>
    <td><span class="undocumented function">_aullshr</span> </td>
    <td>x86 only </td>
  </tr>
  <tr>
    <td><span class="function">_i64toa</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">_i64tow</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">_itow</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">_ltow</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">_tolower</span> </td>
    <td>discontinued in 6.0 </td>
  </tr>
  <tr>
    <td><span class="function">_toupper</span> </td>
    <td>discontinued in 6.0 </td>
  </tr>
  <tr>
    <td><span class="function">_ultow</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">_wtoi</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">_wtoi64</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">_wtol</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">isalnum</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">iscntrl</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">isgraph</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">ispunct</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">strtol</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">strtoul</span> </td>
    <td>&nbsp;</td>
  </tr>
</table>
<h2>Valediction </h2>
<p>Some of the original API does not survive even to version 4.0: </p>
<ul>
  <li><span class="undocumented function">CsrClientMaxMessage</span> </li>
  <li><span class="undocumented function">CsrClientSendMessage</span> </li>
  <li><span class="undocumented function">CsrClientThreadConnect</span> </li>
  <li><span class="undocumented function">CsrpProcessCallbackRequest</span> </li>
  <li><span class="undocumented function">NtEnumerateBus</span> </li>
  <li><span class="undocumented function">NtRegisterNewDevice</span> </li>
  <li><span class="undocumented function">NtReleaseProcessMutant</span> </li>
  <li><span class="undocumented function">NtWaitForProcessMutant</span> </li>
  <li><span class="undocumented function">RtlpInitializeRtl</span> </li>
  <li><span class="undocumented function">ZwEnumerateBus</span> </li>
  <li><span class="undocumented function">ZwRegisterNewDevice</span> </li>
  <li><span class="undocumented function">ZwReleaseProcessMutant</span> </li>
  <li><span class="undocumented function">ZwWaitForProcessMutant</span> </li>
  <li><span class="undocumented function">wcstok</span> </li>
</ul>
<p>Additionally, <span class="undocumented function">NtW32Call</span> and
<span class="undocumented function">ZwW32Call</span> were dropped at SP4. </p>
<div class="Footer">
  <p class="Dates">This page was created on 29th November 2008 and was last modified 
  on 17th April 2016. </p>
  <!--webbot bot="Include" U-Include="../../_include/c0810.htm" TAG="BODY" startspan -->

<p class="Copyright">Copyright © 2008-2010. Geoff Chappell. All rights reserved. 
<a href="../../../../../about/terms.htm">Conditions apply</a>. </p>

<!--webbot bot="Include" endspan i-checksum="5467" -->
</div>

</body>

</html>
