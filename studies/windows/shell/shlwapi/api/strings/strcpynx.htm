<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>StrCpyNX</title>
<link rel="stylesheet" type="text/css" href="../../../../../../_styles/master.css">
<link rel="stylesheet" type="text/css" href="../../../../../../_styles/document.css">
<link rel="stylesheet" type="text/css" href="../../../_styles/shell.css">
<script type="text/javascript" src="../../../../../../_scripts/master.js"></script>
<script type="text/javascript" src="../../../../../../_scripts/document.js"></script>
<script type="text/javascript" src="../../../_scripts/shell.js"></script>
</head>

<body>

<!--webbot bot="Include" U-Include="../../../_include/noscript.htm" TAG="BODY" startspan -->

<div class="NoScript" id="Banner">
  <div id="Links">
    <ul class="LinkList">
      <li class="LinkListItem"><a href="../../../../../../index.htm"><span>Home</span></a> </li>
      <li class="LinkListItem"><a target="_self" href="../../../toc.htm"><span>Table of Contents</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../../about/index.htm"><span>About This Site</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../../new/index.htm"><span>What’s New?</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../../feedback/index.htm"><span>Feedback</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../../consult/index.htm"><span>Consult</span></a> </li>
    </ul>
  </div>
  <div id="Logo">
    <p>Geoff Chappell - Software Analyst </p>
  </div>
</div>

<!--webbot bot="Include" i-checksum="55064" endspan -->
<h1>StrCpyNX </h1>
<p>This function copies as much of an input string as will fit in an output buffer, 
and ensures the output is null-terminated. </p>
<h2>Declaration </h2>
<pre class="source">LPTSTR StrCpyNX (LPTSTR psz1, LPCTSTR psz2, int cchMax);</pre>
<p>The function exists in both ANSI and Unicode forms. </p>
<h3>Parameters </h3>
<p>The <span class="argument">psz1</span> argument is the address of an output buffer 
that is to receive as large a copy as possible of the input string. </p>
<p>The <span class="argument">psz2</span> argument is the address of the input string, 
or is NULL to stand for an empty input string. </p>
<p>The <span class="argument">cchMax</span> argument is the capacity of the output 
buffer, in characters. </p>
<h3>Return Value </h3>
<p>If the function stores a string in the output buffer, it returns the address 
of the null terminator in the output string. Otherwise, function returns
<span class="argument">psz1</span>. </p>
<h2>Behaviour </h2>
<p>If the output buffer’s capacity is not greater than zero, the function has nothing 
to do, and just returns <span class="argument">psz1</span>. </p>
<p>If no input string is given, the function stores a null character in the output 
buffer and is done. Otherwise, the function copies characters one by one from the 
input string to the output buffer up to and including a terminating null or until 
the output buffer is filled to one less than its capacity. The function then null-terminates 
the output (redundantly in the case where it has just copied a terminating null). 
The merit to the return value is apparent if the next step is to append a string 
to the output. </p>
<p>The behaviour is perhaps better treated as undefined if the input string overlaps 
the output buffer: the copy will be correct if the source is higher in memory than 
the destination, but the source may be corrupted. </p>
<h2>Availability </h2>
<p>The <span class="function">StrCpyNX</span> function is exported from SHLWAPI.DLL 
as ordinals 399 and 400 (for ANSI and Unicode forms respectively) in version 5.0 
and higher. </p>
<!--webbot bot="Include" U-Include="../_include/undoc500-2007.htm" TAG="BODY" startspan -->

<p>Though this function dates from as long ago as 1999, it was still not documented 
by Microsoft as late as the January 2007 edition of the Windows Vista Software Development 
Kit (SDK). </p>

<!--webbot bot="Include" i-checksum="62277" endspan -->
<div class="Footer">
  <p class="Dates">This page was created on 8th July 2009 and was last modified 
  on 19th March 2010. </p>
  <!--webbot bot="Include" U-Include="../../../_include/c0910.htm" TAG="BODY" startspan -->

<p class="Copyright">Copyright © 2009-2010. Geoff Chappell. All rights reserved.
<a href="../../../../../../about/terms.htm">Conditions apply</a>. </p>

<!--webbot bot="Include" i-checksum="4439" endspan -->
</div>

</body>

</html>
