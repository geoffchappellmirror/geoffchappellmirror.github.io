<!doctype html>
<html lang="en">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>OBJECT_DIRECTORY_INFORMATION</title>
<link rel="stylesheet" type="text/css" href="../../../../../../../_styles/master.css">
<link rel="stylesheet" type="text/css" href="../../../../../../../_styles/document.css">
<link rel="stylesheet" type="text/css" href="../../../../_styles/km.css">
<script type="text/javascript" src="../../../../../../../_scripts/master.js"></script>
<script type="text/javascript" src="../../../../../../../_scripts/document.js"></script>
<script type="text/javascript" src="../../../../_scripts/km.js" defer></script>
</head>

<body>

<!--webbot bot="Include" U-Include="../../../../_include/noscript.htm" TAG="BODY" startspan -->

<div class="NoScript" id="Banner">
  <div id="Links">
    <ul class="LinkList">
      <li> 
      <ul class="PreferNoWrap">
        <li class="LinkListItem"><a href="../../../../../../../index.htm">Home</a> </li><!--
     --><li class="LinkListItem"><a target="_self" href="../../../../toc.htm">Table of Contents</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../../about/index.htm">About This Site</a> </li>
      </ul>
      <ul class="PreferNoWrap">
        <li class="LinkListItem"><a href="../../../../../../../new/index.htm">What’s New?</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../../feedback/index.htm">Feedback</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../../consult/index.htm">Consult</a> </li>
      </ul>
      </li>
    </ul>
  </div>
  <div id="Logo">
    <p><span class="PreferNoWrap">Geoff Chappell -</span> <span class="PreferNoWrap">Software Analyst</span> </p>
  </div>
</div>

<!--webbot bot="Include" endspan i-checksum="48540" -->
<div class="Main">
  <h1>OBJECT_DIRECTORY_INFORMATION </h1>
  <p>The <span class="struct">OBJECT_DIRECTORY_INFORMATION</span> structure (formally
  <span class="struct">_OBJECT_DIRECTORY_INFORMATION</span>) is a repeating element 
  in what a successful call to <span class="function">ZwQueryDirectoryObject</span> 
  or <span class="function">NtQueryDirectoryObject</span> produces in its output 
  buffer. Each element gives the name and type of an object in the queried directory.
  </p>
  <h2>Documentation Status </h2>
  <p>The <span class="struct">OBJECT_DIRECTORY_INFORMATION</span> structure is not 
  documented. Neither is Microsoft known to have published any C-language declaration 
  in any header from any development kit for either kernel-mode or user-mode programming.
  </p>
  <!--webbot bot="Include" U-Include="../_include/type_info_urlmon.htm" TAG="BODY" startspan -->

<p>Microsoft does publish the practical equivalent of a C-language definition as 
type information in a handful of private symbol files that Microsoft has included 
in packages of public symbol files, starting with Windows 8, and continues to make 
available through Microsoft’s public symbol server. These private symbol files are 
not for the kernel, where the structure is prepared, nor even for low-level user-mode 
DLLs that interpret the structure. They are instead for various higher-level user-mode 
DLLs such as URLMON.DLL. The latter is here singled out because of its origins in 
Internet Explorer and thence for the strong suggestion that Microsoft’s programmers 
of Internet Explorer had access to more details of low-level Windows programming 
than Microsoft publishes for wider use. </p>

<!--webbot bot="Include" endspan i-checksum="1061" -->
  <!--webbot bot="Include" U-Include="../_include/type_info_ddklibs.htm" TAG="BODY" startspan -->

<p>Type information for the structure has also seeped out at the other end of the 
Windows timeline, though not in symbol files but in statically linked libraries: 
GDISRVL.LIB from the Device Driver Kit (DDK) for Windows NT 3.51; and SHELL32.LIB 
from the DDK for Windows NT 4.0. </p>

<!--webbot bot="Include" endspan i-checksum="3859" -->
  <h2>Variability </h2>
  <p>The <span class="struct">OBJECT_DIRECTORY_INFORMATION</span> is 0x10 or 0x20 
  bytes in 32-bit and 64-bit Windows, respectively. These sizes, and the offsets, 
  names and types in the table that follows, are from type information in symbol 
  files: </p>
  <table class="Struct">
    <colgroup>
      <col class="Offset" span="2"><col class="Definition">
      <col class="Versions">
    </colgroup>
    <thead>
      <tr>
        <th>Offset (x86) </th>
        <th>Offset (x64) </th>
        <th>Definition </th>
        <th>Versions </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>0x00 </td>
        <td>0x00 </td>
        <td>
        <pre class="source">UNICODE_STRING Name;</pre>
        </td>
        <td>3.10 and higher </td>
      </tr>
      <tr>
        <td>0x08 </td>
        <td>0x10 </td>
        <td>
        <pre class="source">UNICODE_STRING TypeName;</pre>
        </td>
        <td>3.10 and higher </td>
      </tr>
    </tbody>
  </table>
  <div class="Footer">
    <p class="Dates">This page was created on 27th
    <a href="../../../../../../../new/22/07.htm">August 2022</a>. </p>
    <!--webbot bot="Include" U-Include="../../../../_include/c22.htm" TAG="BODY" startspan -->

<p class="Copyright">Copyright © 2022. Geoff Chappell. All rights reserved. 
<a href="../../../../../../../about/terms.htm">Conditions apply</a>. </p>

<!--webbot bot="Include" endspan i-checksum="5890" -->
  </div>
</div>

</body>

</html>
