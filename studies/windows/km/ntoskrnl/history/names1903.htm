<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Named Kernel Exports Added for Windows 10 Version 1903</title>
<link rel="stylesheet" type="text/css" href="../../../../../_styles/master.css">
<link rel="stylesheet" type="text/css" href="../../../../../_styles/document.css">
<link rel="stylesheet" type="text/css" href="../../_styles/km.css">
<script type="text/javascript" src="../../../../../_scripts/master.js"></script>
<script type="text/javascript" src="../../../../../_scripts/document.js"></script>
<script type="text/javascript" src="../../_scripts/km.js"></script>
</head>

<body>

<!--webbot bot="Include" U-Include="../../_include/noscript.htm" TAG="BODY" startspan -->

<div class="NoScript" id="Banner">
  <div id="Links">
    <ul class="LinkList">
      <li class="LinkListItem"><a href="../../../../../index.htm"><span>Home</span></a> </li>
      <li class="LinkListItem"><a target="_self" href="../../toc.htm"><span>Table of Contents</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../about/index.htm"><span>About This Site</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../new/index.htm"><span>What’s New?</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../feedback/index.htm"><span>Feedback</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../consult/index.htm"><span>Consult</span></a> </li>
    </ul>
  </div>
  <div id="Logo">
    <p>Geoff Chappell, Software Analyst </p>
  </div>
</div>

<!--webbot bot="Include" endspan i-checksum="21016" -->
<h1>Named Kernel Exports Added for Windows 10 Version 1903 </h1>
<p>This page lists the functions and variables that are newly exported
<span class="emphasis">by name</span> from the Windows kernel in the 1903 release 
for Windows 10. Two functions that are new to this release are exported only by 
ordinal and are listed among the <a href="ords100.htm">Ordinal-Only Kernel Exports 
Added for Version 10.0</a>. </p>
<!--webbot bot="Include" U-Include="../../_include/colours.htm" TAG="BODY" startspan -->

<p>For the table below, documentation status is summarised by colour coding so that 
more detail can be given as Remarks with less text. (If you read this website with 
scripts enabled, then hovering the mouse over any coloured text will produce a tooltip 
that shows why the text is coloured.) Functions that have their own non-trivial 
documentation are shown with no background colour. If the function is documented 
as reserved or obsolete, it is <span class="reserved">shaded red</span> or
<span class="obsolete">shaded grey</span>, respectively. Functions that appear to 
be completely undocumented are <span class="undocumented">highlighted yellow</span>. 
If a function is documented now but was not documented in the first contemporaneous 
Device Driver Kit (DDK), Windows Driver Kit (WDK) or Installable File System (IFS) 
Kit, then it is <span class="delayed">shaded yellow</span> to retain some of its 
previous status. Many undocumented functions do at least have C-language declarations 
in one or another header file from the WDK. These are <span class="declared">shaded 
orange</span>, except for one special case. Some declarations are known only from 
“minwin” headers that Microsoft published in early editions of the WDK for Windows 
10 which seem since to have been withdrawn. These are <span class="minwin">highlighted 
orange</span> to indicate that public knowledge even of the declaration is exceptional.
</p>

<!--webbot bot="Include" endspan i-checksum="25498" -->
<table class="Functions">
  <colgroup>
    <col class="Name"><col class="Remarks" span="3">
  </colgroup>
  <tr>
    <th>Name </th>
    <th>Export History </th>
    <th>Documentation History </th>
    <th>Declaration History </th>
  </tr>
  <tr>
    <td><span class="undocumented variable">ExActivationObjectType</span> (data)
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">HvlQueryStartedProcessors</span>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">IoRemoveLinkShareAccessEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>declared start is 1809 </td>
  </tr>
  <tr>
    <td><span class="function">IoUpdateLinkShareAccessEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>declared start is 1809 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">KeAllocateProcessorProfileStructures</span>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">KeSetTracepoint</span> </td>
    <td>x64 only </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">MmAllocateMemoryRanges</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">MmConfigureGraphicsPtes</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">MmFreeMemoryRanges</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">MmGetPageBadStatus</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">MmQueryMemoryRanges</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">MmSecureVirtualMemoryEx</span> </td>
    <td>&nbsp;</td>
    <td>documented start is 1809 </td>
    <td>declared start is 1809 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">ObCreateObjectTypeEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">PoFxCompleteDirectedPowerDown</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>declared start is 1809 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlConstructCrossVmEventPath</span>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlCreateUnicodeStringFromAsciiz</span>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">RtlFillMemoryNonTemporal</span> </td>
    <td>x64 only </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">RtlFillNonVolatileMemory</span> </td>
    <td>x64 only </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlGetMultiTimePrecise</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlInterlockedClearBitRunEx</span>
    </td>
    <td>x64 only </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlInterlockedSetBitRunEx</span>
    </td>
    <td>x64 only </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlNumberOfSetBitsInRangeEx</span>
    </td>
    <td>x64 only </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlUdiv128</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
</table>
<p>It’s not the ordinary practice for this survey to say anything for the Documentation 
History or Declaration History if what Microsoft says is correct or if Microsoft 
says nothing. Either ought to be completely unremarkable. But of the functions that 
are newly exported from the kernel in Version 1903, so few are documented or have 
declarations in any WDK header, and of these few almost all are said by Microsoft 
to be available in Version 1809. So, perhaps it’s as well to spell out that for
<span class="function">RtlFillMemoryNonTemporal</span> Microsoft gives no version 
information but that versions are specified for <span class="function">RtlFillNonVolatileMemory</span> 
and are correct! </p>
<table class="Functions">
  <colgroup>
    <col class="Name"><col class="Remarks">
  </colgroup>
  <tr>
    <th>Name </th>
    <th>Documentation History </th>
  </tr>
  <tr>
    <td><span class="undocumented function">SeSetSessionIdTokenWithLinked</span>
    </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="delayed function">WheaAddErrorSourceDeviceDriver</span>
    </td>
    <td>before 2004, <span class="declared">declared</span> <br>
    documented start is 2004 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">WheaAttemptClearPoison</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="reserved function">WheaHighIrqlLogSelEventHandlerRegister</span>
    </td>
    <td>before late 2019, <span class="declared">declared</span> </td>
  </tr>
  <tr>
    <td><span class="reserved function">WheaHighIrqlLogSelEventHandlerUnregister</span>
    </td>
    <td>before late 2019, <span class="declared">declared</span> </td>
  </tr>
  <tr>
    <td><span class="reserved function">WheaRemoveErrorSource</span> </td>
    <td>before late 2019, <span class="declared">declared</span> </td>
  </tr>
  <tr>
    <td><span class="delayed function">WheaRemoveErrorSourceDeviceDriver</span>
    </td>
    <td>before 2004, <span class="declared">declared</span> <br>
    documented start is 2004 </td>
  </tr>
  <tr>
    <td><span class="function">WheaReportHwErrorDeviceDriver</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="reserved function">WheaUnconfigureErrorSource</span> </td>
    <td>before late 2019, <span class="declared">declared</span> </td>
  </tr>
</table>
<p>The <span class="delayed function">WheaAddErrorSourceDeviceDriver</span> function 
that is documented at Microsoft’s website today, 14th October 2020, is not the same-named 
function that is newly exported from the Version 1903 kernel. It is instead what 
the function was changed to for the 2004 release. In this sense, Microsoft’s documentation, 
dated 1st April 2020, is correct that the function requires at least Version 2004. 
This is a very rare case of a documented function being changed incompatibly. The 
original has four arguments. The new has three. The original continues to be exported 
from the kernel in Version 2004 but with the new name <span class="function">WheaAddErrorSourceDeviceDriverV1</span>.
</p>
<p>Having not looked for <span class="delayed function">WheaAddErrorSourceDeviceDriver</span> 
at Microsoft’s website in 2019, I can’t say certainly that its original form wasn’t 
documented for the 1903 release, but I detect a strong suggestion. The function’s 
obvious partner, <span class="delayed function">WheaRemoveErrorSourceDeviceDriver</span>, 
did not change for the 2004 release yet Microsoft dates this function’s documentation 
to 28th April 2020, not to 2019. Contrast with <span class="function">WheaReportHwErrorDeviceDriver</span>, 
whose documentation is dated 5th March 2019 (and says correctly that the function’s 
availabilty starts at 1903). </p>
<p>From Microsoft’s own dates, documentation of four new
<span class="functionprefix">Whea</span> functions as reserved did not happen until 
19th August 2019. This is too late to count as documentation for the 1903 release. 
They do all have declarations, however, in NTDDK.H from the WDK for Windows 10 Version 
1903. </p>
<table class="Functions">
  <colgroup>
    <col class="Name"><col class="Remarks">
  </colgroup>
  <tr>
    <th>Name </th>
    <th>Documentation History </th>
  </tr>
  <tr>
    <td><span class="minwin function">ZwSystemDebugControl</span> </td>
    <td>&nbsp;</td>
  </tr>
</table>
<p>As with many <span class="functionprefix">Zw</span> functions,
<span class="minwin function">ZwSystemDebugControl</span> has earlier history as 
a user-mode export from NTDLL.DLL—indeed, in this case all the way back to version 
3.10. A declaration thus appears in the ZWAPI.H header that Microsoft published 
only in early editions of the WDK for Windows 10. It would otherwise be
<span class="undocumented">undocumented</span>. </p>
<h2>Discontinued </h2>
<p>The 1903 release of the Windows 10 kernel stops exporting three functions. All 
had only brief lives. The versions in parentheses tells when the functions were 
first exported: </p>
<ul>
  <li><span class="undocumented function">PoFxCompleteDirectedPowerTransition</span> 
  (1809); </li>
  <li><span class="undocumented function">PoFxRegisterInternalDevice</span> (1809);
  </li>
  <li><span class="undocumented function">PoReportDirectedDripsCandidateDevice</span> 
  (1803). </li>
</ul>
<div class="Footer">
  <p class="Dates">This page was created on 10th October 2020 but was not published 
  until 26th <a href="../../../../../new/20/10.htm">October 2020</a>. </p>
  <!--webbot bot="Include" U-Include="../../_include/c20.htm" TAG="BODY" startspan -->

<p class="Copyright">Copyright © 2020. Geoff Chappell. All rights reserved. 
<a href="../../../../../about/terms.htm">Conditions apply</a>. </p>

<!--webbot bot="Include" endspan i-checksum="46495" -->
</div>

</body>

</html>
