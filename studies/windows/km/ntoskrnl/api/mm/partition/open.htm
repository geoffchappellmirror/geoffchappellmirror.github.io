<!doctype html>
<html lang="en">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>NtOpenPartition</title>
<link rel="stylesheet" type="text/css" href="../../../../../../../_styles/master.css">
<link rel="stylesheet" type="text/css" href="../../../../../../../_styles/document.css">
<link rel="stylesheet" type="text/css" href="../../../../_styles/km.css">
<script type="text/javascript" src="../../../../../../../_scripts/master.js"></script>
<script type="text/javascript" src="../../../../../../../_scripts/document.js"></script>
<script type="text/javascript" src="../../../../_scripts/km.js" defer></script>
</head>

<body>

<!--webbot bot="Include" U-Include="../../../../_include/noscript.htm" TAG="BODY" startspan -->

<div class="NoScript" id="Banner">
  <div id="Links">
    <ul class="LinkList">
      <li> 
      <ul class="PreferNoWrap">
        <li class="LinkListItem"><a href="../../../../../../../index.htm">Home</a> </li><!--
     --><li class="LinkListItem"><a target="_self" href="../../../../toc.htm">Table of Contents</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../../about/index.htm">About This Site</a> </li>
      </ul>
      <ul class="PreferNoWrap">
        <li class="LinkListItem"><a href="../../../../../../../new/index.htm">What’s New?</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../../feedback/index.htm">Feedback</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../../consult/index.htm">Consult</a> </li>
      </ul>
      </li>
    </ul>
  </div>
  <div id="Logo">
    <p><span class="PreferNoWrap">Geoff Chappell -</span> <span class="PreferNoWrap">Software Analyst</span> </p>
  </div>
</div>

<!--webbot bot="Include" endspan i-checksum="48540" -->
<div class="Main">
  <!--webbot bot="Include" U-Include="../../../../_include/sketch.htm" TAG="BODY" startspan -->

<div class="Header">
  <p class="alert">SKETCH OF HOW RESEARCH MIGHT CONTINUE AND RESULTS BE PRESENTED
  </p>
</div>

<!--webbot bot="Include" endspan i-checksum="5204" -->
  <h1>NtOpenPartition </h1>
  <p>This function opens a memory partition. </p>
  <h2>Declaration </h2>
  <pre class="source">NTSTATUS 
NtOpenPartition (
    HANDLE *PartitionHandle, 
    ULONG DesiredAccess, 
    POBJECT_ATTRIBUTES ObjectAttributes);</pre>
  <h3>Parameters </h3>
  <p>The <span class="argument">PartitionHandle</span> argument is the address of 
  a variable that is to receive a handle to the opened partition. </p>
  <p>The <span class="argument">DesiredAccess</span> argument is an access mask 
  of generic, standard and specific rights that are wanted to the opened partition. 
  The specific rights that are defined for partitions are <span class="constant">
  MEMORY_PARTITION_QUERY_ACCESS</span> (0x0001) and <span class="constant">MEMORY_PARTITION_MODIFY_ACCESS</span> 
  (0x0002). </p>
  <p>The <span class="argument">ObjectAttributes</span> argument specifies a name 
  and other properties for the opened partition. </p>
  <h3>Return Value </h3>
  <p>The function returns <span class="constant">STATUS_SUCCESS</span> if successful, 
  else a negative error code. </p>
  <h2>Availability </h2>
  <p>The <span class="function">NtOpenPartition</span> function and its alias
  <span class="function">ZwOpenPartition</span> are exported by name from NTDLL 
  in version 10.0 and higher. In kernel mode, where <span class="function">ZwOpenPartition</span> 
  is a stub and <span class="function">NtOpenPartition</span> is the implementation, 
  neither is exported until the 1607 release of Windows exports the stub. </p>
  <p>For all practical effect before Version 1703, the functions are available only 
  in 64-bit Windows: the functions are exported in 32-bit Windows but the 32-bit 
  kernel’s implementation in the early versions of Windows 10 trivially returns
  <span class="constant">STATUS_NOT_SUPPORTED</span>. </p>
  <h2>Documentation Status </h2>
  <p>Neither <span class="function">NtOpenPartition</span> nor its alias is documented. 
  As <span class="function">ZwOpenPartition</span>, it is declared in a header named 
  ZWAPI.H which Microsoft published, possibly by mistake, in the Windows Driver 
  Kit (WDK) for the original and 1511 editions of Windows 10. </p>
  <p>The specific access rights for partitions are defined symbolically in both 
  WDM.H and WINNT.H from those same editions of the WDK, continuing up to and including 
  for Version 1703, and then they’re gone. </p>
  <div class="Footer">
    <p class="Dates">This page was created on 15th
    <a href="../../../../../../../new/16/07.htm">July 2016</a> and was last modified 
    on 14th <a href="../../../../../../../new/22/07.htm">August 2022</a>. </p>
    <!--webbot bot="Include" U-Include="../../../../_include/c1622.htm" TAG="BODY" startspan -->

<p class="Copyright">Copyright © 2016-2022. Geoff Chappell. All rights reserved. 
<a href="../../../../../../../about/terms.htm">Conditions apply</a>. </p>

<!--webbot bot="Include" endspan i-checksum="4925" -->
  </div>
</div>

</body>

</html>
