<!doctype html>
<html lang="en">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>MI_PARTITION_COMMIT</title>
<link rel="stylesheet" type="text/css" href="../../../../../../../_styles/master.css">
<link rel="stylesheet" type="text/css" href="../../../../../../../_styles/document.css">
<link rel="stylesheet" type="text/css" href="../../../../_styles/km.css">
<script type="text/javascript" src="../../../../../../../_scripts/master.js"></script>
<script type="text/javascript" src="../../../../../../../_scripts/document.js"></script>
<script type="text/javascript" src="../../../../_scripts/km.js" defer></script>
</head>

<body>

<!--webbot bot="Include" U-Include="../../../../_include/noscript.htm" TAG="BODY" startspan -->

<div class="NoScript" id="Banner">
  <div id="Links">
    <ul class="LinkList">
      <li> 
      <ul class="PreferNoWrap">
        <li class="LinkListItem"><a href="../../../../../../../index.htm">Home</a> </li><!--
     --><li class="LinkListItem"><a target="_self" href="../../../../toc.htm">Table of Contents</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../../about/index.htm">About This Site</a> </li>
      </ul>
      <ul class="PreferNoWrap">
        <li class="LinkListItem"><a href="../../../../../../../new/index.htm">What’s New?</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../../feedback/index.htm">Feedback</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../../consult/index.htm">Consult</a> </li>
      </ul>
      </li>
    </ul>
  </div>
  <div id="Logo">
    <p><span class="PreferNoWrap">Geoff Chappell -</span> <span class="PreferNoWrap">Software Analyst</span> </p>
  </div>
</div>

<!--webbot bot="Include" endspan i-checksum="48540" -->
<div class="Main">
  <h1>MI_PARTITION_COMMIT </h1>
  <p>The <span class="struct">MI_PARTITION_COMMIT</span> structure (formally
  <span class="struct">_MI_PARTITION_COMMIT</span>) is here thought to exist only 
  as a subdivision of the <span class="struct"><a href="mi_partition.htm">MI_PARTITION</a></span>, 
  specifically as the latter’s <span class="member">Commit</span> member. </p>
  <h2>Variability </h2>
  <p>Though the <span class="struct">MI_PARTITION_COMMIT</span> structure is an 
  implementation detail and can be expected to change between builds, it has not 
  changed nearly as much as might be thought from taking its changes of size as 
  a rough measure: </p>
  <table class="Sizes">
    <colgroup>
      <col class="Version"><col class="Size" span="2">
    </colgroup>
    <thead>
      <tr>
        <th>Version </th>
        <th>Size (x86) </th>
        <th>Size (x64) </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>10.0 </td>
        <td>0x20 </td>
        <td>0x38 </td>
      </tr>
      <tr>
        <td>1511 to 1903 </td>
        <td>0x80 </td>
        <td>0x80 </td>
      </tr>
      <tr>
        <td>2004 </td>
        <td>0x24 </td>
        <td>0x40 </td>
      </tr>
    </tbody>
  </table>
  <p>What’s hidden here is that the only change thus far to the structure is for 
  one new member. It was cache-aligned when added for Version 1511 and then a slight 
  redefinition (removal of <span class="keyword">volatile</span>) for Version 2004 
  removed the cache-alignment. </p>
  <h2>Layout </h2>
  <p>The sizes in the preceding table and the offsets, names and types in the next 
  are from type information in public symbol files for the kernel. </p>
  <table class="Struct">
    <colgroup>
      <col class="Offset" span="2"><col class="Definition">
      <col class="Versions">
    </colgroup>
    <thead>
      <tr>
        <th>Offset (x86) </th>
        <th>Offset (x64) </th>
        <th>Definition </th>
        <th>Versions </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>0x00 </td>
        <td>0x00 </td>
        <td>
        <pre class="source">ULONG_PTR PeakCommitment;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0x04 </td>
        <td>0x08 </td>
        <td>
        <pre class="source">ULONG_PTR TotalCommitLimitMaximum;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0x08 </td>
        <td>0x10 &nbsp;</td>
        <td>
        <pre class="source">LONG volatile Popups [2];</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0x10 </td>
        <td>0x18 </td>
        <td>
        <pre class="source">ULONG_PTR LowCommitThreshold;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0x14 </td>
        <td>0x20 </td>
        <td>
        <pre class="source">ULONG_PTR HighCommitThreshold;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0x18 </td>
        <td>0x28 </td>
        <td>
        <pre class="source">KSPIN_LOCK EventLock;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0x1C </td>
        <td>0x30 </td>
        <td>
        <pre class="source">ULONG_PTR SystemCommitReserve;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td rowspan="2">0x40 (1511 to 1903); <br>
        0x20 </td>
        <td rowspan="2">0x40 (1511 to 1903); <br>
        0x38 </td>
        <td>
        <pre class="source">ULONG_PTR volatile OverCommit;</pre>
        </td>
        <td>1511 to 1903 </td>
      </tr>
      <tr>
        <td>
        <pre class="source">ULONG_PTR OverCommit;</pre>
        </td>
        <td>2004 and higher </td>
      </tr>
    </tbody>
  </table>
  <div class="Footer">
    <p class="Dates">This page was created on 14th July 2016 and was last modified 
    on 31st <a href="../../../../../../../new/22/07.htm">August 2022</a>. </p>
    <!--webbot bot="Include" U-Include="../../../../_include/c1622.htm" TAG="BODY" startspan -->

<p class="Copyright">Copyright © 2016-2022. Geoff Chappell. All rights reserved. 
<a href="../../../../../../../about/terms.htm">Conditions apply</a>. </p>

<!--webbot bot="Include" endspan i-checksum="4925" -->
  </div>
</div>

</body>

</html>
