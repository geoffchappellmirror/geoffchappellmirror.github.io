<!doctype html>
<html lang="en">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>ETW_SILODRIVERSTATE</title>
<link rel="stylesheet" type="text/css" href="../../../../../../../_styles/master.css">
<link rel="stylesheet" type="text/css" href="../../../../../../../_styles/document.css">
<link rel="stylesheet" type="text/css" href="../../../../_styles/km.css">
<script type="text/javascript" src="../../../../../../../_scripts/master.js"></script>
<script type="text/javascript" src="../../../../../../../_scripts/document.js"></script>
<script type="text/javascript" src="../../../../_scripts/km.js" defer></script>
</head>

<body>

<!--webbot bot="Include" U-Include="../../../../_include/noscript.htm" TAG="BODY" startspan -->

<div class="NoScript" id="Banner">
  <div id="Links">
    <ul class="LinkList">
      <li> 
      <ul class="PreferNoWrap">
        <li class="LinkListItem"><a href="../../../../../../../index.htm">Home</a> </li><!--
     --><li class="LinkListItem"><a target="_self" href="../../../../toc.htm">Table of Contents</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../../about/index.htm">About This Site</a> </li>
      </ul>
      <ul class="PreferNoWrap">
        <li class="LinkListItem"><a href="../../../../../../../new/index.htm">What’s New?</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../../feedback/index.htm">Feedback</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../../consult/index.htm">Consult</a> </li>
      </ul>
      </li>
    </ul>
  </div>
  <div id="Logo">
    <p><span class="PreferNoWrap">Geoff Chappell -</span> <span class="PreferNoWrap">Software Analyst</span> </p>
  </div>
</div>

<!--webbot bot="Include" endspan i-checksum="48540" -->
<div class="Main">
  <!--webbot bot="Include" U-Include="../../../../_include/placeholder.htm" TAG="BODY" startspan -->

<div class="Header">
  <p class="alert">PLACEHOLDER FOR WORK THAT MAY NEVER BE DONE - PREVIEW ONLY </p>
</div>

<!--webbot bot="Include" endspan i-checksum="62046" -->
  <h1>ETW_SILODRIVERSTATE </h1>
  <p>The <span class="struct">ETW_SILODRIVERSTATE</span> structure is the state 
  that Event Tracing for Windows (ETW) keeps separately for each silo. </p>
  <h2>Documentation Status </h2>
  <p>The <span class="struct">ETW_SILODRIVERSTATE</span> structure is not documented.
  </p>
  <h2>Layout </h2>
  <p>Given that Microsoft discloses relatively little architectural detail about 
  silos, it should not surprise that the <span class="struct">ETW_SILODRIVERSTATE</span> 
  changes even between the half-yearly releases of Windows 10. </p>
  <table class="Sizes">
    <colgroup>
      <col class="Version"><col class="Size" span="2">
    </colgroup>
    <thead>
      <tr>
        <th>Version </th>
        <th>Size (x86) </th>
        <th>Size (x64) </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>10.0 </td>
        <td>0x0190 </td>
        <td>0x01B0 </td>
      </tr>
      <tr>
        <td>1511 to 1607 </td>
        <td>0x0A80 </td>
        <td>0x13A8 </td>
      </tr>
      <tr>
        <td>1703 </td>
        <td>0x0AC0 </td>
        <td>0x13F8 </td>
      </tr>
      <tr>
        <td>1709 </td>
        <td>0x0A48 </td>
        <td>0x1190 </td>
      </tr>
      <tr>
        <td>1803 to 1809 </td>
        <td>0x0A70 </td>
        <td>0x11C0 </td>
      </tr>
      <tr>
        <td>1903 </td>
        <td>0x0A90 </td>
        <td>0x11F8 </td>
      </tr>
      <tr>
        <td>2004 </td>
        <td>0x0AA8 </td>
        <td>0x1220 </td>
      </tr>
    </tbody>
  </table>
  <p>The preceding sizes, and the offsets, types and names in the table below are 
  from public symbol files for the kernel. </p>
  <table class="Struct">
    <colgroup>
      <col class="Offset" span="2"><col class="Definition">
      <col class="Versions"><col class="Remarks">
    </colgroup>
    <thead>
      <tr>
        <th>Offset (x86) </th>
        <th>Offset (x64) </th>
        <th>Definition </th>
        <th>Versions </th>
        <th>Remarks </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>0x00 (10.0) </td>
        <td>0x00 (10.0) </td>
        <td>
        <pre class="source">ULONG EtwpSecurityProviderPID;</pre>
        </td>
        <td>10.0 only </td>
        <td>next at 0x0A7C and 0x13A4 </td>
      </tr>
      <tr>
        <td>0x00 </td>
        <td>0x00 </td>
        <td>
        <pre class="source"><a href="../ps/ejob/index.htm">EJOB</a> *Silo;</pre>
        </td>
        <td>1803 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x00 (1703 to 1709); <br>
        0x04 </td>
        <td>0x00 (1703 to 1709); <br>
        0x08 </td>
        <td>
        <pre class="source"><a href="../ps/eserversilo_globals.htm">ESERVERSILO_GLOBALS</a> *SiloGlobals;</pre>
        </td>
        <td>1703 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x04 (1709); <br>
        0x08 </td>
        <td>0x08 (1709); <br>
        0x10 </td>
        <td>
        <pre class="source">ULONG MaxLoggers;</pre>
        </td>
        <td>1709 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x08 (10.0); <br>
        0x00 (1511 to 1607); <br>
        0x08 (1703 to 1709); <br>
        0x10 </td>
        <td>0x08 (10.0); <br>
        0x00 (1511 to 1607); <br>
        0x08 (1703); <br>
        0x10 (1709); <br>
        0x18 </td>
        <td>
        <pre class="source"><a href="etw_guid_entry.htm">ETW_GUID_ENTRY</a> EtwpSecurityProviderGuidEntry;</pre>
        </td>
        <td>10.0 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x0168 (10.0) </td>
        <td>0x0188 (10.0) </td>
        <td>
        <pre class="source">ULONG AuditLoggerId;</pre>
        </td>
        <td>10.0 only </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x0170 (10.0) </td>
        <td>0x0190 (10.0) </td>
        <td>
        <pre class="source">REGHANDLE EtwPsProvRegHandle;</pre>
        </td>
        <td>10.0 only </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x0168 (1511 to 1607); <br>
        0x0170 (1703 to 1709); <br>
        0x0178 (1803 to 1903); <br>
        0x0188 </td>
        <td>0x0190 (1511 to 1607); <br>
        0x0198 (1703); <br>
        0x01A0 (1709); <br>
        0x01A8 (1803 to 1903); <br>
        0x01C0 </td>
        <td>
        <pre class="source">EX_RUNDOWN_REF_CACHE_AWARE EtwpLoggerRundown [0x10];</pre>
        </td>
        <td>1511 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td rowspan="2">0x0268 (1511 to 1607); <br>
        0x0270 (1703); <br>
        0x0174 (1709); <br>
        0x017C (1803 to 1903); <br>
        0x018C </td>
        <td rowspan="2">0x0390 (1511 to 1607); <br>
        0x0398 (1703); <br>
        0x01A8 (1709); <br>
        0x01B0 (1803 to 1903); <br>
        0x01C8 </td>
        <td>
        <pre class="source"><a href="wmi_logger_context/index.htm">WMI_LOGGER_CONTEXT</a> *WmipLoggerContext [0x40];</pre>
        </td>
        <td>1511 to 1703 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>
        <pre class="source">WMI_LOGGER_CONTEXT **EtwpLoggerContext;</pre>
        </td>
        <td>1709 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x0368 (1511 to 1607); <br>
        0x0370 (1703); <br>
        0x0178 (1709); <br>
        0x0180 (1803 to 1903); <br>
        0x0190 </td>
        <td>0x0590 (1511 to 1607); <br>
        0x0598 (1703); <br>
        0x01B0 (1709); <br>
        0x01B8 (1803 to 1903); <br>
        0x01D0 </td>
        <td>
        <pre class="source"><a href="../../../api/etw/register/hash_bucket.htm">ETW_HASH_BUCKET</a> EtwpGuidHashTable [0x40];</pre>
        </td>
        <td>1511 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x0178 (10.0); <br>
        0x0A68 (1511 to 1607); <br>
        0x0A70 (1703); <br>
        0x0878 (1709); <br>
        0x0880 (1803 to 1903); <br>
        0x0890 </td>
        <td>0x0198 (10.0); <br>
        0x1390 (1511 to 1607); <br>
        0x1398 (1703); <br>
        0x0FB0 (1709); <br>
        0x0FB8 (1803 to 1903); <br>
        0x0FD0 </td>
        <td>
        <pre class="source">USHORT EtwpSecurityLoggers [8];</pre>
        </td>
        <td>10.0 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x0188 (10.0); <br>
        0x0A78 (1511 to 1607); <br>
        0x0A80 (1703); <br>
        0x0888 (1709); <br>
        0x0890 (1803 to 1903); <br>
        0x08A0 </td>
        <td>0x01A8 (10.0); <br>
        0x13A0 (1511 to 1607); <br>
        0x13A8 (1703); <br>
        0x0FC0 (1709); <br>
        0x0FC8 (1803 to 1903); <br>
        0x0FE0 </td>
        <td>
        <pre class="source">UCHAR EtwpSecurityProviderEnableMask;</pre>
        </td>
        <td>10.0 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td rowspan="2">0x0189 (10.0); <br>
        0x0A79 (1511 to 1607); <br>
        0x0A84 (1703); <br>
        0x088C (1709); <br>
        0x0894 (1803 to 1903); <br>
        0x08A4 </td>
        <td rowspan="2">0x01A9 (10.0); <br>
        0x13A1 (1511 to 1607); <br>
        0x13AC (1703); <br>
        0x0FC4 (1709); <br>
        0x0FCC (1803 to 1903); <br>
        0x0FE4 </td>
        <td>
        <pre class="source">BOOLEAN EtwpShutdownInProgress;</pre>
        </td>
        <td>10.0 to 1607 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>
        <pre class="source">LONG EtwpShutdownInProgress;</pre>
        </td>
        <td>1703 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x0A7C (1511 to 1607); <br>
        0x0A88 (1703); <br>
        0x0890 (1709); <br>
        0x0898 (1803 to 1903); <br>
        0x08A8 </td>
        <td>0x13A4 (1511 to 1607); <br>
        0x13B0 (1703); <br>
        0x0FC8 (1709); <br>
        0x0FD0 (1803 to 1903); <br>
        0x0FE8 </td>
        <td>
        <pre class="source">ULONG EtwpSecurityProviderPID;</pre>
        </td>
        <td>1511 and higher </td>
        <td>previously at 0x00 </td>
      </tr>
      <tr>
        <td>0x0A8C (1703); <br>
        0x0894 (1709); <br>
        0x089C (1803 to 1903); <br>
        0x08AC </td>
        <td>0x13B8 (1703); <br>
        0x0FD0 (1709); <br>
        0x0FD8 (1803 to 1903); <br>
        0x0FF0 </td>
        <td>
        <pre class="source">ETW_PRIV_HANDLE_DEMUX_TABLE PrivHandleDemuxTable;</pre>
        </td>
        <td>1703 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x0A9C (1703); <br>
        0x08A4 (1709); <br>
        0x08AC (1803 to 1903); <br>
        0x08BC </td>
        <td>0x13D8 (1703); <br>
        0x0FF0 (1709); <br>
        0x0FF8 (1803 to 1903); <br>
        0x1010 </td>
        <td>
        <pre class="source">ETW_COUNTERS EtwpCounters;</pre>
        </td>
        <td>1703 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x0AB0 (1703); <br>
        0x08B8 (1709); <br>
        0x08C0 (1803 to 1903); <br>
        0x08D0 </td>
        <td>0x13E8 (1703); <br>
        0x1000 (1709); <br>
        0x1008 (1803 to 1903); <br>
        0x1020 </td>
        <td>
        <pre class="source">LARGE_INTEGER LogfileBytesWritten;</pre>
        </td>
        <td>1703 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x0AB8 (1703); <br>
        0x08C0 (1709); <br>
        0x08C8 (1803 to 1903); <br>
        0x08D8 </td>
        <td>0x13F0 (1703); <br>
        0x1008 (1709); <br>
        0x1010 (1803 to 1903); <br>
        0x1028 </td>
        <td>
        <pre class="source">ETW_SILO_TRACING_BLOCK *ProcessorBlocks;</pre>
        </td>
        <td>1703 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x08CC (1803 to 1903); <br>
        0x08DC </td>
        <td>0x1018 (1803 to 1903); <br>
        0x1030 </td>
        <td>
        <pre class="source">EX_WNF_SUBSCRIPTION *ContainerRestoreWnfSubscription;</pre>
        </td>
        <td>1803 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x08C4 (1709); <br>
        0x08D0 (1803 to 1903); <br>
        0x08E0 </td>
        <td>0x1010 (1709); <br>
        0x1020 (1803 to 1903); <br>
        0x1038 </td>
        <td>
        <pre class="source">GUID PartitionId;</pre>
        </td>
        <td>1709 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x08D4 (1709); <br>
        0x08E0 (1803 to 1903); <br>
        0x08F0 </td>
        <td>0x1020 (1709); <br>
        0x1030 (1803 to 1903); <br>
        0x1048 </td>
        <td>
        <pre class="source">GUID ParentId;</pre>
        </td>
        <td>1709 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x08E8 (1709); <br>
        0x08F0 (1803 to 1903); <br>
        0x0900 </td>
        <td>0x1030 (1709); <br>
        0x1040 (1803 to 1903); <br>
        0x1058 </td>
        <td>
        <pre class="source">LARGE_INTEGER QpcOffsetFromRoot;</pre>
        </td>
        <td>1709 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x0908 </td>
        <td>0x1060 </td>
        <td>
        <pre class="source">PSTR PartitionName;</pre>
        </td>
        <td>2004 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x090C </td>
        <td>0x1068 </td>
        <td>
        <pre class="source">USHORT PartitionNameSize;</pre>
        </td>
        <td>2004 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x090E </td>
        <td>0x106A </td>
        <td>
        <pre class="source">USHORT UnusedPadding;</pre>
        </td>
        <td>2004 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x08F0 (1709); <br>
        0x08F8 (1803 to 1903); <br>
        0x0910 </td>
        <td>0x1038 (1709); <br>
        0x1048 (1803 to 1903); <br>
        0x106C </td>
        <td>
        <pre class="source">ULONG PartitionType;</pre>
        </td>
        <td>1709 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x08F4 (1709); <br>
        0x08FC (1803 to 1903); <br>
        0x0914 </td>
        <td>0x103C (1709); <br>
        0x104C (1803 to 1903); <br>
        0x1070 </td>
        <td>
        <pre class="source">ETW_SYSTEM_LOGGER_SETTINGS SystemLoggerSettings;</pre>
        </td>
        <td>1709 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x0A70 (1903); <br>
        0x0A88 </td>
        <td>0x11C0 (1903); <br>
        0x11E8 </td>
        <td>
        <pre class="source">KMUTANT EtwpStartTraceMutex;</pre>
        </td>
        <td>1903 and higher </td>
        <td>&nbsp;</td>
      </tr>
    </tbody>
  </table>
  <p><span class="alert">TO BE DONE?</span> </p>
  <div class="Footer">
    <p class="Dates">This page was created on 5th April 2020 but was not published 
    until 28th <a href="../../../../../../../new/20/05.htm">May 2020</a>. It was 
    last modified on 17th October 2022. </p>
    <!--webbot bot="Include" U-Include="../../../../_include/c2022.htm" TAG="BODY" startspan -->

<p class="Copyright">Copyright © 2020-2022. Geoff Chappell. All rights reserved. 
<a href="../../../../../../../about/terms.htm">Conditions apply</a>. </p>

<!--webbot bot="Include" endspan i-checksum="4221" -->
  </div>
</div>

</body>

</html>
