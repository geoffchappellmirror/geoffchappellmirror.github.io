<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>SYSTEM_DOCK_INFORMATION</title>
<link rel="stylesheet" type="text/css" href="../../../../../../../_styles/master.css">
<link rel="stylesheet" type="text/css" href="../../../../../../../_styles/document.css">
<link rel="stylesheet" type="text/css" href="../../../../_styles/km.css">
<script type="text/javascript" src="../../../../../../../_scripts/master.js"></script>
<script type="text/javascript" src="../../../../../../../_scripts/document.js"></script>
<script type="text/javascript" src="../../../../_scripts/km.js"></script>
</head>

<body>

<!--webbot bot="Include" U-Include="../../../../_include/noscript.htm" TAG="BODY" startspan -->

<div class="NoScript" id="Banner">
  <div id="Links">
    <ul class="LinkList">
      <li class="LinkListItem"><a href="../../../../../../../index.htm"><span>Home</span></a> </li>
      <li class="LinkListItem"><a target="_self" href="../../../../toc.htm"><span>Table of Contents</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../../../about/index.htm"><span>About This Site</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../../../new/index.htm"><span>What’s New?</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../../../feedback/index.htm"><span>Feedback</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../../../consult/index.htm"><span>Consult</span></a> </li>
    </ul>
  </div>
  <div id="Logo">
    <p>Geoff Chappell, Software Analyst </p>
  </div>
</div>

<!--webbot bot="Include" endspan i-checksum="29544" -->
<h1>SYSTEM_DOCK_INFORMATION </h1>
<p>The <span class="struct">SYSTEM_DOCK_INFORMATION</span> structure may be what 
a successful call to <span class="function"><a href="query.htm">ZwQuerySystemInformation</a></span> 
or <span class="function">NtQuerySystemInformation</span> would produce in its output 
buffer when given the information class <span class="constant">SystemDockInformation</span> 
(0x29) in versions 3.51 and 4.0. Earlier and later versions reject this information 
class as invalid. In all builds yet inspected of these versions, it is instead rejected 
as not implemented. Presumably, it was some sort of placeholder, at best an experiment 
that never got far. Version 5.0 reworked Plug and Play substantially. Version 5.1 
repurposes the information class’s numerical value as <span class="constant">SystemVerifierRemoveDriverInformation</span> 
and only then to set system information. </p>
<h2>Documentation Status </h2>
<p>The <span class="struct">SYSTEM_DOCK_INFORMATION</span> structure is not documented. 
It is known only from type information in early import libraries: GDISRVL.LIB from 
the Device Driver Kit (DDK) for Windows NT 3.51 and SHELL32.LIB from the DDK for 
Windows NT 4.0. </p>
<h2>Layout </h2>
<p>The <span class="struct">SYSTEM_DOCK_INFORMATION</span> is 0x14 bytes in version 
3.51 and is evidently intended as a fixed-size header for variable-size information. 
By contrast, the structure in version 4.0 looks to be the whole of the information 
and is only 0x10 bytes. </p>
<table class="Struct">
  <colgroup>
    <col class="Offset"><col class="Definition">
  </colgroup>
  <tr>
    <th>Offset </th>
    <th>Definition </th>
    <th>Versions </th>
  </tr>
  <tr>
    <td>0x00 </td>
    <td>
    <pre class="source">INT DockState;</pre>
    </td>
    <td>3.51 to 4.0 </td>
  </tr>
  <tr>
    <td>0x04 (3.51) </td>
    <td>
    <pre class="source">ULONG DockIdLength;</pre>
    </td>
    <td>3.51 only </td>
  </tr>
  <tr>
    <td>0x08 (3.51) </td>
    <td>
    <pre class="source">ULONG SerialNumberOffset;</pre>
    </td>
    <td>3.51 only </td>
  </tr>
  <tr>
    <td>0x0C (3.51) </td>
    <td>
    <pre class="source">ULONG SerialNumberLength;</pre>
    </td>
    <td>3.51 only </td>
  </tr>
  <tr>
    <td>0x10 (3.51) </td>
    <td>
    <pre class="source">USHORT DockId [ANYSIZE_ARRAY];</pre>
    </td>
    <td>3.51 only </td>
  </tr>
  <tr>
    <td>0x04 </td>
    <td>
    <pre class="source">INT DeviceBusType;</pre>
    </td>
    <td>4.0 only </td>
  </tr>
  <tr>
    <td>0x08 </td>
    <td>
    <pre class="source">ULONG DeviceBusNumber;</pre>
    </td>
    <td>4.0 only </td>
  </tr>
  <tr>
    <td>0x0C </td>
    <td>
    <pre class="source">ULONG SlotNumber;</pre>
    </td>
    <td>4.0 only </td>
  </tr>
</table>
<div class="Footer">
  <p class="Dates">This page was created on 3rd
  <a href="../../../../../../../new/19/11.htm">November 2019</a>. </p>
  <!--webbot bot="Include" U-Include="../../../../_include/c19.htm" TAG="BODY" startspan -->

<p class="Copyright">Copyright © 2019. Geoff Chappell. All rights reserved. 
<a href="../../../../../../../about/terms.htm">Conditions apply</a>. </p>

<!--webbot bot="Include" endspan i-checksum="6722" -->
</div>

</body>

</html>
