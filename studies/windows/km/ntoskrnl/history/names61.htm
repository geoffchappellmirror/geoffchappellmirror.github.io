<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Kernel Exports Added for Version 6.1</title>
<link rel="stylesheet" type="text/css" href="../../../../../_styles/master.css">
<link rel="stylesheet" type="text/css" href="../../../../../_styles/document.css">
<link rel="stylesheet" type="text/css" href="../../_styles/km.css">
<script type="text/javascript" src="../../../../../_scripts/master.js"></script>
<script type="text/javascript" src="../../../../../_scripts/document.js"></script>
<script type="text/javascript" src="../../_scripts/km.js"></script>
</head>

<body>

<!--webbot bot="Include" U-Include="../../_include/noscript.htm" TAG="BODY" startspan -->

<div class="NoScript" id="Banner">
  <div id="Links">
    <ul class="LinkList">
      <li class="LinkListItem"><a href="../../../../../index.htm"><span>Home</span></a> </li>
      <li class="LinkListItem"><a target="_self" href="../../toc.htm"><span>Table of Contents</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../about/index.htm"><span>About This Site</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../new/index.htm"><span>What’s New?</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../feedback/index.htm"><span>Feedback</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../consult/index.htm"><span>Consult</span></a> </li>
    </ul>
  </div>
  <div id="Logo">
    <p>Geoff Chappell, Software Analyst </p>
  </div>
</div>

<!--webbot bot="Include" endspan i-checksum="21016" -->
<h1>Kernel Exports Added for Version 6.1 </h1>
<p>The large table on this page lists the 232 exports that were added to the Windows 
kernel in its first release for version 6.1., i.e., for the original Windows 7 and 
Windows Server 2008 R2. </p>
<p>Also listed is the one addition for Windows 7 SP1. Be aware, however, that this 
is for Windows 7 SP1 only for its formal release all the way back in 2010. Perhaps 
because of customer resistance to Windows 8, Windows 8.1 and even to Windows 10, 
Microsoft kept Windows 7 in active distribution for most of a decade with all fixes 
and other updates counting as Windows 7 SP1. Functions that this study lists as 
newly exported from later versions are back-fitted into these post-release builds 
which, for better or worse, fall outside the scope of this study because Microsoft 
never raised them to the formal significance of a service pack. </p>
<!--webbot bot="Include" U-Include="../../_include/colours.htm" TAG="BODY" startspan -->

<p>For the table below, documentation status is summarised by colour coding so that 
more detail can be given as Remarks with less text. (If you read this website with 
scripts enabled, then hovering the mouse over any coloured text will produce a tooltip 
that shows why the text is coloured.) Functions that have their own non-trivial 
documentation are shown with no background colour. If the function is documented 
as reserved or obsolete, it is <span class="reserved">shaded red</span> or
<span class="obsolete">shaded grey</span>, respectively. Functions that appear to 
be completely undocumented are <span class="undocumented">highlighted yellow</span>. 
If a function is documented now but was not documented in the first contemporaneous 
Device Driver Kit (DDK), Windows Driver Kit (WDK) or Installable File System (IFS) 
Kit, then it is <span class="delayed">shaded yellow</span> to retain some of its 
previous status. Many undocumented functions do at least have C-language declarations 
in one or another header file from the WDK. These are <span class="declared">shaded 
orange</span>, except for one special case. Some declarations are known only from 
“minwin” headers that Microsoft published in early editions of the WDK for Windows 
10 which seem since to have been withdrawn. These are <span class="minwin">highlighted 
orange</span> to indicate that public knowledge even of the declaration is exceptional.
</p>

<!--webbot bot="Include" endspan i-checksum="25498" -->
<table class="Functions">
  <colgroup>
    <col class="Name"><col class="Remarks">
  </colgroup>
  <tr>
    <th>Function </th>
    <th>Documentation History </th>
  </tr>
  <tr>
    <td><span class="function">CcCoherencyFlushAndPurgeCache</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">CcCopyWriteWontFlush</span> </td>
    <td>&nbsp;</td>
  </tr>
</table>
<p>Though <span class="function">CcCopyWriteWontFlush</span> is not an exported 
function until version 6.1, the IFS Kit for Windows 2000 defines it by macro and 
documents it. </p>
<table class="Functions">
  <colgroup>
    <col class="Name"><col class="Remarks">
  </colgroup>
  <tr>
    <th>Function </th>
    <th>Documentation History </th>
  </tr>
  <tr>
    <td><span class="declared variable">CmKeyObjectType</span> (data) </td>
    <td>since 6.2, indirectly documented </td>
  </tr>
  </table>
<p>As with most exported variables, <span class="declared variable">CmKeyObjectType</span> 
is not itself documented. It does, however, get mentioned in documentation of 
<span class="delayed function">ObOpenObjectByPointer</span>, for which it can be 
given as an argument. </p>
<table class="Functions">
  <colgroup>
    <col class="Name"><col class="Remarks" span="3">
  </colgroup>
  <tr>
    <th>Function </th>
    <th>Export History </th>
    <th>Documentation History </th>
    <th>Declaration History </th>
  </tr>
  <tr>
    <td><span class="minwin function">DbgkLkmdRegisterCallback</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">DbgkLkmdUnregisterCallback</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="delayed function">EtwWriteEx</span> </td>
    <td>&nbsp;</td>
    <td>before 6.3, <span class="declared">declared</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">ExQueryAttributeInformation</span>
    </td>
    <td>discontinued in 6.3 </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">ExRegisterAttributeInformationCallback</span>
    </td>
    <td>discontinued in 6.3 </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">ExRegisterExtension</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">ExSetResourceOwnerPointerEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">ExUnregisterAttributeInformationCallback</span>
    </td>
    <td>discontinued in 6.3 </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">ExUnregisterExtension</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="delayed function">FsRtlAreThereCurrentOrInProgressFileLocks</span>
    </td>
    <td>&nbsp;</td>
    <td>before 6.2, <span class="declared">declared</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">FsRtlCurrentOplockH</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="declared function">FsRtlGetVirtualDiskNestingLevel</span>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>declared start is 6.0 </td>
  </tr>
  <tr>
    <td><span class="delayed function">FsRtlInitializeExtraCreateParameter</span>
    </td>
    <td>&nbsp;</td>
    <td>before 6.1 revision, <span class="declared">declared</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="delayed function">FsRtlInitializeExtraCreateParameterList</span>
    </td>
    <td>&nbsp;</td>
    <td>before 6.1 revision, <span class="declared">declared</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">FsRtlOplockBreakH</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">FsRtlOplockBreakToNoneEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">FsRtlOplockFsctrlEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">FsRtlOplockIsSharedRequest</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">FsRtlOplockKeysEqual</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="declared function">FsRtlQueryMaximumVirtualDiskNestingLevel</span>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>declared start is 6.0 </td>
  </tr>
  <tr>
    <td><span class="minwin function">IoAdjustStackSizeForRedirection</span>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">IoGetAffinityInterrupt</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">IoGetContainerInformation</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">IoGetDeviceNumaNode</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="delayed function">IoGetOplockKeyContext</span> </td>
    <td>&nbsp;</td>
    <td>before 6.2, <span class="undocumented">undocumented</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">IoRegisterContainerNotification</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="delayed function">IoRegisterFsRegistrationChangeMountAware</span>
    </td>
    <td>&nbsp;</td>
    <td>before 6.2, <span class="declared">declared</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">IoRegisterPriorityCallback</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">IoReplaceFileObjectName</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="delayed function">IoReportRootDevice</span> </td>
    <td>&nbsp;</td>
    <td>before 6.2, <span class="undocumented">undocumented</span> <br>
    documented start is 6.2 </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="delayed function">IoSetFileObjectIgnoreSharing</span> </td>
    <td>&nbsp;</td>
    <td>before 6.2, <span class="declared">declared</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">IoSetOplockKeyContext</span> </td>
    <td>discontinued in 6.2 </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">IoUnregisterContainerNotification</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">IoUnregisterPlugPlayNotificationEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">IoUnregisterPriorityCallback</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">KeAddGroupAffinityEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">KeAddProcessorAffinityEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">KeAddProcessorGroupAffinity</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">KeAllocateCalloutStackEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">KeAndAffinityEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">KeAndGroupAffinityEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">KeCheckProcessorAffinityEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">KeCheckProcessorGroupAffinity</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">KeComplementAffinityEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">KeCopyAffinityEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">KeCountSetBitsAffinityEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">KeCountSetBitsGroupAffinity</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">KeEnumerateNextProcessor</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">KeFindFirstSetLeftAffinityEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">KeFindFirstSetLeftGroupAffinity</span>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">KeFindFirstSetRightGroupAffinity</span>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">KeFirstGroupAffinityEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">KeGetCurrentNodeNumber</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">KeGetCurrentProcessorNumberEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">KeGetProcessorIndexFromNumber</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">KeGetProcessorNumberFromIndex</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">KeGetXSaveFeatureFlags</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">KeInitializeAffinityEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">KeInitializeEnumerationContext</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">KeInitializeEnumerationContextFromGroup</span>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">KeInterlockedClearProcessorAffinityEx</span>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">KeInterlockedSetProcessorAffinityEx</span>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">KeIsEmptyAffinityEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">KeIsEqualAffinityEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">KeIsSingleGroupAffinityEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">KeIsSubsetAffinityEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">KeOrAffinityEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">KePollFreezeExecution</span> </td>
    <td>x86 only </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">KeProcessorGroupAffinity</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">KeQueryActiveGroupCount</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">KeQueryActiveProcessorAffinity</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">KeQueryActiveProcessorCountEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">KeQueryGroupAffinity</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">KeQueryGroupAffinityEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">KeQueryHardwareCounterConfiguration</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">KeQueryHighestNodeNumber</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">KeQueryLogicalProcessorRelationship</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">KeQueryMaximumGroupCount</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">KeQueryMaximumProcessorCountEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">KeQueryNodeActiveAffinity</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">KeQueryNodeMaximumProcessorCount</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">KeQueryUnbiasedInterruptTime</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">KeRemoveGroupAffinityEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">KeRemoveProcessorAffinityEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">KeRemoveProcessorGroupAffinity</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">KeRestoreExtendedProcessorState</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">KeRevertToUserGroupAffinityThread</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">KeSaveExtendedProcessorState</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">KeSetCoalescableTimer</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">KeSetHardwareCounterConfiguration</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">KeSetSystemGroupAffinityThread</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">KeSetTargetProcessorDpcEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">KeSubtractAffinityEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="delayed function">NtCreateTransactionManager</span> </td>
    <td>&nbsp;</td>
    <td>before 6.2, <span class="reserved">reserved</span> <br>
    documented start is 6.0 </td>
    <td>declared start is 6.0 </td>
  </tr>
  <tr>
    <td><span class="delayed function">NtOpenTransactionManager</span> </td>
    <td>&nbsp;</td>
    <td>before 6.2, <span class="reserved">reserved</span> <br>
    documented start is 6.0 </td>
    <td>declared start is 6.0 </td>
  </tr>
  <tr>
    <td><span class="delayed function">NtPrePrepareComplete</span> </td>
    <td>&nbsp;</td>
    <td>before 6.2, <span class="reserved">reserved</span> <br>
    documented start is 6.0 </td>
    <td>declared start is 6.0 </td>
  </tr>
  <tr>
    <td><span class="declared function">NtPropagationComplete</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>declared start is 6.0 </td>
  </tr>
  <tr>
    <td><span class="declared function">NtPropagationFailed</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>declared start is 6.0 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">NtQuerySecurityAttributesToken</span>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">
    <a href="../api/ex/sysinfo/queryex.htm">NtQuerySystemInformationEx</a></span>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="delayed function">NtReadOnlyEnlistment</span> </td>
    <td>&nbsp;</td>
    <td>before 6.2, <span class="reserved">reserved</span> <br>
    documented start is 6.0 </td>
    <td>declared start is 6.0 </td>
  </tr>
  <tr>
    <td><span class="delayed function">NtRecoverEnlistment</span> </td>
    <td>&nbsp;</td>
    <td>before 6.2, <span class="reserved">reserved</span> <br>
    documented start is 6.0 </td>
    <td>declared start is 6.0 </td>
  </tr>
  <tr>
    <td><span class="delayed function">NtRecoverResourceManager</span> </td>
    <td>&nbsp;</td>
    <td>before 6.2, <span class="reserved">reserved</span> <br>
    documented start is 6.0 </td>
    <td>declared start is 6.0 </td>
  </tr>
  <tr>
    <td><span class="delayed function">NtRecoverTransactionManager</span> </td>
    <td>&nbsp;</td>
    <td>before 6.2, <span class="reserved">reserved</span> <br>
    documented start is 6.0 </td>
    <td>declared start is 6.0 </td>
  </tr>
  <tr>
    <td><span class="delayed function">NtRollbackComplete</span> </td>
    <td>&nbsp;</td>
    <td>before 6.2, <span class="reserved">reserved</span> <br>
    documented start is 6.0 </td>
    <td>declared start is 6.0 </td>
  </tr>
  <tr>
    <td><span class="delayed function">NtSetInformationToken</span> </td>
    <td>&nbsp;</td>
    <td>before 6.2, <span class="reserved">reserved</span> </td>
    <td>declared start is 5.1 </td>
  </tr>
</table>
<p>Documentation in the WDK for Windows 7 gives each
<span class="functionprefix">Nt</span> function its own page but only to direct attention 
to the more substantial page for the corresponding <span class="functionprefix">Zw</span> function. 
The latter might be thought to count for both, except that the former warns expressly 
“Do not call this routine from kernel-mode code.” This is here taken as documenting 
the <span class="functionprefix">Nt</span> functions as <span class="reserved">reserved</span> for kernel-mode 
use (which is this survey’s focus). Microsoft loosened the text significantly for 
Windows 8 to note that the <span class="functionprefix">Nt</span> and
<span class="functionprefix">Zw</span> versions “can behave differently”, which 
is here taken as formally permitting their use, such that they are no longer documented 
as reserved. </p>
<p>Not shown above, but hinted at, is that most of these <span class="functionprefix">Nt</span> functions 
have earlier history. The affected functions work with the Transaction Manager 
which was a new feature for Windows Vista. Very plausibly they were meant to be 
exported from the kernel in Windows Vista but were overlooked. All are user-mode 
exports from NTDLL in Windows Vista. All are declared in the WDM.H from the WDK 
for Windows Vista. For most, the corresponding <span class="functionprefix">Zw</span> 
function is exported from the version 6.0 kernel and is documented in the WDK 
for Windows Vista. But as <span class="functionprefix">Nt</span> functions, none 
are exported from the kernel until Windows 7, no matter how much the subsequent 
documentation and declarations may lead anyone to think otherwise. </p>
<table class="Functions">
  <colgroup>
    <col class="Name"><col class="Remarks" span="3">
  </colgroup>
  <tr>
    <th>Function </th>
    <th>Export History </th>
    <th>Documentation History </th>
    <th>Declaration Histoy </th>
  </tr>
  <tr>
    <td><span class="function">ObDereferenceObjectDeferDeleteWithTag</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">ObGetObjectType</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="declared function">ObOpenObjectByPointerWithTag</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">ObQueryNameInfo</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">ObReferenceObjectByHandleWithTag</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">ObReferenceObjectByPointerWithTag</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="declared function">ObfDereferenceObjectWithTag</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="declared function">ObfReferenceObjectWithTag</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">PcwAddInstance</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">PcwCloseInstance</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">PcwCreateInstance</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">PcwRegister</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">PcwUnregister</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">PoClearPowerRequest</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">PoCreatePowerRequest</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">PoDeletePowerRequest</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">PoEndDeviceBusy</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">PoQueryWatchdogTime</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">PoSetPowerRequest</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">PoStartDeviceBusy</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="declared function">RtlCompareUnicodeStrings</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>since 6.0, declared start is 5.0 </td>
  </tr>
  <tr>
    <td><span class="declared function">RtlContractHashTable</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="declared function">RtlCreateHashTable</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="declared function">RtlDeleteHashTable</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">RtlDowncaseUnicodeChar</span> </td>
    <td>&nbsp;</td>
    <td>documented start is 5.1 </td>
    <td>since 6.0, declared start is 5.1 </td>
  </tr>
  <tr>
    <td><span class="declared function">RtlEndEnumerationHashTable</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="declared function">RtlEndWeakEnumerationHashTable</span>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="declared function">RtlEnumerateEntryHashTable</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">RtlEthernetAddressToStringA</span> </td>
    <td>&nbsp;</td>
    <td>SDK </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">RtlEthernetAddressToStringW</span> </td>
    <td>&nbsp;</td>
    <td>SDK </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">RtlEthernetStringToAddressA</span> </td>
    <td>&nbsp;</td>
    <td>SDK </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">RtlEthernetStringToAddressW</span> </td>
    <td>&nbsp;</td>
    <td>SDK </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="declared function">RtlExpandHashTable</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">RtlFillMemoryUlonglong</span> </td>
    <td>x86 only </td>
    <td>&nbsp;</td>
    <td>since 6.0, declared start is 5.1 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlFindAceByType</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">RtlGetEnabledExtendedFeatures</span> </td>
    <td>&nbsp;</td>
    <td>in 6.2 to 1511, documented but not declared </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlGetLastRange</span> </td>
    <td>&nbsp;</td>
    <td>in 5.0 to 5.2, <span class="declared">declared</span> </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="declared function">RtlGetNextEntryHashTable</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="declared function">RtlInitEnumerationHashTable</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="declared function">RtlInitWeakEnumerationHashTable</span>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="declared function">RtlInsertEntryHashTable</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlLoadString</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="declared function">RtlLookupEntryHashTable</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlOwnerAcesPresent</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="declared function">RtlRemoveEntryHashTable</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="declared function">RtlReplaceSidInSd</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">RtlUTF8ToUnicodeN</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">RtlUnicodeToUTF8N</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="declared function">RtlWeaklyEnumerateEntryHashTable</span>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
</table>
<p>Though <span class="declared function">RtlCompareUnicodeStrings</span> is not 
exported from the kernel until version 6.1, it is declared in WDM.H as early as 
the WDK for Windows Vista. It is present in the version 6.0 kernel as an internal 
routine. Its user-mode export from NTDLL begins in version 6.0 too. </p>
<p>Another with earlier history is <span class="function">RtlDowncaseUnicodeChar</span>. 
Not only is it declared in the WDM.H from the WDK for Windows Vista, it is documented 
too. Moreover, the declaration has earlier history, but in NTDDK.H, back to the 
DDK for Windows XP. It is indeed present in the version 5.1 kernel as an internal 
routine and is a user-mode export from NTDLL back then too, but it never was available 
to the programmers of kernel-mode drivers that hope to run on Windows XP. </p>
<p>The four functions for converting Ethernet addresses to and from text are not 
formally documented for use in kernel mode, only as user-mode exports from NTDLL. 
They are declared in IP2STRING.H, which is supplied with every WDK starting with 
Windows 7. A comment at the top is explicit that this header’s declared routines 
are “callable by both kernel mode code in the executive and user mode code in various 
NT subsystems.” A reorganisation for Windows 8 places the header in the “shared” 
subdirectory. </p>
<p>The unusually lengthy and specific description that Microsoft presents for
<span class="function">RtlFillMemoryUlonglong</span> starting with the WDK for Windows 
7 comes about, of course, as a correction. The function is documented as long ago 
as the IFS Kit for Windows 2000 but no contemporaneous header is known to mention 
it. How it was treated in the IFS Kit for Windows XP or for Windows Server 2003 
is not known, but in the WDK for Windows Vista the function is said straightforwardly 
to be “available on Microsoft Windows 2000 and later.” What’s in the corresponding 
NTIFS.H is a macro for the amd64 architecture and a declaration for others. But 
there is no exported function for the declaration to refer to. Neither is resolution 
available from any statically linked library that’s supplied with the WDK. One inference 
is that its export in version 6.1 and higher is itself a correction. The function 
is present even in the x86 kernel for version 5.0 but only as an internal routine. 
Perhaps it was meant to be exported all along. </p>
<p>Declaration of <span class="function">RtlGetEnabledExtendedFeatures</span> disappears 
from WDM.H as early as the WDK for Windows 8. Early editions of the WDK for Windows 
10 have it in a new header, named XSTATEAPI.H, in the “minwin” subdirectory. Aside 
from being plainly intended only for user-mode programming, the header won’t compile 
without headers (such as NTRTL.H) that the WDK omits and that Microsoft is not known 
ever to have published openly. In the WDK for the 1607 release, the subdirectory 
is gone and the function’s declaration is restored to the usual headers, though 
now it’s in NTDDK.H. </p>
<p>The <span class="undocumented function">RtlGetLastRange</span> function is a 
late addition to a curious set of functions that are first exported from version 
5.0. All, including this addition, were initially declared in NTDDK.H. Come the 
WDK for Windows Vista, the declarations disappeared and the functions now look to 
be undocumented except to historians. The addition is not wholly an addition. It 
is newly exported in version 6.1 but it’s present in the version 5.0 kernel as an 
internal routine. Most plausibly, it was meant to be exported all along. That it’s 
added to the exports years later suggests that the set still has some use. Further 
study may be justified. </p>
<table class="Functions">
  <colgroup>
    <col class="Name"><col class="Remarks" span="3">
  </colgroup>
  <tr>
    <th>Function </th>
    <th>Export History </th>
    <th>Documentation History </th>
    <th>Declaration History </th>
  </tr>
  <tr>
    <td><span class="minwin function">SeAccessCheckEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">SeAccessCheckWithHint</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="declared function">SeAuditingAnyFileEventsWithContext</span>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">SeAuditingWithTokenForSubcategory</span>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">SeQuerySecurityAttributesToken</span>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">SeSetSecurityAttributesToken</span>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">SeSrpAccessCheck</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
</table>
<p>The <span class="minwin function">SeAuditingWithTokenForSubcategory</span> function 
is shown above as having no published declaration except from the “minwin” subdirectory 
in early editions of the WDK for Windows 10, but this is not quite true. What’s 
not shown above, because it predates the function’s export, is that it was declared in NTIFS.H from the WDK for Windows Vista. It is present in the corresponding 
kernel but only as an internal routine. Perhaps it was meant to be exported but 
didn’t actually get exported. </p>
<table class="Functions">
  <colgroup>
    <col class="Name"><col class="Remarks" span="2">
  </colgroup>
  <tr>
    <th>Function </th>
    <th>Export History </th>
    <th>Documentation History </th>
  </tr>
  <tr>
    <td><span class="minwin function">WheaAttemptPhysicalPageOffline</span> </td>
    <td>x64-only before 1703 </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="delayed function">WheaConfigureErrorSource</span> </td>
    <td>&nbsp;</td>
    <td>before 2019, <span class="minwin">declared</span> </td>
  </tr>
  <tr>
    <td><span class="minwin function">WheaDeferredRecoveryService</span> </td>
    <td>x64 only </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">WheaInitializeDeferredRecoveryObject</span>
    </td>
    <td>x64 only </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="delayed function">WheaInitializeRecordHeader</span> </td>
    <td>&nbsp;</td>
    <td>before 2019, <span class="minwin">declared</span> </td>
  </tr>
  <tr>
    <td><span class="minwin function">WheaRequestDeferredRecovery</span> </td>
    <td>x64 only </td>
    <td>&nbsp;</td>
  </tr>
</table>
<p>Microsoft’s online documentation of <span class="delayed function">WheaConfigureErrorSource</span> 
and <span class="delayed function">WheaInitializeRecordHeader</span> is dated 19th 
August 2019 and I see no reason to disbelieve it. </p>
<table class="Functions">
  <colgroup>
    <col class="Name"><col class="Remarks" span="3">
  </colgroup>
  <tr>
    <th>Function </th>
    <th>Export History </th>
    <th>Documentation History </th>
    <th>Notes </th>
  </tr>
  <tr>
    <td><span class="function">ZwCommitComplete</span> </td>
    <td>&nbsp;</td>
    <td>documented start is 6.0 </td>
    <td>decl: 6.0 <br>
    since 6.0, declared start is 6.0 </td>
  </tr>
  <tr>
    <td><span class="function">ZwLockFile</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>decl: 6.0 <br>
    since 6.0, declared start is 6.0 </td>
  </tr>
  <tr>
    <td><span class="minwin function">ZwNotifyChangeSession</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">ZwOpenKeyEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>ok </td>
  </tr>
  <tr>
    <td><span class="function">ZwOpenKeyTransactedEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>ok </td>
  </tr>
  <tr>
    <td><span class="minwin function">ZwOpenSession</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">ZwPrePrepareComplete</span> </td>
    <td>&nbsp;</td>
    <td>documented start is 6.0 </td>
    <td>decl: 6.0 <br>
    since 6.0, declared start is 6.0 </td>
  </tr>
  <tr>
    <td><span class="minwin function">ZwPropagationComplete</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">ZwPropagationFailed</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">ZwQueryQuotaInformationFile</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>decl: 6.0 <br>
    since 6.0, declared start is 6.0 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">ZwQuerySecurityAttributesToken</span>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">ZwReadOnlyEnlistment</span> </td>
    <td>&nbsp;</td>
    <td>documented start is 6.0 </td>
    <td>decl: 6.0 <br>
    since 6.0, declared start is 6.0 </td>
  </tr>
  <tr>
    <td><span class="declared function">ZwRenameKey</span> </td>
    <td>starts in SP1 </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">ZwRollbackComplete</span> </td>
    <td>&nbsp;</td>
    <td>documented start is 6.0 </td>
    <td>decl: 6.0 <br>
    since 6.0, declared start is 6.0 </td>
  </tr>
  <tr>
    <td><span class="function">ZwSetInformationResourceManager</span> </td>
    <td>&nbsp;</td>
    <td>documented start is 6.0 </td>
    <td>doc: 6.0 <br>
    reserved: 6.1 plus <br>
    since 6.0, declared start is 6.0 </td>
  </tr>
  <tr>
    <td><span class="function">ZwSetInformationToken</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>doc: 6.0 (start is 5.1) <br>
    decl: 6.0 <br>
    in 6.0 only, declared start is 6.0 </td>
  </tr>
  <tr>
    <td><span class="function">ZwSetQuotaInformationFile</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>doc: 6.0 (start is 5.1) <br>
    decl: 6.0 <br>
    since 6.0, declared start is 6.0 </td>
  </tr>
  <tr>
    <td><span class="declared function">ZwSetTimerEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">ZwTraceEvent</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">ZwUnlockFile</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>decl: 6.0 <br>
    since 6.0, declared start is 6.0 </td>
  </tr>
</table>
<p>Though Microsoft places its documentation of the <span class="functionprefix">
Zw</span> functions in the WDK, not the SDK, and directs programmers to include 
kernel-mode headers such as WDM.H, NTDDK.H and NTIFS.H, neither the headers nor 
the documentation distinguish very much between kernel-mode and user-mode programming.
</p>
<p>Though <span class="declared function">ZwRenameKey</span> is not exported from 
the kernel until SP1, the original release of version 6.1 has it as an internal 
routine and it is declared in WDM.H from the WDK for Windows 7. Was it meant to 
have been exported from the original? </p>
<table class="Functions">
  <colgroup>
    <col class="Name"><col class="Remarks" span="2">
  </colgroup>
  <tr>
    <th>Function </th>
    <th>Export History </th>
    <th>Documentation History </th>
  </tr>
  <tr>
    <td><span class="function">_i64toa_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">_i64tow_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">_itoa_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">_itow_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">_ltoa_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">_ltow_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">_makepath_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">_snprintf_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">_snscanf_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">_snwprintf_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">_snwscanf_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">_splitpath_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">_strnset_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">_strset_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">_ui64toa_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">_ui64tow_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">_ultoa_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">_ultow_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">_vsnprintf_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">_vsnwprintf_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">_wcsnset_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">_wcsset_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">_wmakepath_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">_wsplitpath_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">_wtoi</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">_wtol</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">memcpy_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">memmove_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">sprintf_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">sscanf_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">strcat_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">strcpy_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">strncat_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">strncpy_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">strnlen</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">strtok_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">swprintf_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">swscanf_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">vsprintf_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">vswprintf_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">wcscat_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">wcscpy_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">wcsncat_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">wcsncpy_s</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">wcsnlen</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">wcstoul</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
</table>
<p>&nbsp;</p>
<h2>Discontinued </h2>
<p>Version 6.1 the kernel stops exporting a few functions. For each, the version 
in parentheses tells when the function was first exported: </p>
<ul>
  <li><span class="undocumented function">IoAssignDriveLetters</span> (5.1) </li>
  <li><span class="minwin function">IoCallDriverStackSafe</span> </li>
  <li><span class="minwin function">IoPnPDeliverServicePowerNotification</span>
  (5.0)
  </li>
  <li><span class="undocumented function">KeTerminateThread</span> (3.10) </li>
  <li><span class="undocumented function">Kii386SpinOnSpinLock</span> (3.10) </li>
  <li><span class="undocumented function">MmSetUserExceptionCallout</span> </li>
  <li><span class="undocumented function">PsChargeProcessCpuCycles</span>, but see 
  note </li>
  <li><span class="undocumented function">WheaRegisterErrSrcInitializer</span>
  </li>
</ul>
<p>Discontinuation of <span class="undocumented function">PsChargeProcessCpuCycles</span> 
is selective. As of version 6.1, it is no longer an export from the x64 kernel. 
Another way to put it is that it becomes an x86-only export in version 6.1 ahead 
of its discontinuation by version 6.2. </p>
<div class="Footer">
  <p class="Dates">This page was created on 30th November 2009 and was last modified 
  on 28th September 2020. </p>
  <!--webbot bot="Include" U-Include="../../_include/c0920.htm" TAG="BODY" startspan -->

<p class="Copyright">Copyright © 2009-2020. Geoff Chappell. All rights reserved. 
<a href="../../../../../about/terms.htm">Conditions apply</a>. </p>

<!--webbot bot="Include" endspan i-checksum="5603" -->
</div>

</body>

</html>
