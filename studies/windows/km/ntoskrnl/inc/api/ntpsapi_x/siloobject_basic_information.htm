<!doctype html>
<html lang="en">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>SILOOBJECT_BASIC_INFORMATION</title>
<link rel="stylesheet" type="text/css" href="../../../../../../../_styles/master.css">
<link rel="stylesheet" type="text/css" href="../../../../../../../_styles/document.css">
<link rel="stylesheet" type="text/css" href="../../../../_styles/km.css">
<script type="text/javascript" src="../../../../../../../_scripts/master.js"></script>
<script type="text/javascript" src="../../../../../../../_scripts/document.js"></script>
<script type="text/javascript" src="../../../../_scripts/km.js" defer></script>
</head>

<body>

<!--webbot bot="Include" U-Include="../../../../_include/noscript.htm" TAG="BODY" startspan -->

<div class="NoScript" id="Banner">
  <div id="Links">
    <ul class="LinkList">
      <li> 
      <ul class="PreferNoWrap">
        <li class="LinkListItem"><a href="../../../../../../../index.htm">Home</a> </li><!--
     --><li class="LinkListItem"><a target="_self" href="../../../../toc.htm">Table of Contents</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../../about/index.htm">About This Site</a> </li>
      </ul>
      <ul class="PreferNoWrap">
        <li class="LinkListItem"><a href="../../../../../../../new/index.htm">What’s New?</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../../feedback/index.htm">Feedback</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../../consult/index.htm">Consult</a> </li>
      </ul>
      </li>
    </ul>
  </div>
  <div id="Logo">
    <p><span class="PreferNoWrap">Geoff Chappell -</span> <span class="PreferNoWrap">Software Analyst</span> </p>
  </div>
</div>

<!--webbot bot="Include" endspan i-checksum="48540" -->
<div class="Main">
  <h1>SILOOBJECT_BASIC_INFORMATION</h1>
  <p>The <span class="struct">SILOOBJECT_BASIC_INFORMATION</span> structure is what 
  a successful call to <span class="function">ZwQueryInformationJobObject</span> 
  or <span class="function">NtQueryInformationJobObject</span> produces in its output 
  buffer when given the information class <span class="constant">JobObjectSiloBasicInformation</span> 
  (0x24). </p>
  <h2>Documentation Status </h2>
  <p>The <span class="struct">SILOOBJECT_BASIC_INFORMATION</span> is not documented 
  but Microsoft publishes a C-language definition in the WINNT.H for each edition 
  of Windows 10. Beware that these published definitions for each version do not 
  hint that the structure was ever defined differently for earlier versions. </p>
  <h2>Variability </h2>
  <p>Though the <span class="struct">SILOOBJECT_BASIC_INFORMATION</span> is used 
  for output through an API to both kernel-mode and user-mode callers, it varied 
  while Microsoft’s implementation of silos was yet to settle: </p>
  <table class="Sizes">
    <colgroup>
      <col class="Version"><col class="Size" span="2">
    </colgroup>
    <thead>
      <tr>
        <th>Version </th>
        <th>Size (x86) </th>
        <th>Size (x64) </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>10.0 </td>
        <td>0x14 </td>
        <td>0x20 </td>
      </tr>
      <tr>
        <td>1511 </td>
        <td>0x2C </td>
        <td>0x2C </td>
      </tr>
      <tr>
        <td>1607 to 2004 </td>
        <td>0x10 </td>
        <td>0x10 </td>
      </tr>
    </tbody>
  </table>
  <p>Except for the original Windows 10, the structure is not just the same size 
  in 32-bit and 64-bit Windows but is identical internally. </p>
  <h2>Layout </h2>
  <p>These sizes, and the offsets, types and names in the tables that follow, are 
  from Microsoft’s C-language definitions in WINNT.H. </p>
  <table class="Struct">
    <colgroup>
      <col class="Offset" span="2"><col class="Definition">
      <col class="Versions">
    </colgroup>
    <thead>
      <tr>
        <th>Offset (x86) </th>
        <th>Offset (x64) </th>
        <th>Definition </th>
        <th>Versions </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td rowspan="3">0x00 </td>
        <td rowspan="3">0x00 </td>
        <td>
        <pre class="source">HANDLE SiloIdNumber;</pre>
        </td>
        <td>10.0 only </td>
      </tr>
      <tr>
        <td>
        <pre class="source">GUID SiloIdNumber;</pre>
        </td>
        <td>1511 only </td>
      </tr>
      <tr>
        <td>
        <pre class="source">DWORD SiloId;</pre>
        </td>
        <td>1607 and higher </td>
      </tr>
      <tr>
        <td rowspan="3">0x04 (10.0); <br>
        0x10 (1511); <br>
        0x04 </td>
        <td rowspan="3">0x08 (10.0); <br>
        0x10 (1511); <br>
        0x04 </td>
        <td>
        <pre class="source">HANDLE SiloParentIdNumber;</pre>
        </td>
        <td>10.0 only </td>
      </tr>
      <tr>
        <td>
        <pre class="source">GUID SiloParentIdNumber;</pre>
        </td>
        <td>1511 only </td>
      </tr>
      <tr>
        <td>
        <pre class="source">DWORD SiloParentId;</pre>
        </td>
        <td>1607 and higher </td>
      </tr>
      <tr>
        <td>0x08 (10.0); <br>
        0x20 (1511); <br>
        0x08 </td>
        <td>0x10 (10.0); <br>
        0x20 (1511); <br>
        0x08 </td>
        <td>
        <pre class="source">DWORD NumberOfProcesses;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0x0C (10.0); <br>
        0x24 (1511) </td>
        <td>0x14 (10.0); <br>
        0x24 (1511) </td>
        <td>
        <pre class="source">DWORD NumberOfChildSilos;</pre>
        </td>
        <td>10.0 to 1511 </td>
      </tr>
      <tr>
        <td>0x10 (10.0); <br>
        0x28 (1511); <br>
        0x0C </td>
        <td>0x18 (10.0); <br>
        0x28 (1511); <br>
        0x0C </td>
        <td>
        <pre class="source">BOOLEAN IsInServerSilo;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0x0D </td>
        <td>0x0D </td>
        <td>
        <pre class="source">BYTE Reserved [3];</pre>
        </td>
        <td>1607 and higher </td>
      </tr>
    </tbody>
  </table>
  <p>The nature of the silo identifier changed through the early versions while 
  the silo implementation was still in flux. Originally, the identifier is allocated 
  from a handle table and is retrieved from the <span class="struct">
  <a href="../../ntos/ps/esilo.htm">ESILO</a></span>. Version 1511 instead retrieves 
  the <span class="member">ContainerId</span> from the <span class="struct">
  <a href="../../ntos/ps/ejob/index.htm">EJOB</a></span>. What Microsoft settled 
  on for Version 1607 is the 32-bit <span class="member">JobId</span>. </p>
  <div class="Footer">
    <p class="Dates">This page was created on 21st
    <a href="../../../../../../../new/22/07.htm">August 2022</a>. </p>
    <!--webbot bot="Include" U-Include="../../../../_include/c22.htm" TAG="BODY" startspan -->

<p class="Copyright">Copyright © 2022. Geoff Chappell. All rights reserved. 
<a href="../../../../../../../about/terms.htm">Conditions apply</a>. </p>

<!--webbot bot="Include" endspan i-checksum="5890" -->
  </div>
</div>

</body>

</html>
