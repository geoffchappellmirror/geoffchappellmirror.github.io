<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>CL /clr</title>
<link rel="stylesheet" type="text/css" href="../../../../../_styles/master.css">
<link rel="stylesheet" type="text/css" href="../../../../../_styles/document.css">
<link rel="stylesheet" type="text/css" href="../../../_styles/msvc.css">
<script type="text/javascript" src="../../../../../_scripts/master.js"></script>
<script type="text/javascript" src="../../../../../_scripts/document.js"></script>
<script type="text/javascript" src="../../../_scripts/msvc.js"></script>
</head>

<body>

<!--webbot bot="Include" U-Include="../../../_include/noscript.htm" TAG="BODY" startspan -->

<div class="NoScript" id="Banner">
  <div id="Links">
    <ul class="LinkList">
      <li class="LinkListItem"><a href="../../../../../index.htm"><span>Home</span></a> </li>
      <li class="LinkListItem"><a target="_self" href="../../../toc.htm"><span>Table of Contents</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../about/index.htm"><span>About This Site</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../new/index.htm"><span>What’s New?</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../feedback/index.htm"><span>Feedback</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../consult/index.htm"><span>Consult</span></a> </li>
    </ul>
  </div>
  <div id="Logo">
    <p>Geoff Chappell - Software Analyst </p>
  </div>
</div>

<!--webbot bot="Include" i-checksum="24274" endspan -->
<h1>CL /clr </h1>
<h2>Syntax </h2>
<p>positive: </p>
<blockquote>
  <p><span class="switch">/clr</span>[<span class="switch">:noAssembly</span>]
  </p>
</blockquote>
<p>negative: </p>
<blockquote>
  <p><span class="switch">/clr-</span> </p>
</blockquote>
<p>This option is ordinarily case-insensitive. When sought as an
<a href="../early.htm">early option</a>, it must be entirely in one case, either 
lower or upper. </p>
<h3>Relations </h3>
<p>The positive and negative forms override each other, of course. Additionally, 
the <span class="switch">/clr</span> option (with or without the
<span class="keyword">noAssembly</span> keyword) </p>
<ul>
  <li>weakly implies <span class="switch">-D_M_CEE=001</span> </li>
  <li>is incompatible with <span class="switch"><a href="cbstring.htm">/cbstring</a></span>,
  <span class="switch"><a href="fastcap.htm">/fastcap</a></span>,
  <span class="switch"><a href="gl.htm">/GL</a></span>, <span class="switch">
  <a href="g$m.htm">/Gm</a></span>, <span class="switch"><a href="gz.htm">/GZ</a></span>,
  <span class="switch"><a href="ml.htm">/ML</a></span>, <span class="switch">
  <a href="ml$d.htm">/MLd</a></span>, <span class="switch"><a href="rtc1.htm">/RTC1</a></span>,
  <span class="switch"><a href="rtc$c.htm">/RTCc</a></span>,
  <span class="switch"><a href="rtc$s.htm">/RTCs</a></span>,
  <span class="switch"><a href="rtc$u.htm">/RTCu</a></span>,
  <span class="switch"><a href="yx.htm">/YX</a></span>, <span class="switch">
  <a href="z$d.htm">/Zd</a></span> and <span class="switch"><a href="zi.htm">/ZI</a></span>
  </li>
</ul>
<p>and the <span class="switch">/clr:noAssembly</span> option </p>
<ul>
  <li>weakly implies <span class="switch">
  <a href="../../../link/link/options/noassembly.htm">/noassembly</a></span> and
  <span class="switch"><a href="../../../link/link/options/noentry.htm">/noentry</a>
  </span>for the linker </li>
  <li>overrides <span class="switch">/assembly</span> (not that any such option 
  is supported) </li>
</ul>
<h2>Behaviour </h2>
<p>A side-effect of <span class="switch">/clr</span> is to change the so-called 
logo, so that the compiler styles itself as </p>
<pre class="output">Microsoft (R) C/C++ Optimizing Compiler Version 13.00.9466 for .NET Framework </pre>
<p>Note that this change depends on <span class="switch">/clr</span> being found 
as an early option, which involves some relaxation of syntax. </p>
<h3>Added Options </h3>
<p>If the ordinary processing of command-line options leaves
<span class="switch">/clr</span> in effect, with or without the
<span class="keyword">noAssembly</span> keyword, then CL adds the
<span class="switch">-Gil</span> option for the front-end and back-end compilers 
and implies <span class="switch">-D_MANAGED</span>. Since this definition of the
<span class="macro">_MANAGED</span> macro occurs after the imposition of syntactical 
relations, it is not undone by the <span class="switch"><a href="u.htm">/U</a></span> 
or <span class="switch"><a href="$u.htm">/u</a></span> options. </p>
<p>If none of the <span class="switch"><a href="ld.htm">/LD</a></span>,
<span class="switch"><a href="ld$d.htm">/LDd</a></span>, <span class="switch">
<a href="md.htm">/MD</a></span>, <span class="switch"><a href="md$d.htm">/MDd</a></span>,
<span class="switch">/ML</span>, <span class="switch">/MLd</span>,
<span class="switch"><a href="mt.htm">/MT</a></span> or <span class="switch">
<a href="mt$d.htm">/MTd</a></span> options are set, then where CL would ordinarily 
impose <span class="switch">/ML</span>, an active <span class="switch">/clr</span> 
(again, with or without the <span class="keyword">noAssembly</span> keyword) causes 
CL to add <span class="switch">/MT</span> instead. The implied definition of the
<span class="macro">_MT</span> macro is again too late to be undone by
<span class="switch">/U</span> or <span class="switch">/u</span>. </p>
<div class="Footer">
  <p class="Dates">This page was created on 27th October 2005 and was last modified 
  on 11th June 2009. </p>
  <!--webbot bot="Include" U-Include="../../../_include/c0509.htm" TAG="BODY" startspan -->

<p class="Copyright">Copyright © 2005-2009. Geoff Chappell. All rights reserved.
<a href="../../../../../about/terms.htm">Conditions apply</a>. </p>

<!--webbot bot="Include" i-checksum="62424" endspan -->
</div>

</body>

</html>
