<html>

<head>
<title>NTCONFIG.H</title>
<link rel="stylesheet" type="text/css" href="../../../../../../_styles/master.css">
<link rel="stylesheet" type="text/css" href="../../../../../../_styles/document.css">
<link rel="stylesheet" type="text/css" href="../../../_styles/km.css">
<script type="text/javascript" src="../../../../../../_scripts/master.js"></script>
<script type="text/javascript" src="../../../../../../_scripts/document.js"></script>
<script type="text/javascript" src="../../../_scripts/km.js"></script>
</head>

<body>

<!--webbot bot="Include" U-Include="../../../_include/noscript.htm" TAG="BODY" startspan -->

<div class="NoScript" id="Banner">
  <div id="Links">
    <ul class="LinkList">
      <li class="LinkListItem"><a href="../../../../../../index.htm"><span>Home</span></a> </li>
      <li class="LinkListItem"><a target="_self" href="../../../toc.htm"><span>Table of Contents</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../../about/index.htm"><span>About This Site</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../../new/index.htm"><span>What’s New?</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../../feedback/index.htm"><span>Feedback</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../../consult/index.htm"><span>Consult</span></a> </li>
    </ul>
  </div>
  <div id="Logo">
    <p>Geoff Chappell, Software Analyst </p>
  </div>
</div>

<!--webbot bot="Include" endspan i-checksum="54033" -->
<h1>NTCONFIG.H </h1>
<p>The public symbol file NTKRPAMP.PDB for the original release of Windows 10 tells 
that the kernel is built with the NTCONFIG.H header at </p>
<blockquote>
  d:\th.public.fre\internal\sdk\inc
</blockquote>
<p>and draws from it the following type definitions: </p>
<table>
  <colgroup>
    <col class="LineNumber"><col class="Name"><col class="LineNumber">
  </colgroup>
  <tr>
    <th>Line Number </th>
    <th>Type </th>
    <th>WDM.H </th>
    <th>Remarks </th>
  </tr>
  <tr>
    <td>249 </td>
    <td>enum <span class="enum">_CM_SHARE_DISPOSITION</span> </td>
    <td>9465 </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>393 </td>
    <td>struct <span class="struct">_CM_PARTIAL_RESOURCE_DESCRIPTOR</span> </td>
    <td>9603 </td>
    <td>loses 6 </td>
  </tr>
  <tr>
    <td>397 </td>
    <td>unnamed union for <span class="member">u</span> <br>
    in <span class="struct">_CM_PARTIAL_RESOURCE_DESCRIPTOR</span>
    </td>
    <td>9607 </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>405 </td>
    <td>unnamed struct for <span class="member">Generic</span> <br>
    in
    <span class="member">u</span> <br>
    in <span class="struct">_CM_PARTIAL_RESOURCE_DESCRIPTOR</span>
    </td>
    <td>9615 </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>418 </td>
    <td>unnamed struct for <span class="member">Port</span> <br>
    in <span class="member">u</span> <br>
    in <span class="struct">_CM_PARTIAL_RESOURCE_DESCRIPTOR</span>
    </td>
    <td>9623 </td>
    <td>loses 5 </td>
  </tr>
  <tr>
    <td>430 </td>
    <td>unnamed struct for <span class="member">Interrupt</span> <br>
    in
    <span class="member">u</span> <br>
    in <span class="struct">_CM_PARTIAL_RESOURCE_DESCRIPTOR</span>
    </td>
    <td>9631 </td>
    <td>loses 4 </td>
  </tr>
  <tr>
    <td>446 </td>
    <td>unnamed struct for <span class="member">MessageInterrupt</span> <br>
    in
    <span class="member">u</span> <br>
    in <span class="struct">_CM_PARTIAL_RESOURCE_DESCRIPTOR</span>
    </td>
    <td>9647 </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>448 </td>
    <td>unnamed struct for <span class="member">Raw</span> <br>
    in <span class="member">MessageInterrupt</span> 
    <br>
    in <span class="member">u</span> <br>
    in <span class="struct">_CM_PARTIAL_RESOURCE_DESCRIPTOR</span>
    </td>
    <td>9649 </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>459 </td>
    <td>unnamed struct for <span class="member">Translated</span> <br>
    in
    <span class="member">MessageInterrupt</span> <br>
    in <span class="member">u</span> <br>
    in <span class="struct">_CM_PARTIAL_RESOURCE_DESCRIPTOR</span>
    </td>
    <td>9660 </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>478 </td>
    <td>unnamed struct for <span class="member">Memory</span> <br>
    in
    <span class="member">u</span> <br>
    in <span class="struct">_CM_PARTIAL_RESOURCE_DESCRIPTOR</span>
    </td>
    <td>9679 </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>487 </td>
    <td>unnamed struct for <span class="member">Dma</span> <br>
    in <span class="member">u</span> <br>
    in <span class="struct">_CM_PARTIAL_RESOURCE_DESCRIPTOR</span>
    </td>
    <td>9688 </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>493 </td>
    <td>unnamed struct for <span class="member">DmaV3</span> <br>
    in <span class="member">u</span> <br>
    in <span class="struct">_CM_PARTIAL_RESOURCE_DESCRIPTOR</span>
    </td>
    <td>9694 </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>507 </td>
    <td>unnamed struct for <span class="member">DevicePrivate</span> <br>
    in
    <span class="member">u</span> <br>
    in <span class="struct">_CM_PARTIAL_RESOURCE_DESCRIPTOR</span>
    </td>
    <td>9708 </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>515 </td>
    <td>unnamed struct for <span class="member">BusNumber</span> <br>
    in
    <span class="member">u</span> <br>
    in <span class="struct">_CM_PARTIAL_RESOURCE_DESCRIPTOR</span>
    </td>
    <td>9716 </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>528 </td>
    <td>unnamed struct for <span class="member">DeviceSpecificData</span> <br>
    in
    <span class="member">u</span> <br>
    in <span class="struct">_CM_PARTIAL_RESOURCE_DESCRIPTOR</span>
    </td>
    <td>9729 </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>536 </td>
    <td>unnamed struct for <span class="member">Memory40</span> <br>
    in
    <span class="member">u</span> <br>
    in <span class="struct">_CM_PARTIAL_RESOURCE_DESCRIPTOR</span>
    </td>
    <td>9737 </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>541 </td>
    <td>unnamed struct for <span class="member">Memory48</span> <br>
    in
    <span class="member">u</span> <br>
    in <span class="struct">_CM_PARTIAL_RESOURCE_DESCRIPTOR</span>
    </td>
    <td>9742 </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>546 </td>
    <td>unnamed struct for <span class="member">Memory64</span> <br>
    in
    <span class="member">u</span> <br>
    in <span class="struct">_CM_PARTIAL_RESOURCE_DESCRIPTOR</span>
    </td>
    <td>9747 </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>551 </td>
    <td>unnamed struct for <span class="member">Connection</span> <br>
    in
    <span class="member">u</span> <br>
    in <span class="struct">_CM_PARTIAL_RESOURCE_DESCRIPTOR</span>
    </td>
    <td>9752 </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>575 </td>
    <td>struct <span class="struct">_CM_PARTIAL_RESOURCE_LIST</span> </td>
    <td>9776 </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>599 </td>
    <td>struct <span class="struct">_CM_FULL_RESOURCE_DESCRIPTOR</span> </td>
    <td>9794 </td>
    <td>loses 6 </td>
  </tr>
  <tr>
    <td>610 </td>
    <td>struct <span class="struct">_CM_RESOURCE_LIST</span> </td>
    <td>9805 </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>1135</td>
    <td>enum <span class="enum">_IRQ_PRIORITY</span> </td>
    <td>10296 </td>
    <td>loses 34 </td>
  </tr>
  <tr>
    <td>1155 </td>
    <td>struct <span class="struct">_IO_RESOURCE_DESCRIPTOR</span> </td>
    <td>10316 </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>1163 </td>
    <td>unnamed union for&nbsp; <span class="member">u</span> <br>
    in <span class="struct">_IO_RESOURCE_DESCRIPTOR</span>
    </td>
    <td>10324 </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>1164 </td>
    <td>unnamed struct for <span class="member">Port</span> <br>
    in <span class="member">u</span> <br>
    in <span class="struct">_IO_RESOURCE_DESCRIPTOR</span>
    </td>
    <td>10325 </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>1171 </td>
    <td>unnamed struct for <span class="member">Memory</span> <br>
    in
    <span class="member">u</span> <br>
    in <span class="struct">_IO_RESOURCE_DESCRIPTOR</span>
    </td>
    <td>10332 </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>1178 </td>
    <td>unnamed struct for <span class="member">Interrupt</span> <br>
    in
    <span class="member">u</span> <br>
    in <span class="struct">_IO_RESOURCE_DESCRIPTOR</span>
    </td>
    <td>10339 </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>1191 </td>
    <td>unnamed struct for <span class="member">Dma</span> <br>
    in <span class="member">u</span> <br>
    in <span class="struct">_IO_RESOURCE_DESCRIPTOR</span>
    </td>
    <td>10352 </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>1196 </td>
    <td>unnamed struct for <span class="member">DmaV3</span> <br>
    in <span class="member">u</span> <br>
    in <span class="struct">_IO_RESOURCE_DESCRIPTOR</span>
    </td>
    <td>10357 </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>1203 </td>
    <td>unnamed struct for <span class="member">Generic</span> <br>
    in
    <span class="member">u</span> <br>
    in <span class="struct">_IO_RESOURCE_DESCRIPTOR</span>
    </td>
    <td>10364 </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>1210 </td>
    <td>unnamed struct for <span class="member">DevicePrivate</span> <br>
    in
    <span class="member">u</span> <br>
    in <span class="struct">_IO_RESOURCE_DESCRIPTOR</span>
    </td>
    <td>10371 </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>1218 </td>
    <td>unnamed struct for <span class="member">BusNumber</span> <br>
    in
    <span class="member">u</span> <br>
    in <span class="struct">_IO_RESOURCE_DESCRIPTOR</span>
    </td>
    <td>10379 </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>1225 </td>
    <td>unnamed struct for <span class="member">ConfigData</span> <br>
    in
    <span class="member">u</span> <br>
    in <span class="struct">_IO_RESOURCE_DESCRIPTOR</span>
    </td>
    <td>10386 </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>1236 </td>
    <td>unnamed struct for <span class="member">Memory40</span> <br>
    in
    <span class="member">u</span> <br>
    in <span class="struct">_IO_RESOURCE_DESCRIPTOR</span>
    </td>
    <td>10397 </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>1243 </td>
    <td>unnamed struct for <span class="member">Memory48</span> <br>
    in
    <span class="member">u</span> <br>
    in <span class="struct">_IO_RESOURCE_DESCRIPTOR</span>
    </td>
    <td>10404 </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>1250 </td>
    <td>unnamed struct for <span class="member">Memory64</span> <br>
    in
    <span class="member">u</span> <br>
    in <span class="struct">_IO_RESOURCE_DESCRIPTOR</span>
    </td>
    <td>10411 </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>1257 </td>
    <td>unnamed struct for <span class="member">Connection</span> <br>
    in
    <span class="member">u</span> <br>
    in <span class="struct">_IO_RESOURCE_DESCRIPTOR</span>
    </td>
    <td>10418 </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>1271 </td>
    <td>struct <span class="struct">_IO_RESOURCE_LIST</span> </td>
    <td>10432 </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>1280 </td>
    <td>struct <span class="struct">_IO_RESOURCE_REQUIREMENTS_LIST</span> </td>
    <td>10441 </td>
    <td>&nbsp;</td>
  </tr>
</table>
<p>The header NTCONFIG.H is not known in any Device Driver Kit (DDK) or Windows 
Driver Kit (WDK). </p>
<p>That said, all the types that the kernel is known to pick up from NTCONFIG.H 
are defined in the standard header WDM.H. The line numbers on the left are from 
NTCONFIG.H, as inferred from the public symbol file for the kernel. Those on the 
right are from WDM.H, as readily available in the WDK for Windows 10. It is not 
known whether NTCONFIG.H is the source of definitions in WDM.H or whether both pick 
them up from yet another header. </p>
<p>What is clear, though, is that WDM.H is a consistent loser of lines. NTCONFIG.H, 
which Microsoft keeps to itself, has more of this material than does WDM.H. What 
the extra is, let alone whether it’s important, is not easily assessed without an 
NTCONFIG.H for inspection, but one inference that’s possible seems sound. Given 
that the type information for the <span class="struct">CM_PARTIAL_RESOURCE_DESCRIPTOR</span> 
in the symbol file is what the kernel used from NTCONFIG.H, then since it agrees 
with the definition in WDM.H, the definition in NTCONFIG.H can’t differ in substance. 
Its five extra lines between the <span class="member">Generic</span> and
<span class="member">Port</span> members and four between <span class="member">Port</span> 
and <span class="member">Interrupt</span> are plausibly just comments. Of course, 
this does prompt a question: what does Microsoft have to say by way of introducing
<span class="member">Port</span> and <span class="member">Interrupt</span> that 
should be known by its own programmers but not by others? </p>
<p>For the record, Microsoft’s freely published URLMON.PDB 
reveals that all the preceding, and the very many more that follow, were accessible to the source code for URLMON.DLL from including NTCONFIG.H 
when building for the original release of 32-bit Windows 10: </p>
<table>
  <colgroup><col class="LineNumber"></colgroup>
  <tr>
    <th>Line Number </th>
    <th>Type </th>
  </tr>
  <tr>
    <td>627 </td>
    <td>struct <span class="struct">_DEVICE_FLAGS</span> </td>
  </tr>
  <tr>
    <td>641 </td>
    <td>struct <span class="struct">_CM_COMPONENT_INFORMATION</span> </td>
  </tr>
  <tr>
    <td>662 </td>
    <td>struct <span class="struct">_CM_ROM_BLOCK</span> </td>
  </tr>
  <tr>
    <td>677 </td>
    <td>struct <span class="struct">_CM_INT13_DRIVER_PARAMETER</span> </td>
  </tr>
  <tr>
    <td>691 </td>
    <td>struct <span class="struct">_CM_MCA_POS_DATA</span> </td>
  </tr>
  <tr>
    <td>703 </td>
    <td>struct <span class="struct">_EISA_MEMORY_TYPE</span> </td>
  </tr>
  <tr>
    <td>713 </td>
    <td>struct <span class="struct">_EISA_MEMORY_CONFIGURATION</span> </td>
  </tr>
  <tr>
    <td>726 </td>
    <td>struct <span class="struct">_EISA_IRQ_DESCRIPTOR</span> </td>
  </tr>
  <tr>
    <td>734 </td>
    <td>struct <span class="struct">_EISA_IRQ_CONFIGURATION</span> </td>
  </tr>
  <tr>
    <td>744 </td>
    <td>struct <span class="struct">_DMA_CONFIGURATION_BYTE0</span> </td>
  </tr>
  <tr>
    <td>751 </td>
    <td>struct <span class="struct">_DMA_CONFIGURATION_BYTE1</span> </td>
  </tr>
  <tr>
    <td>758 </td>
    <td>struct <span class="struct">_EISA_DMA_CONFIGURATION</span> </td>
  </tr>
  <tr>
    <td>768 </td>
    <td>struct <span class="struct">_EISA_PORT_DESCRIPTOR</span> </td>
  </tr>
  <tr>
    <td>775 </td>
    <td>struct <span class="struct">_EISA_PORT_CONFIGURATION</span> </td>
  </tr>
  <tr>
    <td>787 </td>
    <td>struct <span class="struct">_CM_EISA_SLOT_INFORMATION</span> </td>
  </tr>
  <tr>
    <td>803 </td>
    <td>struct <span class="struct">_CM_EISA_FUNCTION_INFORMATION</span> </td>
  </tr>
  <tr>
    <td>837 </td>
    <td>struct <span class="struct">_CM_PNP_BIOS_DEVICE_NODE</span> </td>
  </tr>
  <tr>
    <td>851 </td>
    <td>struct <span class="struct">_CM_PNP_BIOS_INSTALLATION_CHECK</span> </td>
  </tr>
  <tr>
    <td>920 </td>
    <td>struct <span class="struct">_CM_SCSI_DEVICE_DATA</span> </td>
  </tr>
  <tr>
    <td>934 </td>
    <td>struct <span class="struct">_CM_VIDEO_DEVICE_DATA</span> </td>
  </tr>
  <tr>
    <td>944 </td>
    <td>struct <span class="struct">_CM_SONIC_DEVICE_DATA</span> </td>
  </tr>
  <tr>
    <td>955 </td>
    <td>struct <span class="struct">_CM_SERIAL_DEVICE_DATA</span> </td>
  </tr>
  <tr>
    <td>969 </td>
    <td>struct <span class="struct">_CM_MONITOR_DEVICE_DATA</span> </td>
  </tr>
  <tr>
    <td>1003 </td>
    <td>struct <span class="struct">_CM_FLOPPY_DEVICE_DATA</span> </td>
  </tr>
  <tr>
    <td>1040 </td>
    <td>struct <span class="struct">_CM_KEYBOARD_DEVICE_DATA</span> </td>
  </tr>
  <tr>
    <td>1052 </td>
    <td>struct <span class="struct">_CM_DISK_GEOMETRY_DEVICE_DATA</span> </td>
  </tr>
  <tr>
    <td>1065 </td>
    <td>struct <span class="struct">_CM_PCCARD_DEVICE_DATA</span> </td>
  </tr>
  <tr>
    <td>1120 </td>
    <td>enum <span class="enum">_IRQ_DEVICE_POLICY</span> </td>
  </tr>
  <tr>
    <td>1146 </td>
    <td>enum <span class="enum">_IRQ_GROUP_POLICY</span> </td>
  </tr>
</table>
<div class="Footer">
  <p class="Dates">This page was created on 26th
  <a href="../../../../../../new/20/10.htm">October 2020</a>. </p>
  <!--webbot bot="Include" U-Include="../../../_include/c20.htm" TAG="BODY" startspan -->

<p class="Copyright">Copyright © 2020. Geoff Chappell. All rights reserved. 
<a href="../../../../../../about/terms.htm">Conditions apply</a>. </p>

<!--webbot bot="Include" endspan i-checksum="61845" -->
</div>

</body>

</html>
