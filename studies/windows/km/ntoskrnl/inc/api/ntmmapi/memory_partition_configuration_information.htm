<!doctype html>
<html lang="en">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>MEMORY_PARTITION_CONFIGURATION_INFORMATION</title>
<link rel="stylesheet" type="text/css" href="../../../../../../../_styles/master.css">
<link rel="stylesheet" type="text/css" href="../../../../../../../_styles/document.css">
<link rel="stylesheet" type="text/css" href="../../../../_styles/km.css">
<script type="text/javascript" src="../../../../../../../_scripts/master.js"></script>
<script type="text/javascript" src="../../../../../../../_scripts/document.js"></script>
<script type="text/javascript" src="../../../../_scripts/km.js" defer></script>
</head>

<body>

<!--webbot bot="Include" U-Include="../../../../_include/noscript.htm" TAG="BODY" startspan -->

<div class="NoScript" id="Banner">
  <div id="Links">
    <ul class="LinkList">
      <li> 
      <ul class="PreferNoWrap">
        <li class="LinkListItem"><a href="../../../../../../../index.htm">Home</a> </li><!--
     --><li class="LinkListItem"><a target="_self" href="../../../../toc.htm">Table of Contents</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../../about/index.htm">About This Site</a> </li>
      </ul>
      <ul class="PreferNoWrap">
        <li class="LinkListItem"><a href="../../../../../../../new/index.htm">What’s New?</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../../feedback/index.htm">Feedback</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../../consult/index.htm">Consult</a> </li>
      </ul>
      </li>
    </ul>
  </div>
  <div id="Logo">
    <p><span class="PreferNoWrap">Geoff Chappell -</span> <span class="PreferNoWrap">Software Analyst</span> </p>
  </div>
</div>

<!--webbot bot="Include" endspan i-checksum="48540" -->
<div class="Main">
  <h1>MEMORY_PARTITION_CONFIGURATION_INFORMATION </h1>
  <p>The <span class="struct">MEMORY_PARTITION_CONFIGURATION_INFORMATION</span> 
  structure (formally <span class="struct">_MEMORY_PARTITION_CONFIGURATION_INFORMATION</span>) 
  is produced as output by a successful call to <span class="function">
  <a href="../../../api/mm/partition/manage.htm">NtManagePartition</a></span> when 
  given the information class <span class="constant">SystemMemoryPartitionInformation</span> 
  (0). </p>
  <p>The structure is defined for both 32-bit and 64-bit Windows, but the 32-bit 
  form is useless in practice before Version 1703 because the 32-bit
  <span class="function">NtManagePartition</span> fails trivially (returning
  <span class="constant">STATUS_NOT_SUPPORTED</span>). </p>
  <table class="Sizes">
    <colgroup>
      <col class="Version"><col class="Size" span="2">
    </colgroup>
    <thead>
      <tr>
        <th>Version </th>
        <th>Size (x86) </th>
        <th>Size (x64) </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>10.0 to 1511 </td>
        <td>0x1C </td>
        <td>0x38 </td>
      </tr>
      <tr>
        <td>1607 </td>
        <td>0x34 </td>
        <td>0x58 </td>
      </tr>
      <tr>
        <td>1703 </td>
        <td>0x7C </td>
        <td>0xE8 </td>
      </tr>
      <tr>
        <td>1709 to 2004 </td>
        <td>0x80 </td>
        <td>0xF0 </td>
      </tr>
    </tbody>
  </table>
  <p>The sizes in the preceding table and the offsets, names and types in the next 
  are from type information in private symbol files that Microsoft has included 
  in downloadable packages of public symbol files and still makes available at the 
  public symbol server. </p>
  <table class="Struct">
    <colgroup>
      <col class="Offset" span="2"><col class="Definition">
      <col class="Versions"><col class="Remarks">
    </colgroup>
    <thead>
      <tr>
        <th>Offset (x86) </th>
        <th>Offset (x64) </th>
        <th>Definition </th>
        <th>Versions </th>
        <th>Remarks </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>0x00 </td>
        <td>0x00 </td>
        <td>
        <pre class="source">ULONG Flags;</pre>
        </td>
        <td>10.0 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x04 </td>
        <td>0x04 </td>
        <td>
        <pre class="source">ULONG NumaNode;</pre>
        </td>
        <td>1607 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x08 </td>
        <td>0x08 </td>
        <td>
        <pre class="source">ULONG Channel;</pre>
        </td>
        <td>1607 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x0C </td>
        <td>0x0C </td>
        <td>
        <pre class="source">ULONG NumberOfNumaNodes;</pre>
        </td>
        <td>1607 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x04 (10.0 to 1511) </td>
        <td>0x08 (10.0 to 1511) </td>
        <td>
        <pre class="source">ULONG_PTR TotalNumberOfPages;</pre>
        </td>
        <td>10.0 to 1511 </td>
        <td>next at 0x20 and 0x30 </td>
      </tr>
      <tr>
        <td>0x08 (10.0 to 1511); <br>
        0x10 </td>
        <td>0x10 </td>
        <td>
        <pre class="source">ULONG_PTR ResidentAvailablePages;</pre>
        </td>
        <td>10.0 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x0C (10.0 to 1511) </td>
        <td>0x18 (10.0 to 1511) </td>
        <td>
        <pre class="source">ULONG_PTR AvailablePages;</pre>
        </td>
        <td>10.0 to 1511 </td>
        <td>next at 0x24 and 0x38 </td>
      </tr>
      <tr>
        <td>0x10 (10.0 to 1511); <br>
        0x14 </td>
        <td>0x20 (10.0 to 1511); <br>
        0x18 </td>
        <td>
        <pre class="source">ULONG_PTR CommittedPages;</pre>
        </td>
        <td>10.0 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x14 (10.0 to 1511); <br>
        0x18 </td>
        <td>0x28 (10.0 to 1511); <br>
        0x20 </td>
        <td>
        <pre class="source">ULONG_PTR CommitLimit;</pre>
        </td>
        <td>10.0 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x18 (10.0 to 1511); <br>
        0x1C </td>
        <td>0x30 (10.0 to 1511); <br>
        0x28 </td>
        <td>
        <pre class="source">ULONG_PTR PeakCommitment;</pre>
        </td>
        <td>10.0 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x20 </td>
        <td>0x30 </td>
        <td>
        <pre class="source">ULONG_PTR TotalNumberOfPages;</pre>
        </td>
        <td>1607 and higher </td>
        <td>previously at 0x04 and 0x08 </td>
      </tr>
      <tr>
        <td>0x24 </td>
        <td>0x38 </td>
        <td>
        <pre class="source">ULONG_PTR AvailablePages;</pre>
        </td>
        <td>1607 and higher </td>
        <td>previously at 0x0C and 0x18 </td>
      </tr>
      <tr>
        <td>0x28 </td>
        <td>0x40 </td>
        <td>
        <pre class="source">ULONG_PTR ZeroPages;</pre>
        </td>
        <td>1607 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x2C </td>
        <td>0x48 </td>
        <td>
        <pre class="source">ULONG_PTR FreePages;</pre>
        </td>
        <td>1607 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x30 </td>
        <td>0x50 </td>
        <td>
        <pre class="source">ULONG_PTR StandbyPages;</pre>
        </td>
        <td>1607 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x34 </td>
        <td>0x58 </td>
        <td>
        <pre class="source">ULONG_PTR StandbyPageCountByPriority [8];</pre>
        </td>
        <td>1703 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x54 </td>
        <td>0x98 </td>
        <td>
        <pre class="source">ULONG_PTR RepurposedPagesByPriority [8];</pre>
        </td>
        <td>1703 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x74 </td>
        <td>0xD8 </td>
        <td>
        <pre class="source">ULONG_PTR MaximumCommitLimit;</pre>
        </td>
        <td>1703 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x78 </td>
        <td>0xE0 </td>
        <td>
        <pre class="source">ULONG_PTR DonatedPagesToPartitions;</pre>
        </td>
        <td>1703 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x7C </td>
        <td>0xE8 </td>
        <td>
        <pre class="source">ULONG PartitionId;</pre>
        </td>
        <td>1709 and higher </td>
        <td>&nbsp;</td>
      </tr>
    </tbody>
  </table>
  <div class="Footer">
    <p class="Dates">This page was created on 14th July 2016 and was last modified 
    on 14th <a href="../../../../../../../new/22/07.htm">August 2022</a>. </p>
    <!--webbot bot="Include" U-Include="../../../../_include/c16.htm" TAG="BODY" startspan -->

<p class="Copyright">Copyright © 2016. Geoff Chappell. All rights reserved. 
<a href="../../../../../../../about/terms.htm">Conditions apply</a>. </p>

<!--webbot bot="Include" endspan i-checksum="6338" -->
  </div>
</div>

</body>

</html>
