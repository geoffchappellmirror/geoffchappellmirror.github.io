<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>The #error Directive</title>
<link rel="stylesheet" type="text/css" href="../../../../../_styles/master.css">
<link rel="stylesheet" type="text/css" href="../../../../../_styles/document.css">
<link rel="stylesheet" type="text/css" href="../../../_styles/msvc.css">
<script type="text/javascript" src="../../../../../_scripts/master.js"></script>
<script type="text/javascript" src="../../../../../_scripts/document.js"></script>
<script type="text/javascript" src="../../../_scripts/msvc.js"></script>
</head>

<body>

<!--webbot bot="Include" U-Include="../../../_include/noscript.htm" TAG="BODY" startspan -->

<div class="NoScript" id="Banner">
  <div id="Links">
    <ul class="LinkList">
      <li class="LinkListItem"><a href="../../../../../index.htm"><span>Home</span></a> </li>
      <li class="LinkListItem"><a target="_self" href="../../../toc.htm"><span>Table of Contents</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../about/index.htm"><span>About This Site</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../new/index.htm"><span>What’s New?</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../feedback/index.htm"><span>Feedback</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../consult/index.htm"><span>Consult</span></a> </li>
    </ul>
  </div>
  <div id="Logo">
    <p>Geoff Chappell - Software Analyst </p>
  </div>
</div>

<!--webbot bot="Include" i-checksum="24274" endspan -->
<h1>The #error Directive </h1>
<h2>Syntax </h2>
<blockquote>
  <p><span class="directive"># error</span>[<span class="placeholder">text</span>]
  </p>
</blockquote>
<p>The optional <span class="placeholder">text</span> consists of all characters 
immediately after the <span class="directive">error</span> identifier up to but 
not including the end of the line. Trigraph escape sequences are reduced and 
line continuation is respected, but comments are not discarded and macros are 
not recognised.
</p>
<h2>Behaviour </h2>
<p>The <span class="directive">#error</span> directive’s sole action is to 
trigger a fatal error (C1189), with <span class="placeholder">text</span> 
inserted into the error message, e.g., </p>
<pre class="output"><span class="placeholder">position</span> : fatal error C1189: #error : <span class="placeholder">text</span> </pre>
<p>Microsoft’s documentation is demonstrably wrong in claiming that macros are 
expanded in the <span class="placeholder">text</span> and indeed in suggesting 
that the argument to a <span class="directive">#error</span> directive is any 
sort of “<span class="placeholder">token-string</span>”. Where the relevant code 
identifies what to count as the
<span class="placeholder">text</span>, it works directly with characters, not 
tokens, and is a long way even from recognising macros, let alone from deciding 
whether to expand them. </p>
<p>Apart from characters that indicate the end of a line or file, special 
significance is given only to the question mark (for trigraph reduction) and the 
backslash (for line splicing). Notably, a forward slash is just a forward slash, 
never the start of a comment. Anything the user may intend as a comment in a
<span class="directive">#error</span> directive passes unchanged into the error
<span class="placeholder">text</span>. </p>
<div class="Footer">
  <p class="Dates">This page was created on 13th January 2006 and was last 
  modified on 6th January 2010. </p>
  <!--webbot bot="Include" U-Include="../../../_include/c0610.htm" TAG="BODY" startspan -->

<p class="Copyright">Copyright © 2006-2010. Geoff Chappell. All rights reserved.
<a href="../../../../../about/terms.htm">Conditions apply</a>. </p>

<!--webbot bot="Include" i-checksum="62416" endspan -->
</div>

</body>

</html>