<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>KTRAP_FRAME</title>
<link rel="stylesheet" type="text/css" href="../../../../../../_styles/master.css">
<link rel="stylesheet" type="text/css" href="../../../../../../_styles/document.css">
<link rel="stylesheet" type="text/css" href="../../../_styles/km.css">
<script type="text/javascript" src="../../../../../../_scripts/master.js"></script>
<script type="text/javascript" src="../../../../../../_scripts/document.js"></script>
<script type="text/javascript" src="../../../_scripts/km.js"></script>
</head>

<body>

<!--webbot bot="Include" U-Include="../../../_include/noscript.htm" TAG="BODY" startspan -->

<div class="NoScript" id="Banner">
  <div id="Links">
    <ul class="LinkList">
      <li class="LinkListItem"><a href="../../../../../../index.htm"><span>Home</span></a> </li>
      <li class="LinkListItem"><a target="_self" href="../../../toc.htm"><span>Table of Contents</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../../about/index.htm"><span>About This Site</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../../new/index.htm"><span>What’s New?</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../../feedback/index.htm"><span>Feedback</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../../consult/index.htm"><span>Consult</span></a> </li>
    </ul>
  </div>
  <div id="Logo">
    <p>Geoff Chappell, Software Analyst </p>
  </div>
</div>

<!--webbot bot="Include" endspan i-checksum="54033" -->
<h1>KTRAP_FRAME </h1>
<p>The <span class="struct">KTRAP_FRAME</span> (formally a <span class="struct">
_KTRAP_FRAME</span>) is a structure in which the kernel saves the state of execution 
that gets interrupted for diversion to the kernel, whether from external hardware, 
the processor itself (for a trap or fault) or by software executing an
<span class="instruction">int</span> instruction or similar. </p>
<p>The <span class="struct">KTRAP_FRAME</span> is highly specific to the processor 
architecture. Indeed, public symbol files confirm that Microsoft differentiates 
the x86 and x64 implementations not by conditional compilation but by defining them 
in separate headers. This note follows Microsoft and presents the
<a href="i386_x/ktrap_frame.htm">x86 <span class="struct">KTRAP_FRAME</span></a> 
and <a href="amd64_x/ktrap_frame.htm">x64 <span class="struct">KTRAP_FRAME</span></a> 
separately. </p>
<div class="Footer">
  <p class="Dates">This page was created on 29th December 2020 from material first 
  published on 6th <a href="../../../../../../new/17/01.htm">January 2017</a>.
  </p>
  <!--webbot bot="Include" U-Include="../../../_include/c1720.htm" TAG="BODY" startspan -->

<p class="Copyright">Copyright © 2017-2020. Geoff Chappell. All rights reserved. 
<a href="../../../../../../about/terms.htm">Conditions apply</a>. </p>

<!--webbot bot="Include" endspan i-checksum="55207" -->
</div>

</body>

</html>
