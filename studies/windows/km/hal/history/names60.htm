<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>HAL Exports Added for Version 6.0</title>
<link rel="stylesheet" type="text/css" href="../../../../../_styles/master.css">
<link rel="stylesheet" type="text/css" href="../../../../../_styles/document.css">
<link rel="stylesheet" type="text/css" href="../../_styles/km.css">
<script type="text/javascript" src="../../../../../_scripts/master.js"></script>
<script type="text/javascript" src="../../../../../_scripts/document.js"></script>
<script type="text/javascript" src="../../_scripts/km.js"></script>
</head>

<body>

<!--webbot bot="Include" U-Include="../../_include/noscript.htm" TAG="BODY" startspan -->

<div class="NoScript" id="Banner">
  <div id="Links">
    <ul class="LinkList">
      <li> 
      <ul class="PreferNoWrap">
        <li class="LinkListItem"><a href="../../../../../index.htm">Home</a> </li><!--
     --><li class="LinkListItem"><a target="_self" href="../../toc.htm">Table of Contents</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../about/index.htm">About This Site</a> </li>
      </ul>
      <ul class="PreferNoWrap">
        <li class="LinkListItem"><a href="../../../../../new/index.htm">What’s New?</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../feedback/index.htm">Feedback</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../consult/index.htm">Consult</a> </li>
      </ul>
      </li>
    </ul>
  </div>
  <div id="Logo">
    <p><span class="PreferNoWrap">Geoff Chappell -</span> <span class="PreferNoWrap">Software Analyst</span> </p>
  </div>
</div>

<!--webbot bot="Include" endspan i-checksum="63592" -->
<h1>HAL Exports Added For Version 6.0 </h1>
<p>This page lists all the exports that were added to the HAL for version 6.0, i.e., 
for Windows Vista. One is exported only from the x64 builds (until version 10.0 
makes it also an x86 export). Another doesn’t survive even to the first service 
pack, i.e., Windows Vista SP1 which is also Windows Server 2008. Five do not start 
until Windows Vista SP1. Although this version brings by far the largest increase 
in exported functionality since the HAL’s creation, not even one of the new functions 
is documented. </p>
<!--webbot bot="Include" U-Include="../../_include/colours2.htm" TAG="BODY" startspan -->

<p>For the table below, documentation status is summarised by colour coding so that 
more detail can be given as Remarks with less text. (If you read this website with 
scripts enabled, then hovering the mouse over any coloured text will produce a tooltip 
that shows why the text is coloured.) Functions that have their own non-trivial 
documentation are shown with no background colour. Functions that appear to be completely 
undocumented are <span class="undocumented">highlighted yellow</span>. If a function 
is documented now but was not documented in the first contemporaneous Device Driver 
Kit (DDK), Windows Driver Kit (WDK) or Installable File System (IFS) Kit, then it 
is <span class="delayed">shaded yellow</span> to retain some of its previous status. 
Many undocumented functions do at least have C-language declarations in one or another 
header file from the WDK. These are <span class="declared">shaded orange</span>, 
except for one special case. Some declarations are known only from “minwin” headers 
that Microsoft published in early editions of the WDK for Windows 10 which seem 
since to have been withdrawn. These are <span class="minwin">highlighted orange</span> 
to indicate that public knowledge even of the declaration is exceptional. </p>

<!--webbot bot="Include" endspan i-checksum="15261" -->
<table class="Functions">
  <colgroup>
    <col class="Name"><col class="Remarks">
  </colgroup>
  <tr>
    <th>Function </th>
    <th>Export History </th>
  </tr>
  <tr>
    <td><span class="declared function">
    <a href="../api/mcheck/halbugchecksystem.htm">HalBugCheckSystem</a></span>
    </td>
    <td>x64 since 2004, forwarded to kernel </td>
  </tr>
  <tr>
    <td><span class="minwin function">HalConvertDeviceIdtToIrql</span> </td>
    <td>x64 since 2004, forwarded to kernel </td>
  </tr>
  <tr>
    <td><span class="minwin function">HalDisableInterrupt</span> </td>
    <td>x64 since 2004, forwarded to kernel </td>
  </tr>
  <tr>
    <td><span class="undocumented function">HalDynamicProcessorStarted</span>
    </td>
    <td>discontinued in SP1 </td>
  </tr>
  <tr>
    <td><span class="minwin function">HalEnableInterrupt</span> </td>
    <td>x64 since 2004, forwarded to kernel </td>
  </tr>
  <tr>
    <td><span class="minwin function">HalEnumerateEnvironmentVariablesEx</span>
    </td>
    <td>x64 since 2004, forwarded to kernel </td>
  </tr>
  <tr>
    <td><span class="undocumented function">HalEnumerateProcessors</span> </td>
    <td>x64-only before 10.0; <br>
    x64 since 2004, forwarded to kernel </td>
  </tr>
  <tr>
    <td><span class="minwin function">HalGetEnvironmentVariableEx</span> </td>
    <td>x64 since 2004, forwarded to kernel </td>
  </tr>
  <tr>
    <td><span class="minwin function">HalGetInterruptTargetInformation</span>
    </td>
    <td>x64 since 2004, forwarded to kernel </td>
  </tr>
  <tr>
    <td><span class="minwin function">HalGetMessageRoutingInfo</span> </td>
    <td>x64 since 2004, forwarded to kernel </td>
  </tr>
  <tr>
    <td><span class="minwin function">HalGetProcessorIdByNtNumber</span> </td>
    <td>starts in SP1; <br>
    x64 since 2004, forwarded to kernel </td>
  </tr>
  <tr>
    <td><span class="minwin function">HalGetVectorInput</span> </td>
    <td>x64 since 2004, forwarded to kernel </td>
  </tr>
  <tr>
    <td><span class="undocumented function">HalInitializeBios</span> </td>
    <td>x64 since 2004, forwarded to kernel </td>
  </tr>
  <tr>
    <td><span class="undocumented function">HalInitializeOnResume</span> </td>
    <td>starts in SP1; <br>
    x64 since 2004, forwarded to kernel </td>
  </tr>
  <tr>
    <td><span class="minwin function">HalQueryEnvironmentVariableInfoEx</span>
    </td>
    <td>starts in SP1; <br>
    x64 since 2004, forwarded to kernel </td>
  </tr>
  <tr>
    <td><span class="undocumented function">HalQueryMaximumProcessorCount</span>
    </td>
    <td>starts in SP1; <br>
    x64 since 2004, forwarded to kernel </td>
  </tr>
  <tr>
    <td><span class="undocumented function">HalRegisterDynamicProcessor</span>
    </td>
    <td>starts in SP1; <br>
    x64 since 2004, forwarded to kernel </td>
  </tr>
  <tr>
    <td><span class="undocumented function">HalRegisterErrataCallbacks</span>
    </td>
    <td>x64 since 2004, forwarded to kernel </td>
  </tr>
  <tr>
    <td><span class="minwin function">HalSetEnvironmentVariableEx</span> </td>
    <td>x64 since 2004, forwarded to kernel </td>
  </tr>
  <tr>
    <td><span class="undocumented function">HalStartDynamicProcessor</span> </td>
    <td>x64 since 2004, forwarded to kernel </td>
  </tr>
  <tr>
    <td><span class="undocumented function">
    <a href="../api/x86bios/allocatebuffer.htm">x86BiosAllocateBuffer</a></span>
    </td>
    <td>x64 since 2004, forwarded to kernel </td>
  </tr>
  <tr>
    <td><span class="undocumented function"><a href="../api/x86bios/call.htm">x86BiosCall</a></span>
    </td>
    <td>x64 since 2004, forwarded to kernel </td>
  </tr>
  <tr>
    <td><span class="undocumented function">
    <a href="../api/x86bios/freebuffer.htm">x86BiosFreeBuffer</a></span> </td>
    <td>x64 since 2004, forwarded to kernel </td>
  </tr>
  <tr>
    <td><span class="undocumented function">
    <a href="../api/x86bios/readmemory.htm">x86BiosReadMemory</a></span> </td>
    <td>x64 since 2004, forwarded to kernel </td>
  </tr>
  <tr>
    <td><span class="undocumented function">
    <a href="../api/x86bios/writememory.htm">x86BiosWriteMemory</a></span> </td>
    <td>x64 since 2004, forwarded to kernel </td>
  </tr>
</table>
<p>The one of these functions that has always been declared, i.e.,
<span class="declared function">HalBugCheckSystem</span>, is in some sense two functions. 
It changed for version 6.1 to take two arguments instead of one. That the two variants 
are incompatible might easily be missed: a driver that is built for Windows Vista 
and higher but which calls this function will break on any higher Windows. Against 
this is that the only caller that Microsoft expects is Microsoft’s own PSHED.DLL.
</p>
<h2>Discontinued </h2>
<p>In version 6.0, the HAL stops exporting a few functions. Curiously, all are either 
wholly ancient or very new. For each, the version in parentheses tells when exporting 
started: </p>
<ul>
  <li><span class="undocumented function">HalDisableSystemInterrupt</span> (3.10)
  </li>
  <li><span class="undocumented function">HalEnableSystemInterrupt</span> (3.10)
  </li>
  <li><span class="undocumented function">x86BiosExecuteInterrupt</span> (5.2 SP1)
  </li>
  <li><span class="undocumented function">x86BiosInitializeBiosEx</span> (5.2 SP1)
  </li>
  <li><span class="undocumented function">x86BiosTranslateAddress</span> (5.2 SP1)
  </li>
</ul>
<div class="Footer">
  <p class="Dates">This page was created on 14th April 2009 and was last modified 
  on 13th October 2020. </p>
  <!--webbot bot="Include" U-Include="../../_include/c0920.htm" TAG="BODY" startspan -->

<p class="Copyright">Copyright © 2009-2020. Geoff Chappell. All rights reserved. 
<a href="../../../../../about/terms.htm">Conditions apply</a>. </p>

<!--webbot bot="Include" endspan i-checksum="5603" -->
</div>

</body>

</html>
