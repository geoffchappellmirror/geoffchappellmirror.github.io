<html>

<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<title>CPU_VENDORS (amd64)</title>
<link rel="stylesheet" type="text/css" href="../../../../../../../_styles/master.css">
<link rel="stylesheet" type="text/css" href="../../../../../../../_styles/document.css">
<link rel="stylesheet" type="text/css" href="../../../../_styles/km.css">
<script type="text/javascript" src="../../../../../../../_scripts/master.js"></script>
<script type="text/javascript" src="../../../../../../../_scripts/document.js"></script>
<script type="text/javascript" src="../../../../_scripts/km.js"></script>
</head>

<body>

<!--webbot bot="Include" U-Include="../../../../_include/noscript.htm" TAG="BODY" startspan -->

<div class="NoScript" id="Banner">
  <div id="Links">
    <ul class="LinkList">
      <li class="LinkListItem"><a href="../../../../../../../index.htm"><span>Home</span></a> </li>
      <li class="LinkListItem"><a target="_self" href="../../../../toc.htm"><span>Table of Contents</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../../../about/index.htm"><span>About This Site</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../../../new/index.htm"><span>What’s New?</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../../../feedback/index.htm"><span>Feedback</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../../../consult/index.htm"><span>Consult</span></a> </li>
    </ul>
  </div>
  <div id="Logo">
    <p>Geoff Chappell, Software Analyst </p>
  </div>
</div>

<!--webbot bot="Include" endspan i-checksum="29544" -->
<h1>CPU_VENDORS (amd64) </h1>
<p>The <span class="enum">CPU_VENDORS</span> enumeration is a convenient classification 
of the <a href="../../../../cpu/cpuid/00000000h/vendor.htm">vendor string</a> that 
the <span class="instruction">cpuid</span> instruction’s leaf 0 produces in the
<span class="register">ebx</span>, <span class="register">edx</span> and
<span class="register">ecx</span> registers. The recognised vendors and the corresponding 
values in the enumeration are specific to the processor architecture. This page 
concerns itself only with 64-bit Windows for the processor architecture that’s variously 
named amd64 or x64. The <a href="../i386_x/cpu_vendors.htm">x86
<span class="enum">CPU_VENDORS</span></a> is presented separately. </p>
<p>All versions of the x64 kernel save each processor’s vendor string into the processor’s
<span class="struct"><a href="kprcb/index.htm">KPRCB</a></span> as the
<span class="member">VendorString</span> member but they also classify the vendor 
string to a 32-bit number which is then saved into the <span class="struct">KPRCB</span> 
as the 8-bit <span class="member">CpuVendor</span>. The possible values are: </p>
<table>
  <tr>
    <th>Value </th>
    <th>Name </th>
    <th>CPU Vendor String </th>
    <th>Versions </th>
  </tr>
  <tr>
    <td>0 </td>
    <td><span class="constant">CPU_UNKNOWN</span> </td>
    <td>&nbsp;</td>
    <td>all </td>
  </tr>
  <tr>
    <td rowspan="2">1 </td>
    <td rowspan="2"><span class="constant">CPU_AMD</span> </td>
    <td>AuthenticAMD </td>
    <td>all </td>
  </tr>
  <tr>
    <td>HygonGenuine </td>
    <td>1809 and higher </td>
  </tr>
  <tr>
    <td>2 </td>
    <td><span class="constant">CPU_INTEL</span> </td>
    <td>GenuineIntel </td>
    <td>all </td>
  </tr>
  <tr>
    <td>3 </td>
    <td><span class="constant">CPU_VIA</span> </td>
    <td>CentaurHauls </td>
    <td>6.1 and higher </td>
  </tr>
  <tr>
    <td>4 </td>
    <td>&nbsp;</td>
    <td>HygonGenuine </td>
    <td>1803 only </td>
  </tr>
</table>
<p>Curiously, although the x86 enumeration has slipped out as type information in 
public symbol files (including even for some user-mode modules), the x64 never has. 
Microsoft’s assembly-language names for three members are known from KSAMD64.INC 
starting with the Windows Driver Kit (WDK) for Windows 8. That they and
<span class="constant">CPU_UNKNOWN</span> belong to a C-language enumeration named
<span class="enum">CPU_VENDORS</span> is confirmed from the NTOSP.H from the Windows 
Driver Kit (WDK) for the original release of Windows 10 and for Version 1511.
</p>
<p>Microsoft’s name for the short-lived case that Version 1803 makes for the vendor 
string HygonGenuine is not known. Later versions classify it as
<span class="constant">CPU_AMD</span>. </p>
<p>The value <span class="constant">CPU_UNKNOWN</span> represents any processor 
whose vendor string is not recognised. It can be in the <span class="member">CpuVendor</span> 
only very briefly. If the vendor is not identified, then 64-bit Windows stops with 
the <span class="constant"><a href="../../../../bugchecks/5d.htm">UNSUPPORTED_PROCESSOR</a></span> 
bug check (0x5D). Before a reworking for the 1803 edition of Windows 10, this is 
almost immediate. </p>
<div class="Footer">
  <p class="Dates">This page was created on 28th 
  <a href="../../../../../../../new/20/12.htm">December 2020</a> from material first 
  published on 14th November 2016. It was last modified on 31st December 2020.
  </p>
  <!--webbot bot="Include" U-Include="../../../../_include/c1620.htm" TAG="BODY" startspan -->

<p class="Copyright">Copyright © 2016-2020. Geoff Chappell. All rights reserved. 
<a href="../../../../../../../about/terms.htm">Conditions apply</a>. </p>

<!--webbot bot="Include" endspan i-checksum="4893" -->
</div>

</body>

</html>
