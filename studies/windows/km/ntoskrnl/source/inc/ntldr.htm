<!doctype html>
<html lang="en">

<head>
<title>NTLDR.H</title>
<link rel="stylesheet" type="text/css" href="../../../../../../_styles/master.css">
<link rel="stylesheet" type="text/css" href="../../../../../../_styles/document.css">
<link rel="stylesheet" type="text/css" href="../../../_styles/km.css">
<script type="text/javascript" src="../../../../../../_scripts/master.js"></script>
<script type="text/javascript" src="../../../../../../_scripts/document.js"></script>
<script type="text/javascript" src="../../../_scripts/km.js" defer></script>
</head>

<body>

<!--webbot bot="Include" U-Include="../../../_include/noscript.htm" TAG="BODY" startspan -->

<div class="NoScript" id="Banner">
  <div id="Links">
    <ul class="LinkList">
      <li> 
      <ul class="PreferNoWrap">
        <li class="LinkListItem"><a href="../../../../../../index.htm">Home</a> </li><!--
     --><li class="LinkListItem"><a target="_self" href="../../../toc.htm">Table of Contents</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../about/index.htm">About This Site</a> </li>
      </ul>
      <ul class="PreferNoWrap">
        <li class="LinkListItem"><a href="../../../../../../new/index.htm">What’s New?</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../feedback/index.htm">Feedback</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../consult/index.htm">Consult</a> </li>
      </ul>
      </li>
    </ul>
  </div>
  <div id="Logo">
    <p><span class="PreferNoWrap">Geoff Chappell -</span> <span class="PreferNoWrap">Software Analyst</span> </p>
  </div>
</div>

<!--webbot bot="Include" endspan i-checksum="43332" -->
<div class="Main">
  <h1>NTLDR.H </h1>
  <p>The public symbol file NTKRPAMP.PDB for the original release of Windows 10 
  tells that the kernel is built with the NTLDR.H header at </p>
  <blockquote>
    d:\th.public.fre\internal\sdk\inc
  </blockquote>
  <p>and draws from it the type definitions that are tabulated below. The header 
  NTLDR.H is not known in any Device Driver Kit (DDK) or Windows Driver Kit (WDK).
  </p>
  <table class="LineNumbers">
    <colgroup>
      <col class="LineNumber"><col class="Name">
    </colgroup>
    <thead>
      <tr>
        <th>Line Number </th>
        <th>Type </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>100 </td>
        <td>struct <span class="struct">_LDR_SERVICE_TAG_RECORD</span> </td>
      </tr>
      <tr>
        <td>105 </td>
        <td>enum <span class="enum">
        <a href="../../inc/api/ntldr/ldr_ddag_state.htm">_LDR_DDAG_STATE</a></span>
        </td>
      </tr>
      <tr>
        <td>127 </td>
        <td>struct <span class="struct">_LDRP_CSLIST</span> </td>
      </tr>
      <tr>
        <td>135 </td>
        <td>struct <span class="struct">
        <a href="../../inc/api/ntldr/ldr_ddag_node.htm">_LDR_DDAG_NODE</a></span>
        </td>
      </tr>
      <tr>
        <td>152 </td>
        <td>enum <span class="enum">
        <a href="../../inc/api/ntldr/ldr_dll_load_reason.htm">_LDR_DLL_LOAD_REASON</a></span>
        </td>
      </tr>
      <tr>
        <td>167 </td>
        <td>struct <span class="struct">
        <a href="../../inc/api/ntldr/ldr_data_table_entry/index.htm">_LDR_DATA_TABLE_ENTRY</a></span>
        </td>
      </tr>
      <tr>
        <td>248 </td>
        <td>struct <span class="struct">
        <a href="../../inc/api/ntldr/kldr_data_table_entry.htm">_KLDR_DATA_TABLE_ENTRY</a></span>
        </td>
      </tr>
      <tr>
        <td>263 </td>
        <td>unnamed union <span class="member">u1</span> in <br>
        struct <span class="struct">_KLDR_DATA_TABLE_ENTRY</span> </td>
      </tr>
    </tbody>
  </table>
  <p>Note that several of these structures are shared with—indeed, used more by—NTDLL 
  in user mode. Though it’s plain as day that the user-mode <span class="struct">
  LDR_DATA_TABLE_ENTRY</span> and kernel-mode <span class="struct">KLDR_DATA_TABLE_ENTRY</span> 
  have a common origin, confirmation that they are defined in the same header is 
  welcome: guessing it would never have been safe. </p>
  <p>More types from NTLDR.H show in symbol files for other modules. Some of these 
  others are public symbols for kernel-mode drivers, especially for processor power 
  management. Some are private symbols for user-mode DLLs. Among these are some 
  that are very far removed from system programming, e.g., URLMON.DLL from Internet 
  Explorer. If inclusion of these unusually detailed symbol files in downloadable 
  packages of public symbols for all off Windows was at first an oversight, it has 
  been left to stand for years, though not for all modules. For instance, it ceased 
  for URLMON.DLL after the 1709 edition of Windows 10. </p>
  <h2>Anti-Trust Settlement Forensics </h2>
  <p>For the record, here are the types that Microsoft’s freely published URLMON.PDB 
  reveals were accessible to the source code for URLMON.DLL from including NTLDR.H 
  when building for the original release of 32-bit Windows 10: </p>
  <table class="LineNumbers">
    <colgroup>
      <col class="LineNumber"><col class="Name">
    </colgroup>
    <thead>
      <tr>
        <th>Line Number </th>
        <th>Type </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>100 </td>
        <td>struct <span class="struct">_LDR_SERVICE_TAG_RECORD</span> </td>
      </tr>
      <tr>
        <td>105 </td>
        <td>enum <span class="enum">_LDR_DDAG_STATE</span> </td>
      </tr>
      <tr>
        <td>127 </td>
        <td>struct <span class="struct">_LDRP_CSLIST</span> </td>
      </tr>
      <tr>
        <td>135 </td>
        <td>struct <span class="struct">_LDR_DDAG_NODE</span> </td>
      </tr>
      <tr>
        <td>152 </td>
        <td>enum <span class="enum">_LDR_DLL_LOAD_REASON</span> </td>
      </tr>
      <tr>
        <td>167 </td>
        <td>struct <span class="struct">_LDR_DATA_TABLE_ENTRY</span> </td>
      </tr>
      <tr>
        <td>248 </td>
        <td>struct <span class="struct">_KLDR_DATA_TABLE_ENTRY</span> </td>
      </tr>
      <tr>
        <td>263 </td>
        <td>unnamed union <span class="member">u1</span> in <br>
        struct <span class="struct">_KLDR_DATA_TABLE_ENTRY</span> </td>
      </tr>
      <tr>
        <td>282 </td>
        <td>struct <span class="struct">_LDR_DATA_TABLE_ENTRY32</span> </td>
      </tr>
      <tr>
        <td>317 </td>
        <td>struct <span class="struct">_LDR_DATA_TABLE_ENTRY64</span> </td>
      </tr>
      <tr>
        <td>352 </td>
        <td>struct <span class="struct">_KLDR_DATA_TABLE_ENTRY32</span> </td>
      </tr>
      <tr>
        <td>377 </td>
        <td>struct <span class="struct">_KLDR_DATA_TABLE_ENTRY64</span> </td>
      </tr>
      <tr>
        <td>622 </td>
        <td>struct <span class="struct">_LDR_IMPORT_CALLBACK_INFO</span> </td>
      </tr>
      <tr>
        <td>627 </td>
        <td>struct <span class="struct">_LDR_SECTION_INFO</span> </td>
      </tr>
      <tr>
        <td>639 </td>
        <td>struct <span class="struct">_LDR_VERIFY_IMAGE_INFO</span> </td>
      </tr>
      <tr>
        <td>776 </td>
        <td>struct <span class="struct">_COVERAGE_SECTION_HEADER</span> </td>
      </tr>
      <tr>
        <td>832 </td>
        <td>struct <span class="struct">_LDR_ENUM_RESOURCE_ENTRY</span> </td>
      </tr>
      <tr>
        <td>833 </td>
        <td>unnamed union for <span class="member">Path</span> in <br>
        struct <span class="struct">_LDR_ENUM_RESOURCE_ENTRY</span> </td>
      </tr>
      <tr>
        <td>894 </td>
        <td>struct <span class="struct">
        <a href="../../inc/api/ntldr/rtl_module_basic_info.htm">_RTL_MODULE_BASIC_INFO</a></span>
        </td>
      </tr>
      <tr>
        <td>898 </td>
        <td>struct <span class="struct">
        <a href="../../inc/api/ntldr/rtl_module_extended_info.htm">_RTL_MODULE_EXTENDED_INFO</a></span>
        </td>
      </tr>
      <tr>
        <td>916 </td>
        <td>struct <span class="struct">
        <a href="../../inc/api/ntldr/rtl_process_module_information.htm">_RTL_PROCESS_MODULE_INFORMATION</a></span>
        </td>
      </tr>
      <tr>
        <td>929 </td>
        <td>struct <span class="struct">
        <a href="../../inc/api/ntldr/rtl_process_module_information_ex.htm">_RTL_PROCESS_MODULE_INFORMATION_EX</a></span>
        </td>
      </tr>
      <tr>
        <td>937 </td>
        <td>struct <span class="struct">
        <a href="../../inc/api/ntldr/rtl_process_modules.htm">_RTL_PROCESS_MODULES</a></span>
        </td>
      </tr>
      <tr>
        <td>1069 </td>
        <td>struct <span class="struct">_LOAD_ASDATA_TABLE</span> </td>
      </tr>
      <tr>
        <td>1198 </td>
        <td>struct <span class="struct">_LDR_DLL_LOADED_NOTIFICATION_DATA</span>
        </td>
      </tr>
      <tr>
        <td>1210 </td>
        <td>struct <span class="struct">_LDR_DLL_UNLOADED_NOTIFICATION_DATA</span>
        </td>
      </tr>
      <tr>
        <td>1220 </td>
        <td>union <span class="struct">_LDR_DLL_NOTIFICATION_DATA</span> </td>
      </tr>
      <tr>
        <td>1429 </td>
        <td>struct <span class="struct">_LDR_FAILURE_DATA</span> </td>
      </tr>
      <tr>
        <td>1442 </td>
        <td>unnamed enum </td>
      </tr>
    </tbody>
  </table>
  <div class="Footer">
    <p class="Dates">This page was created on 26th
    <a href="../../../../../../new/20/10.htm">October 2020</a> and was last modified 
    on 29th <a href="../../../../../../new/22/12.htm">December 2022</a>. </p>
    <!--webbot bot="Include" U-Include="../../../_include/c2022.htm" TAG="BODY" startspan -->

<p class="Copyright">Copyright © 2020-2022. Geoff Chappell. All rights reserved. 
<a href="../../../../../../about/terms.htm">Conditions apply</a>. </p>

<!--webbot bot="Include" endspan i-checksum="54407" -->
  </div>
</div>

</body>

</html>
