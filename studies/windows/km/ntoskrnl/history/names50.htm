<!doctype html>
<html lang="en">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Kernel Exports Added for Version 5.0</title>
<link rel="stylesheet" type="text/css" href="../../../../../_styles/master.css">
<link rel="stylesheet" type="text/css" href="../../../../../_styles/document.css">
<link rel="stylesheet" type="text/css" href="../../_styles/km.css">
<script type="text/javascript" src="../../../../../_scripts/master.js"></script>
<script type="text/javascript" src="../../../../../_scripts/document.js"></script>
<script type="text/javascript" src="../../_scripts/km.js" defer></script>
</head>

<body>

<!--webbot bot="Include" U-Include="../../_include/noscript.htm" TAG="BODY" startspan -->

<div class="NoScript" id="Banner">
  <div id="Links">
    <ul class="LinkList">
      <li> 
      <ul class="PreferNoWrap">
        <li class="LinkListItem"><a href="../../../../../index.htm">Home</a> </li><!--
     --><li class="LinkListItem"><a target="_self" href="../../toc.htm">Table of Contents</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../about/index.htm">About This Site</a> </li>
      </ul>
      <ul class="PreferNoWrap">
        <li class="LinkListItem"><a href="../../../../../new/index.htm">What’s New?</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../feedback/index.htm">Feedback</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../consult/index.htm">Consult</a> </li>
      </ul>
      </li>
    </ul>
  </div>
  <div id="Logo">
    <p><span class="PreferNoWrap">Geoff Chappell -</span> <span class="PreferNoWrap">Software Analyst</span> </p>
  </div>
</div>

<!--webbot bot="Include" endspan i-checksum="63592" -->
<div class="Main">
  <h1>Kernel Exports Added for Version 5.0 </h1>
  <p>This page lists the 202 exports that are newly exported from the Windows kernel 
  for the original Windows 2000. Almost all are still exported as of version 10.0.
  </p>
  <p>Also listed are eight that were added for SP1, five for SP3 and two for SP4. 
  The additions for this last service pack are specially notable for the different 
  ways that they do not turn up for Windows XP. One is an exported function only 
  in the long death of Windows 2000, not in Windows XP or any later Windows. The 
  other looks to have been intended first for Windows Server 2003 and then back-fitted 
  into the roughly contemporaneous Windows 2000 SP4 but never into any Windows XP 
  service packs. </p>
  <h2>Conventions </h2>
  <!--webbot bot="Include" U-Include="_include/conventions.htm" TAG="BODY" startspan -->

<p>To convey more detail with less text, the page relies heavily on several types 
of shortcut. </p>

<!--webbot bot="Include" endspan i-checksum="31086" -->
  <!--webbot bot="Include" U-Include="_include/variables.htm" TAG="BODY" startspan -->

<p>The first is that although a few of the kernel’s exports are of variables rather 
than functions, I tend to talk of all as functions, hoping that no confusion will 
be caused by the loose terminology. The variables are indicated by a parenthetical 
“data” after their first appearance in the Functions column. </p>

<!--webbot bot="Include" endspan i-checksum="20269" -->
  <h3>Colours </h3>
  <!--webbot bot="Include" U-Include="../../_include/colours.htm" TAG="BODY" startspan -->

<p>Documentation status is summarised by colour coding. <span class="NoScript">(Had 
the website’s scripts run as expected, then hovering over any colour-coded text 
would produce a tooltip that shows why the text is coloured.) </span>
<span class="ScriptOnly">(To decode a colour, hover for a tooltip.) </span></p>
<p>Functions that appear to be completely undocumented are
<span class="undocumented">highlighted yellow</span>. If a function is documented 
now but was not documented in the first contemporaneous Device Driver Kit (DDK), 
Windows Driver Kit (WDK) or Installable File System (IFS) Kit, then it is
<span class="delayed">shaded yellow</span> to retain some of its previous status. 
If a function is documented as reserved or obsolete, it is
<span class="reserved">shaded red</span> or <span class="obsolete">shaded grey</span>, 
respectively. Otherwise, functions that have their own non-trivial documentation 
are left with no background colour. </p>
<p>Many undocumented functions and some variables have C-language declarations in 
one or another header file. To show them as being not completely undocumented they 
are <span class="declared">shaded orange</span>, except for one special case. Some 
declarations are known only from “minwin” headers that Microsoft published in early 
editions of the WDK for Windows 10 which seem since to have been withdrawn. These 
are <span class="minwin">highlighted orange</span> to indicate that public disclosure 
even of the declaration was exceptional. </p>

<!--webbot bot="Include" endspan i-checksum="57742" -->
  <h3>Actual Availability </h3>
  <!--webbot bot="Include" U-Include="_include/exporthistory.htm" TAG="BODY" startspan -->

<p>The default understanding is that exporting continues for all later versions, 
and in both the x86 and x64 builds. Exceptions are sketched in a column headed Export 
History. </p>

<!--webbot bot="Include" endspan i-checksum="64859" -->
  <!--webbot bot="Include" U-Include="_include/x86only.htm" TAG="BODY" startspan -->

<p>The description “x86 only” means that the function is not exported from any known 
x64 build but is exported from the x86 build of at least some version that has an 
x64 build. If it had already ceased as an export before Windows Server 2003 SP1, 
the “x86 only” is left unstated. </p>

<!--webbot bot="Include" endspan i-checksum="43035" -->
  <!--webbot bot="Include" U-Include="_include/discontinued.htm" TAG="BODY" startspan -->

<p>That a function is “discontinued in” some version means that the function is 
exported up to but not including the stated version and not in any later version 
unless “restored”. </p>

<!--webbot bot="Include" endspan i-checksum="31363" -->
  <h3>Documented Availability </h3>
  <!--webbot bot="Include" U-Include="_include/docdeclhistory.htm" TAG="BODY" startspan -->

<p>It’s nothing but fair to note that the majority of these functions were not documented 
immediately. Even more were then or later said to require later versions. These 
misrepresentations of actual availability show also in C-language declarations for 
the functions’ use in programming. Conveying these differences between what the 
kernel exported and what Microsoft presented for drivers to import is the concern 
of columns headed Documentation History and Declaration History. </p>
<p class="alert">Conventions still in development! </p>

<!--webbot bot="Include" endspan i-checksum="26474" -->
  <h4>Incompleteness </h4>
  <!--webbot bot="Include" U-Include="_include/missingifskits.htm" TAG="BODY" startspan -->

<p>Many functions in these early versions may have got their first documentation 
or declaration because their use was specially anticipated for installable file 
system (IFS) drivers. Microsoft published a separate IFS Kit for these, apparently 
starting from Windows 2000. For Windows Vista, the IFS Kit was merged into the WDK. 
Between, there are known to have been IFS Kits for Windows XP and Windows Server 
2003, but I have not obtained either for inspection. Where applicable DDK versions 
are left to the imprecision of “5.1 (IFS) to 6.0”, whatever is described is known 
from the IFS section of the WDK for Windows Vista and is excluded from the IFS Kit 
for Windows 2000 and from the ordinary DDK for all of Windows 2000, Windows XP and 
Windows Server 2003. </p>

<!--webbot bot="Include" endspan i-checksum="45831" -->
  <h2>Tabulation </h2>
  <!--webbot bot="Include" U-Include="_include/tabulation.htm" TAG="BODY" startspan -->

<p>As much as I might like to condense into one table as much as might be imagined 
is possible to summarise about all these functions’ history of availability both 
in the binary and according to the documentation and headers, many functions both 
individually and in groups demand additional explanation in text. I therefore break 
the tabulation according to Microsoft’s scheme of prefixes for separate areas of 
functionality within the otherwise monolithic kernel. Each function has its own 
row in one table, but please be sure to check for explanatory text before and (more 
usually) after the table. </p>

<!--webbot bot="Include" endspan i-checksum="36034" -->
  <p>Just more than 60% of these new exports for version 5.0 are nowadays documented. 
  However, more than a sixth of these are documented only as being reserved, and 
  one more only as obsolete. The proportion that are <span class="emphasis">usefully</span> 
  documented is therefore less than half. Of the undocumented, about 20% are at 
  least declared in one or another of the WDK header files. </p>
  <h3><span class="functionprefix">Cc</span> Functions </h3>
  <table class="Functions">
    <colgroup>
      <col class="Name"><col class="Remarks">
    </colgroup>
    <thead>
      <tr>
        <th>Function </th>
        <th>Declaration History </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="function">CcGetFlushedValidData</span> </td>
        <td>before 5.1 (IFS) to 6.0, not declared </td>
      </tr>
      <tr>
        <td><span class="function">CcRemapBcb</span> </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">CcWaitForCurrentLazyWriterActivity</span>
        </td>
        <td>before 5.1 (IFS) to 6.0, not declared </td>
      </tr>
    </tbody>
  </table>
  <h3><span class="functionprefix">Dbg</span> Function </h3>
  <table class="Functions">
    <colgroup>
      <col class="Name"><col class="Remarks">
    </colgroup>
    <thead>
      <tr>
        <th>Function </th>
        <th>Export History </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="declared function">DbgPrintReturnControlC</span> </td>
        <td>&nbsp;</td>
      </tr>
    </tbody>
  </table>
  <h3><span class="functionprefix">Ex</span> Functions </h3>
  <table class="Functions">
    <colgroup>
      <col class="Name"><col class="Remarks" span="2">
    </colgroup>
    <thead>
      <tr>
        <th>Function </th>
        <th>Export History </th>
        <th>Documentation History </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="delayed function">ExFreePoolWithTag</span> </td>
        <td>&nbsp;</td>
        <td>before 5.1, <span class="undocumented">undocumented</span> </td>
      </tr>
      <tr>
        <td><span class="function">ExInterlockedFlushSList</span> </td>
        <td>x86 only </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="declared variable">ExSemaphoreObjectType</span> (data)
        </td>
        <td>&nbsp;</td>
        <td>since 5.1 (IFS) to 6.0, indirectly documented </td>
      </tr>
      <tr>
        <td><span class="delayed function">ExSetTimerResolution</span> </td>
        <td>&nbsp;</td>
        <td>before 5.1, <span class="declared">declared</span> </td>
      </tr>
      <tr>
        <td><span class="function">ExUuidCreate</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
    </tbody>
  </table>
  <p>As with most exported variables, <span class="declared variable">ExSemaphoreObjectType</span> 
  is not itself documented. It does, however, get mentioned in the documentation 
  of functions for which it is expected as an argument. The first is in the WDK 
  for Windows Vista, for <span class="delayed function">ObOpenObjectByPointer</span>.
  </p>
  <p>The <span class="delayed function">ExSetTimerResolution</span> function is 
  documented in the Windows 2000 DDK but only to reproduce the declaration and to 
  say that “More information on <b>ExSetTimerResolution</b> will be provided in 
  a future release of the DDK.” This is here taken as Microsoft’s own recognition 
  that the function was not yet actually documented. </p>
  <h3><span class="functionprefix">FsRtl</span> Functions </h3>
  <table class="Functions">
    <colgroup>
      <col class="Name"><col class="Remarks" span="3">
    </colgroup>
    <thead>
      <tr>
        <th>Function </th>
        <th>Export History </th>
        <th>Documentation History </th>
        <th>Declaration History </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="delayed reserved function">FsRtlAcquireFileExclusive</span>
        </td>
        <td>&nbsp;</td>
        <td>before 5.1 (IFS) to 6.0, <span class="undocumented">undocumented</span>
        </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">FsRtlAllocateFileLock</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>before 5.1 (IFS) to 6.0, not declared </td>
      </tr>
      <tr>
        <td><span class="function">FsRtlFreeFileLock</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>before 5.1 (IFS) to 6.0, not declared </td>
      </tr>
      <tr>
        <td><span class="undocumented function">FsRtlInsertFilterContext</span>
        </td>
        <td>discontinued in 5.1 </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">FsRtlLookupFilterContextInternal</span>
        </td>
        <td>discontinued in 5.1 </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="delayed function">FsRtlLookupLastLargeMcbEntryAndIndex</span>
        </td>
        <td>&nbsp;</td>
        <td>before 5.1 (IFS), <span class="undocumented">undocumented</span>;
        <br>
        documented start is 5.1 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="delayed function">FsRtlNotifyVolumeEvent</span> </td>
        <td>&nbsp;</td>
        <td>before 5.1 (IFS), <span class="undocumented">undocumented</span>;
        <br>
        documented start is 5.1 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="delayed reserved function">FsRtlReleaseFile</span> </td>
        <td>&nbsp;</td>
        <td>before 5.1 (IFS) to 6.0, <span class="undocumented">undocumented</span>
        </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">FsRtlRemoveFilterContext</span>
        </td>
        <td>discontinued in 5.1 </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="delayed function">FsRtlResetLargeMcb</span> </td>
        <td>&nbsp;</td>
        <td>before 5.1 (IFS), <span class="undocumented">undocumented</span>;
        <br>
        documented start is 5.1 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">FsRtlTeardownFilterContexts</span>
        </td>
        <td>discontinued in 5.1 </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
    </tbody>
  </table>
  <p>That <span class="delayed function">FsRtlLookupLastLargeMcbEntryAndIndex</span>,
  <span class="delayed function">FsRtlNotifyVolumeEvent</span> and
  <span class="delayed function">FsRtlResetLargeMcb</span> are first documented 
  in the IFS Kit for Windows XP is mere supposition. They are not documented in 
  the IFS Kit for Windows 2000, but their documentation in the WDK for Windows Vista 
  dates the functions from Windows XP. A generous inference is that what actually 
  dates from Windows XP is the documentation. </p>
  <h3><span class="functionprefix">Inbv</span> Functions </h3>
  <table class="Functions">
    <colgroup>
      <col class="Name"><col class="Remarks">
    </colgroup>
    <thead>
      <tr>
        <th>Function </th>
        <th>Documentation History </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="undocumented function">InbvAcquireDisplayOwnership</span>
        </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">InbvCheckDisplayOwnership</span>
        </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">InbvDisplayString</span> </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">InbvEnableBootDriver</span> </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">InbvEnableDisplayString</span>
        </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">InbvInstallDisplayStringFilter</span>
        </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">InbvIsBootDriverInstalled</span>
        </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">InbvNotifyDisplayOwnershipLost</span>
        </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">InbvResetDisplay</span> </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">InbvSetScrollRegion</span> </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">InbvSetTextColor</span> </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">InbvSolidColorFill</span> </td>
        <td>&nbsp;</td>
      </tr>
    </tbody>
  </table>
  <h3>One Variable </h3>
  <table class="Functions">
    <colgroup>
      <col class="Name"><col class="Remarks">
    </colgroup>
    <thead>
      <tr>
        <th>Function </th>
        <th>Documentation History </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="delayed variable">InitSafeBootMode</span> (data) </td>
        <td>before 6.0, <span class="undocumented">undocumented</span>; <br>
        indirectly documented </td>
      </tr>
    </tbody>
  </table>
  <p>As usual for exported variables, <span class="delayed variable">InitSafeBootMode</span> 
  does not have its own page of documentation. It is, however, presented on a page 
  of Driver Programming Techniques titled <span class="citation">Determining Whether 
  the Operating System Is Running in Safe Mode</span>. It is not declared in any 
  header that Microsoft is known to have published. </p>
  <h3><span class="functionprefix">Io</span> Functions </h3>
  <table class="Functions">
    <colgroup>
      <col class="Name"><col class="Remarks" span="3">
    </colgroup>
    <thead>
      <tr>
        <th>Function </th>
        <th>Export History </th>
        <th>Documentation History </th>
        <th>Declaration History </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="reserved function">IoAcquireRemoveLockEx</span> </td>
        <td>&nbsp;</td>
        <td>indirectly documented </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">IoAllocateDriverObjectExtension</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">IoAllocateWorkItem</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">IoCancelFileOpen</span> </td>
        <td>&nbsp;</td>
        <td>in 5.1 to 5.2, <span class="reserved">reserved</span> </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="delayed reserved function">IoCheckQuerySetFileInformation</span>
        </td>
        <td>&nbsp;</td>
        <td>before 5.1 (IFS) to 6.0, <span class="undocumented">undocumented</span>
        </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="delayed reserved function">IoCheckQuerySetVolumeInformation</span>
        </td>
        <td>&nbsp;</td>
        <td>before 5.1 (IFS) to 6.0, <span class="undocumented">undocumented</span>
        </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">IoCheckQuotaBufferValidity</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>before 5.1 (IFS) to 6.0, not declared </td>
      </tr>
      <tr>
        <td><span class="minwin function">IoCreateDriver</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="delayed function">IoCreateStreamFileObjectLite</span>
        </td>
        <td>&nbsp;</td>
        <td>before 5.1 (IFS) to 6.0, <span class="undocumented">undocumented</span>
        </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="minwin function">IoDeleteDriver</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">IoFreeWorkItem</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">IoGetAttachedDeviceReference</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">IoGetBootDiskInformation</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">IoGetDeviceInterfaceAlias</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">IoGetDeviceInterfaces</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">IoGetDeviceProperty</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">
        <a href="../api/io/ioapi/iogetdmaadapter.htm">IoGetDmaAdapter</a></span>
        </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">IoGetDriverObjectExtension</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">IoGetRequestorProcessId</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>before 5.1 (IFS) to 6.0, not declared </td>
      </tr>
      <tr>
        <td><span class="delayed function">IoGetRequestorSessionId</span> </td>
        <td>&nbsp;</td>
        <td>before 5.1 (IFS) to 6.0, <span class="undocumented">undocumented</span>;
        <br>
        since 6.0, documented start is 5.2 SP1 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="reserved function">IoInitializeRemoveLockEx</span> </td>
        <td>&nbsp;</td>
        <td>indirectly documented </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">IoInvalidateDeviceRelations</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">IoInvalidateDeviceState</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">IoIsFileOriginRemote</span> </td>
        <td>starts in SP3 </td>
        <td>documented start is 5.1 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="delayed reserved function">IoIsValidNameGraftingBuffer</span>
        </td>
        <td>&nbsp;</td>
        <td>before 5.1 (IFS) to 6.0, <span class="undocumented">undocumented</span>
        </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">IoIsWdmVersionAvailable</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">IoOpenDeviceInterfaceRegistryKey</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">IoOpenDeviceRegistryKey</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="minwin function">IoPnPDeliverServicePowerNotification</span>
        </td>
        <td>discontinued in 6.1 </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">IoQueueWorkItem</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="delayed function">IoRegisterBootDriverReinitialization</span>
        </td>
        <td>&nbsp;</td>
        <td>before 5.1, <span class="declared">declared</span> </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">IoRegisterDeviceInterface</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="delayed function">IoRegisterLastChanceShutdownNotification</span>
        </td>
        <td>&nbsp;</td>
        <td>before 5.1, <span class="declared">declared</span> </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">IoRegisterPlugPlayNotification</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="reserved function">IoReleaseRemoveLockAndWaitEx</span>
        </td>
        <td>&nbsp;</td>
        <td>indirectly documented </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="reserved function">IoReleaseRemoveLockEx</span> </td>
        <td>&nbsp;</td>
        <td>indirectly documented </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">IoReportDetectedDevice</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">IoReportResourceForDetection</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">IoReportTargetDeviceChange</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">IoReportTargetDeviceChangeAsynchronous</span>
        </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">IoRequestDeviceEject</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">IoReuseIrp</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">IoSetDeviceInterfaceState</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">IoSetFileOrigin</span> </td>
        <td>starts in SP3 </td>
        <td>documented start is 5.1 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="minwin function">IoSetIoCompletion</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="minwin function">IoSynchronousInvalidateDeviceRelations</span>
        </td>
        <td>discontinued in 1703 </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">IoUnregisterPlugPlayNotification</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">IoWMIAllocateInstanceIds</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">IoWMIRegistrationControl</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">IoWMISuggestInstanceName</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">IoWMIWriteEvent</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
    </tbody>
  </table>
  <p>The exported functions that work with remove locks, e.g.,
  <span class="reserved function">IoAcquireRemoveLockEx</span>, are all documented 
  as reserved, but they are each the essence of a documented macro, e.g.,
  <span class="macro">IoAcquireRemoveLock</span>. Still, Microsoft has chosen to 
  divide the work such that the exported functions are documented only as reserved: 
  so be it. </p>
  <p>The <span class="function">IoCancelFileOpen</span> function may be another 
  rarity that had parallel documentation in the DDK and IFS Kit. Its first known 
  documentation is in the IFS Kit for Windows 2000. The merging of the IFS Kit into 
  the WDK for Windows Vista leaves this documentation with others for Installable 
  File Systems. Meanwhile, the function was also documented in the DDK for Windows 
  XP and for Windows Server 2003 but only to say it’s reserved. In all versions, 
  the declaration is in NTDDK.H, not NTIFS.H. </p>
  <p>When Microsoft got round to documenting the <span class="delayed function">
  IoRegisterBootDriverReinitialization</span> function, in the DDK for Windows XP, 
  it was “preliminary documentation and subject to change.” </p>
  <h3><span class="functionprefix">Kd</span> Functions and Variable </h3>
  <table class="Functions">
    <colgroup>
      <col class="Name"><col class="Remarks">
    </colgroup>
    <thead>
      <tr>
        <th>Function </th>
        <th>Documentation History </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="delayed function">KdDisableDebugger</span> </td>
        <td>before 6.1, <span class="declared">declared</span> </td>
      </tr>
      <tr>
        <td><span class="delayed function">KdEnableDebugger</span> </td>
        <td>before 6.1, <span class="declared">declared</span> </td>
      </tr>
      <tr>
        <td><span class="undocumented variable">KdEnteredDebugger</span> (data)
        </td>
        <td>&nbsp;</td>
      </tr>
    </tbody>
  </table>
  <h3><span class="functionprefix">Ke</span> Functions and Variable </h3>
  <table class="Functions">
    <colgroup>
      <col class="Name"><col class="Remarks" span="2">
    </colgroup>
    <thead>
      <tr>
        <th>Function </th>
        <th>Export History </th>
        <th>Documentation History </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="delayed function">KeQueryActiveProcessors</span> </td>
        <td>&nbsp;</td>
        <td>before 5.1, <span class="declared">declared</span> </td>
      </tr>
      <tr>
        <td><span class="function">KeQueryInterruptTime</span> </td>
        <td>x86 only </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">KeQueryPriorityThread</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="declared function">KeRevertToUserAffinityThread</span>
        </td>
        <td>&nbsp;</td>
        <td>before 6.0, <span class="undocumented">undocumented</span> </td>
      </tr>
      <tr>
        <td><span class="undocumented variable">KeSaveStateForHibernate</span> (data)
        </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="delayed function">KeSetSystemAffinityThread</span> </td>
        <td>&nbsp;</td>
        <td>before 6.0, <span class="undocumented">undocumented</span>; <br>
        before 6.1, <span class="declared">declared</span>; <br>
        documented start is 5.0 </td>
      </tr>
      <tr>
        <td><span class="delayed function">KeStackAttachProcess</span> </td>
        <td>&nbsp;</td>
        <td>before 5.1 (IFS) to 6.0, <span class="undocumented">undocumented</span>
        </td>
      </tr>
      <tr>
        <td><span class="delayed function">KeUnstackDetachProcess</span> </td>
        <td>&nbsp;</td>
        <td>before 5.1 (IFS) to 6.0, <span class="undocumented">undocumented</span>
        </td>
      </tr>
      <tr>
        <td><span class="undocumented function">KiEnableTimerWatchdog</span>
        </td>
        <td>x86 only; <br>
        discontinued in 6.0 </td>
        <td>&nbsp;</td>
      </tr>
    </tbody>
  </table>
  <p>The <span class="delayed function">KeSetSystemAffinityThread</span> function 
  is not yet formally obsolete but must be soon. Its first documentation, delayed 
  until the WDK for Windows 7, limits its use to “systems before Windows Vista” 
  and specifies <span class="delayed function">KeSetSystemAffinityThreadEx</span> 
  on “Windows Vista and later” without mentioning that the new function hadn’t been 
  documented for Windows Vista. </p>
  <h3><span class="functionprefix">Lpc</span> Functions </h3>
  <table class="Functions">
    <colgroup>
      <col class="Name"><col class="Remarks">
    </colgroup>
    <thead>
      <tr>
        <th>Function </th>
        <th>Export History </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="minwin variable">LpcPortObjectType</span> (data) </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="minwin function">LpcRequestWaitReplyPort</span> </td>
        <td>&nbsp;</td>
      </tr>
    </tbody>
  </table>
  <h3><span class="functionprefix">Mm</span> Functions and Variable </h3>
  <table class="Functions">
    <colgroup>
      <col class="Name"><col class="Remarks">
    </colgroup>
    <thead>
      <tr>
        <th>Function </th>
        <th>Documentation History </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="delayed variable">Mm64BitPhysicalAddress</span> (data)
        </td>
        <td>before 6.1, <span class="declared">declared</span> </td>
      </tr>
      <tr>
        <td><span class="delayed reserved function">MmAddPhysicalMemory</span>
        </td>
        <td>before 5.1, <span class="declared">declared</span> </td>
      </tr>
      <tr>
        <td><span class="function">MmAllocateContiguousMemorySpecifyCache</span>
        </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">MmAllocatePagesForMdl</span> </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">MmFreeContiguousMemorySpecifyCache</span>
        </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">MmFreePagesFromMdl</span> </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="delayed reserved function">MmGetPhysicalMemoryRanges</span>
        </td>
        <td>before 5.1, <span class="declared">declared</span> </td>
      </tr>
      <tr>
        <td><span class="delayed function">
        <a href="../api/mm/sysload/mmgetsystemroutineaddress.htm">MmGetSystemRoutineAddress</a></span>
        </td>
        <td>before 5.1, <span class="declared">declared</span> </td>
      </tr>
      <tr>
        <td><span class="delayed reserved function">MmGetVirtualForPhysical</span>
        </td>
        <td>before 5.1, <span class="declared">declared</span> </td>
      </tr>
      <tr>
        <td><span class="delayed function">MmIsDriverVerifying</span> </td>
        <td>before 5.1, <span class="declared">declared</span>; <br>
        before 6.1, <span class="reserved">reserved</span> </td>
      </tr>
      <tr>
        <td><span class="delayed reserved function">MmMapUserAddressesToPage</span>
        </td>
        <td>before 5.1, <span class="declared">declared</span> </td>
      </tr>
      <tr>
        <td><span class="delayed reserved function">MmMapViewInSessionSpace</span>
        </td>
        <td>before 5.1, <span class="declared">declared</span> </td>
      </tr>
      <tr>
        <td><span class="delayed reserved function">MmProbeAndLockProcessPages</span>
        </td>
        <td>before 5.1, <span class="declared">declared</span> </td>
      </tr>
      <tr>
        <td><span class="delayed function">MmProbeAndLockSelectedPages</span>
        </td>
        <td>before 6.2, <span class="undocumented">undocumented</span>; <br>
        before 2015-2018, <span class="declared">declared</span> </td>
      </tr>
      <tr>
        <td><span class="delayed reserved function">MmRemovePhysicalMemory</span>
        </td>
        <td>before 5.1, <span class="declared">declared</span> </td>
      </tr>
      <tr>
        <td><span class="undocumented function">MmTrimAllSystemPagableMemory</span>
        </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="delayed reserved function">MmUnmapViewInSessionSpace</span>
        </td>
        <td>before 5.1, <span class="declared">declared</span> </td>
      </tr>
    </tbody>
  </table>
  <p>Though <span class="delayed variable">Mm64BitPhysicalAddress</span> is not 
  formally documented (with its own page) until the WDK for Windows 7, it is mentioned 
  on a page titled <span class="citation">Performing DMA in 64-Bit Windows</span> 
  as far back as the DDK for Windows XP. </p>
  <p>The <span class="reserved function">MmGetVirtualForPhysical</span> function 
  is declared in NTDDK.H from the DDK for Windows NT 4.0, but the corresponding 
  x86 kernel does not export the function, nor have it as an internal routine.
  </p>
  <p>From the DDK for Windows XP up to and including the WDK for Windows 7,
  <span class="delayed function">MmIsDriverVerifying</span> is on a list of Memory 
  Manager Routines that are reserved for system use. But also in the WDK for Windows 
  7, and since, the function gets its own page of documentation which says nothing 
  about its being reserved. </p>
  <p>The <span class="delayed function">MmProbeAndLockSelectedPages</span> certainly 
  is not known to the Windows 10 WDK documentation as integrated into Visual Studio 
  2015. I have no record of seeing it in surveys of Microsoft’s online documentation 
  on 27th February 2016 or even on 7th October 2018. Yet what I see there today, 
  17th September 2020, is dated 30th April 2018. So, who knows when it was first 
  documented, except that it was long, long, long after it was first exported.
  </p>
  <h3><span class="functionprefix">Nls</span> Variable </h3>
  <table class="Functions">
    <colgroup>
      <col class="Name"><col class="Remarks">
    </colgroup>
    <thead>
      <tr>
        <th>Function </th>
        <th>Export History </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="undocumented variable">NlsOemCodePage</span> (data)
        </td>
        <td>&nbsp;</td>
      </tr>
    </tbody>
  </table>
  <h3><span class="functionprefix">Nt</span> Functions </h3>
  <!--webbot bot="Include" U-Include="_include/nt.htm" TAG="BODY" startspan -->

<p>The functions whose names begin with <span class="functionprefix">Nt</span> correspond 
closely to functions whose names have the <span class="functionprefix">Zw</span> 
prefix instead (see below). Put aside some general points about how the two differ—see
<a href="../../../win32/ntdll/api/native.htm">The Native API</a>— and documentation 
of an <span class="functionprefix">Nt</span> function is to a large extent implied 
by documentation of the corresponding <span class="functionprefix">Zw</span> function.
</p>
<p>Though this correspondence will have been understood well enough by all competent 
kernel-mode programmers, Microsoft didn’t make it explicit until some time after 
releasing the WDK for Windows Vista. This is here taken as an intention to leave 
the <span class="functionprefix">Nt</span> functions <span class="undocumented">
undocumented</span> (if not <span class="declared">declared</span>) before version 
6.1. </p>
<p>Documentation in the WDK for Windows 7 gives each
<span class="functionprefix">Nt</span> function its own page and directs attention 
to the page for the corresponding <span class="functionprefix">Zw</span> function. 
The <span class="functionprefix">Zw</span> documentation might then be treated as 
counting for both, except that the <span class="functionprefix">Nt</span> documentation 
warns expressly “Do not call this routine from kernel-mode code.” This is here taken 
as documenting the <span class="functionprefix">Nt</span> functions as
<span class="reserved">reserved</span> in version 6.1 (certainly for kernel-mode 
use, which is this survey’s focus). </p>
<p>Microsoft loosened the text significantly for Windows 8 to note that the
<span class="functionprefix">Nt</span> and <span class="functionprefix">Zw</span> 
versions “can behave differently” and to refer to a page of guidance. These changes, 
though slight, are taken here as formally permitting the
<span class="functionprefix">Nt</span> functions’ kernel-mode use, such that they 
must now be counted as documented (though <span class="delayed">delayed</span>).
</p>
<p>While each <span class="functionprefix">Nt</span> function is documented only 
by reference to the <span class="functionprefix">Zw</span> function, whatever documented 
availability Microsoft gives for the latter is here taken as intended also for the 
former. In the headers, however, the two functions necessarily each have their own 
declaration (if they have any), and so any “declared start” shown below is specifically 
for the <span class="functionprefix">Nt</span> function. </p>

<!--webbot bot="Include" endspan i-checksum="43821" -->
  <table>
    <colgroup>
      <col class="Name"><col class="Remarks">
    </colgroup>
    <thead>
      <tr>
        <th>Function </th>
        <th>Documentation History </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="delayed function">NtQueryQuotaInformationFile</span>
        </td>
        <td>before 5.1 (IFS) to 6.0, <span class="undocumented">undocumented</span>;
        <br>
        before 6.1, <span class="declared">declared</span>; <br>
        in 6.1, <span class="reserved">reserved</span>; <br>
        documented start is 6.1 </td>
      </tr>
      <tr>
        <td><span class="undocumented function">
        <a href="../api/ex/sysinfo/query.htm">NtQuerySystemInformation</a></span>
        </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">NtSetEaFile</span> </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="delayed function">NtSetQuotaInformationFile</span> </td>
        <td>before 5.1 (IFS) to 6.0, <span class="undocumented">undocumented</span>;
        <br>
        before 6.1, <span class="declared">declared</span>; <br>
        in 6.1, <span class="reserved">reserved</span>; <br>
        documented start is 6.1 </td>
      </tr>
      <tr>
        <td><span class="delayed function">NtSetVolumeInformationFile</span>
        </td>
        <td>before 5.2 (IFS), <span class="undocumented">undocumented</span>;
        <br>
        before 6.1, <span class="declared">declared</span>; <br>
        in 6.1, <span class="reserved">reserved</span>; <br>
        documented start is 5.2 </td>
      </tr>
    </tbody>
  </table>
  <p>Every known DDK and WDK mentions <span class="undocumented function">NtQuerySystemInformation</span> 
  in a comment, apparently meaning its export from NTDLL.DLL in user mode, without 
  ever presenting a declaration. </p>
  <p>The <span class="undocumented function">NtSetEaFile</span> function is mentioned 
  in a comment, first in the NTIFS.H from the Windows 2000 IFS Kit but in WDM.H 
  since the WDK for Windows Vista. </p>
  <h3><span class="functionprefix">Ob</span> Function </h3>
  <table class="Functions">
    <colgroup>
      <col class="Name"><col class="Remarks">
    </colgroup>
    <thead>
      <tr>
        <th>Function </th>
        <th>Export History </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="minwin function">ObDeleteCapturedInsertInfo</span> </td>
        <td>starts in SP4; <br>
        discontinued in 5.1; <br>
        restored in 5.2 </td>
      </tr>
    </tbody>
  </table>
  <h3><span class="functionprefix">Po</span> Functions </h3>
  <table class="Functions">
    <colgroup>
      <col class="Name"><col class="Remarks">
    </colgroup>
    <thead>
      <tr>
        <th>Function </th>
        <th>Documentation History </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="function">PoCallDriver</span> </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">PoCancelDeviceNotify</span> </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">PoRegisterDeviceNotify</span>
        </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">PoRegisterSystemState</span> </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">PoRequestPowerIrp</span> </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="declared function">PoSetHiberRange</span> </td>
        <td>before 6.2, <span class="undocumented">undocumented</span> </td>
      </tr>
      <tr>
        <td><span class="function">PoSetPowerState</span> </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">PoSetSystemState</span> </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">PoShutdownBugCheck</span> </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">PoStartNextPowerIrp</span> </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">PoUnregisterSystemState</span> </td>
        <td>&nbsp;</td>
      </tr>
    </tbody>
  </table>
  <h3><span class="functionprefix">Ps</span> Functions and Variable </h3>
  <table class="Functions">
    <colgroup>
      <col class="Name"><col class="Remarks" span="2">
    </colgroup>
    <thead>
      <tr>
        <th>Function </th>
        <th>Export History </th>
        <th>Documentation History </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="declared function">PsDisableImpersonation</span> </td>
        <td>&nbsp;</td>
        <td>before 5.1 (IFS) to 6.0, <span class="undocumented">undocumented</span>
        </td>
      </tr>
      <tr>
        <td><span class="declared variable">PsJobType</span> (data) </td>
        <td>&nbsp;</td>
        <td>before 10.0, <span class="undocumented">undocumented</span>; <br>
        before 1607, <span class="minwin">declared</span> </td>
      </tr>
      <tr>
        <td><span class="declared function">PsRestoreImpersonation</span> </td>
        <td>&nbsp;</td>
        <td>before 5.1 (IFS) to 6.0, <span class="undocumented">undocumented</span>
        </td>
      </tr>
      <tr>
        <td><span class="function">PsSetLoadImageNotifyRoutine</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">PsSetNewKSecDD</span> </td>
        <td>starts in SP4; <br>
        discontinued in 5.1 </td>
        <td>&nbsp;</td>
      </tr>
    </tbody>
  </table>
  <p>The only declaration that Microsoft had been known to have published of the
  <span class="declared variable">PsJobType</span> variable is in the NTOSP.H whose 
  distribution with early editions of the WDK for Windows 10 was surely some mistake. 
  Yet in the very next edition, for Version 1607, the declaration is in both NTDDK.H 
  and WDM.H. </p>
  <h3><span class="functionprefix">Rtl</span> Functions </h3>
  <table class="Functions">
    <colgroup>
      <col class="Name"><col class="Remarks" span="3">
    </colgroup>
    <thead>
      <tr>
        <th>Function </th>
        <th>Export History </th>
        <th>Documentation History </th>
        <th>Declaration History </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="undocumented function">RtlAddRange</span> </td>
        <td>&nbsp;</td>
        <td>before 6.0, <span class="declared">declared</span> </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="delayed function">RtlCaptureContext</span> </td>
        <td>&nbsp;</td>
        <td>before 5.1 (IFS) to 6.0, <span class="undocumented">undocumented</span>;
        <br>
        before 6.1, <span class="reserved">reserved</span>; <br>
        since 6.1, documented start is 5.1 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">RtlCopyRangeList</span> </td>
        <td>&nbsp;</td>
        <td>before 6.0, <span class="declared">declared</span> </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="delayed function">RtlDeleteAce</span> </td>
        <td>&nbsp;</td>
        <td>before 5.1 (IFS) to 6.0, <span class="undocumented">undocumented</span>;
        <br>
        documented start is 5.2 SP1 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">RtlDeleteOwnersRanges</span>
        </td>
        <td>&nbsp;</td>
        <td>before 6.0, <span class="declared">declared</span> </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">RtlDeleteRange</span> </td>
        <td>&nbsp;</td>
        <td>before 6.0, <span class="declared">declared</span> </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">RtlFindClearRuns</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">RtlFindLastBackwardRunClear</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">RtlFindLeastSignificantBit</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">RtlFindMostSignificantBit</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">RtlFindNextForwardRunClear</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">RtlFindRange</span> </td>
        <td>&nbsp;</td>
        <td>before 6.0, <span class="declared">declared</span> </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">RtlFreeRangeList</span> </td>
        <td>&nbsp;</td>
        <td>before 6.0, <span class="declared">declared</span> </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">RtlGUIDFromString</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="delayed function">RtlGetAce</span> </td>
        <td>&nbsp;</td>
        <td>before 5.1 (IFS), <span class="undocumented">undocumented</span>;
        <br>
        documented start is 5.1 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">RtlGetFirstRange</span> </td>
        <td>&nbsp;</td>
        <td>before 6.0, <span class="declared">declared</span> </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">RtlGetNextRange</span> </td>
        <td>&nbsp;</td>
        <td>before 6.0, <span class="declared">declared</span> </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">RtlGetNtGlobalFlags</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="delayed function">RtlGetSaclSecurityDescriptor</span>
        </td>
        <td>&nbsp;</td>
        <td>before 5.2 SP1 (IFS), <span class="undocumented">undocumented</span>;
        <br>
        documented start is 5.2 SP1 </td>
        <td>since 6.0, declared start is 5.2 SP1 </td>
      </tr>
      <tr>
        <td><span class="undocumented function">RtlImageDirectoryEntryToData</span>
        </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">RtlInitializeRangeList</span>
        </td>
        <td>&nbsp;</td>
        <td>before 6.0, <span class="declared">declared</span> </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="declared function">RtlInsertElementGenericTableFull</span>
        </td>
        <td>&nbsp;</td>
        <td>before 5.1 (IFS) to 6.0, <span class="undocumented">undocumented</span>
        </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">RtlInvertRangeList</span> </td>
        <td>&nbsp;</td>
        <td>before 6.0, <span class="declared">declared</span> </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">RtlIsGenericTableEmpty</span> </td>
        <td>&nbsp;</td>
        <td>in 5.0 (IFS), documented but not declared </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">RtlIsRangeAvailable</span> </td>
        <td>&nbsp;</td>
        <td>before 6.0, <span class="declared">declared</span> </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">RtlIsValidOemCharacter</span> </td>
        <td>&nbsp;</td>
        <td>in 5.0 (IFS), documented but not declared </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="declared function">RtlLookupElementGenericTableFull</span>
        </td>
        <td>&nbsp;</td>
        <td>before 5.1 (IFS) to 6.0, <span class="undocumented">undocumented</span>
        </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">RtlMergeRangeLists</span> </td>
        <td>&nbsp;</td>
        <td>before 6.0, <span class="declared">declared</span> </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="delayed function">
        <a href="../api/rtl/prefetchmemorynontemporal.htm">RtlPrefetchMemoryNonTemporal</a></span>
        </td>
        <td>starts in SP3 </td>
        <td>before 6.1, <span class="declared">declared</span>; <br>
        documented start is 5.2 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">RtlRealPredecessor</span> </td>
        <td>&nbsp;</td>
        <td>in 5.0 (IFS), documented but not declared </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">RtlRealSuccessor</span> </td>
        <td>&nbsp;</td>
        <td>in 5.0 (IFS), documented but not declared </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="delayed function">RtlSelfRelativeToAbsoluteSD</span>
        </td>
        <td>&nbsp;</td>
        <td>before 5.2 SP1 (IFS), <span class="undocumented">undocumented</span>;
        <br>
        documented start is 5.2 SP1 </td>
        <td>since 6.0, declared start is 5.2 SP1 </td>
      </tr>
      <tr>
        <td><span class="undocumented function">RtlSelfRelativeToAbsoluteSD2</span>
        </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">RtlSizeHeap</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">RtlStringFromGUID</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">RtlSubtreePredecessor</span> </td>
        <td>&nbsp;</td>
        <td>before 5.1 (IFS) to 6.0, documented but not declared </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">RtlSubtreeSuccessor</span> </td>
        <td>&nbsp;</td>
        <td>before 5.1 (IFS) to 6.0, documented but not declared </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">RtlTraceDatabaseAdd</span> </td>
        <td>starts in SP1 </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">RtlTraceDatabaseCreate</span>
        </td>
        <td>starts in SP1 </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">RtlTraceDatabaseDestroy</span>
        </td>
        <td>starts in SP1 </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">RtlTraceDatabaseEnumerate</span>
        </td>
        <td>starts in SP1 </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">RtlTraceDatabaseFind</span> </td>
        <td>starts in SP1 </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">RtlTraceDatabaseLock</span> </td>
        <td>starts in SP1 </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">RtlTraceDatabaseUnlock</span>
        </td>
        <td>starts in SP1 </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="undocumented function">RtlTraceDatabaseValidate</span>
        </td>
        <td>starts in SP1 </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">RtlUlongByteSwap</span> </td>
        <td>x86 only </td>
        <td>since 6.1 revision, documented start is 5.0 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">RtlUlonglongByteSwap</span> </td>
        <td>x86 only </td>
        <td>since 6.1 revision, documented start is 5.0 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">RtlUshortByteSwap</span> </td>
        <td>x86 only </td>
        <td>since 6.1 revision, documented start is 5.0 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="delayed function">RtlValidRelativeSecurityDescriptor</span>
        </td>
        <td>&nbsp;</td>
        <td>before 6.0, <span class="declared">declared</span> </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="obsolete function">RtlVolumeDeviceToDosName</span> </td>
        <td>&nbsp;</td>
        <td>before 5.1, documented </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="delayed reserved function">RtlWalkFrameChain</span>
        </td>
        <td>&nbsp;</td>
        <td>before 6.1, <span class="declared">declared</span> </td>
        <td>&nbsp;</td>
      </tr>
    </tbody>
  </table>
  <p>The dozen newly added functions that work with ranges and range lists must 
  count now as undocumented though they did at first have declarations in NTDDK.H. 
  Withdrawal of declarations for functions that continue to be exported is relatively 
  rare, so it may be worth noting that these functions have since been added to, 
  in versions 6.0 and 6.1, and they remain in use by some of Microsoft’s drivers.
  </p>
  <p>That <span class="obsolete function">RtlVolumeDeviceToDosName</span> is obsolete 
  still comes with qualification: even in 2020 the documentation spells out that 
  the function “is obsolete for Windows XP and later”. </p>
  <h3><span class="functionprefix">Se</span> Functions </h3>
  <table class="Functions">
    <colgroup>
      <col class="Name"><col class="Remarks" span="3">
    </colgroup>
    <thead>
      <tr>
        <th>Function </th>
        <th>Export History </th>
        <th>Documentation History </th>
        <th>Declaration History </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="function">SeAssignSecurityEx</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="delayed reserved function">SeAuditHardLinkCreation</span>
        </td>
        <td>starts in SP3 </td>
        <td>before 5.1 (IFS) to 6.0, <span class="undocumented">undocumented</span>
        </td>
        <td>since 6.0, declared start is 5.1 </td>
      </tr>
      <tr>
        <td><span class="delayed reserved function">SeAuditingHardLinkEvents</span>
        </td>
        <td>starts in SP3 </td>
        <td>before 5.1 (IFS) to 6.0, <span class="undocumented">undocumented</span>
        </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">SeCreateClientSecurityFromSubjectContext</span>
        </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>before 5.1 (IFS) to 6.0, not declared </td>
      </tr>
      <tr>
        <td><span class="function">SeImpersonateClientEx</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>before 5.1 (IFS) to 6.0, not declared </td>
      </tr>
      <tr>
        <td><span class="function">SeQueryInformationToken</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>before 5.1 (IFS) to 6.0, not declared </td>
      </tr>
      <tr>
        <td><span class="delayed reserved function">SeQuerySessionIdToken</span>
        </td>
        <td>&nbsp;</td>
        <td>before 5.1 (IFS) to 6.0, <span class="undocumented">undocumented</span>
        </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="function">SeSetSecurityDescriptorInfoEx</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>before 5.1 (IFS) to 6.0, not declared </td>
      </tr>
      <tr>
        <td><span class="function">SeTokenIsAdmin</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>before 5.1 (IFS) to 6.0, not declared; <br>
        since 6.0, declared start is 5.0 </td>
      </tr>
      <tr>
        <td><span class="function">SeTokenIsRestricted</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>before 5.1 (IFS) to 6.0, not declared; <br>
        since 6.0, declared start is 5.0 </td>
      </tr>
    </tbody>
  </table>
  <h3><span class="functionprefix">Zw</span> Functions </h3>
  <table class="Functions">
    <colgroup>
      <col class="Name"><col class="Remarks" span="2">
    </colgroup>
    <thead>
      <tr>
        <th>Function </th>
        <th>Documentation History </th>
        <th>Declaration History </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="minwin function">ZwAdjustPrivilegesToken</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="minwin function">ZwCancelIoFile</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="delayed reserved function">ZwCancelTimer</span> </td>
        <td>before 6.0, <span class="declared">declared</span> </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="delayed function">ZwFlushVirtualMemory</span> </td>
        <td>before 5.1 (IFS), <span class="undocumented">undocumented</span>;
        <br>
        documented start is 5.1 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="minwin function">ZwInitiatePowerAction</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="delayed reserved function">ZwOpenTimer</span> </td>
        <td>before 6.0, <span class="declared">declared</span> </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="delayed function">ZwPowerInformation</span> </td>
        <td>before 6.1, <span class="undocumented">undocumented</span>; <br>
        before 10.0, <span class="declared">declared</span>; <br>
        documented start is 6.2 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="minwin function">ZwQueryDefaultUILanguage</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="minwin function">ZwQueryDirectoryObject</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="delayed function">ZwQueryEaFile</span> </td>
        <td>before 5.1 (IFS) to 6.0, <span class="undocumented">undocumented</span>;
        <br>
        before 6.2, <span class="declared">declared</span> </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="minwin function">ZwQueryInstallUILanguage</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="declared function">ZwRestoreKey</span> </td>
        <td>before 6.2, <span class="undocumented">undocumented</span> </td>
        <td>declared start is 6.1 </td>
      </tr>
      <tr>
        <td><span class="minwin function">ZwSetDefaultUILanguage</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="delayed function">ZwSetEaFile</span> </td>
        <td>before 5.1 (IFS) to 6.0, <span class="undocumented">undocumented</span>;
        <br>
        before 6.2, <span class="declared">declared</span> </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="delayed function">ZwSetSecurityObject</span> </td>
        <td>before 5.1 (IFS), <span class="undocumented">undocumented</span>;
        <br>
        documented start is 5.1 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><span class="delayed function">ZwSetVolumeInformationFile</span>
        </td>
        <td>before 5.2 (IFS), <span class="undocumented">undocumented</span>;
        <br>
        documented start is 5.2 </td>
        <td>&nbsp;</td>
      </tr>
    </tbody>
  </table>
  <h3>C Run-Time (CRT) Functions </h3>
  <table class="Functions">
    <colgroup>
      <col class="Name"><col class="Remarks">
    </colgroup>
    <thead>
      <tr>
        <th>Function </th>
        <th>Export History </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="delayed function">_except_handler3</span> </td>
        <td>x86 only </td>
      </tr>
      <tr>
        <td><span class="function">_itow</span> </td>
        <td>&nbsp;</td>
      </tr>
    </tbody>
  </table>
  <p>References to the <span class="delayed function">_except_handler3</span> function 
  are generated by sufficiently early—but not too early—versions of Microsoft’s 
  compilers for the prologue code of C and C++ functions that use Structured Exception 
  Handling (SEH). Earlier compilers instead generate
  <span class="undocumented function">_except_handler2</span>, which the kernel 
  supports as an original export. The new function has its own page in the
  <span class="citation">Alphabetical Function Reference</span> of the
  <span class="citation">C Run-Time Library Reference</span> for Visual Studio 2012. 
  Documentation for Visual Studio 2015 moved it to the <span class="citation">Internal 
  CRT Globals and Functions</span>. </p>
  <h2>Old Friends </h2>
  <p>A few functions that the kernel had stopped exporting are restored as exports 
  from version 5.0: </p>
  <ul>
    <li><span class="delayed function">PoRegisterDeviceForIdleDetection</span> (3.51, 
    stopped in 4.0) </li>
    <li><span class="delayed function">ProbeForRead</span> (3.10, stopped in 3.50)
    </li>
    <li><span class="reserved function">ZwCreateTimer</span> (3.51, stopped in 4.0)
    </li>
    <li><span class="reserved function">ZwSetTimer</span> (3.51, stopped in 4.0)
    </li>
  </ul>
  <h2>Discontinued </h2>
  <p>Version 5.0 stops exporting a few functions. For each, the version in parentheses 
  tells when the function was first exported: </p>
  <ul>
    <li><span class="declared function">ExPostSystemEvent</span> (3.51) </li>
    <li><span class="declared function">IoOpenDeviceInstanceKey</span> (4.0)
    </li>
    <li><span class="declared function">IoQueryDeviceEnumInfo</span> (4.0) </li>
    <li><span class="undocumented function">KeBoostCurrentThread</span> (4.0)
    </li>
    <li><span class="undocumented function">MmDbgTranslatePhysicalAddress</span> 
    (3.10) </li>
    <li><span class="undocumented function">NtQueryOleDirectoryFile</span> (4.0)
    </li>
    <li><span class="undocumented function">PoQueryPowerSequence</span> (3.51)
    </li>
    <li><span class="undocumented function">PoRequestPowerChange</span> (3.51)
    </li>
    <li><span class="undocumented function">PoSetDeviceIdleDetection</span> (4.0)
    </li>
    <li><span class="undocumented function">PsCreateWin32Process</span> (4.0)
    </li>
    <li><span class="reserved function">RtlAllocateAndInitializeSid</span> (3.51)
    </li>
    <li><span class="undocumented function">RtlFindFirstRunSet</span> (3.10)
    </li>
    <li><span class="undocumented function">RtlFindLongestRunSet</span> (3.10)
    </li>
  </ul>
  <p>As usual, none had yet been documented. </p>
  <div class="Footer">
    <p class="Dates">This page was created on 20th April 2009 and was last modified 
    on 27th <a href="../../../../../new/22/05.htm">May 2022</a>. </p>
    <!--webbot bot="Include" U-Include="../../_include/c0922.htm" TAG="BODY" startspan -->

<p class="Copyright">Copyright © 2009-2022. Geoff Chappell. All rights reserved. 
<a href="../../../../../about/terms.htm">Conditions apply</a>. </p>

<!--webbot bot="Include" endspan i-checksum="5635" -->
  </div>
</div>

</body>

</html>
