<!doctype html>
<html lang="en">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Styles of Display Names for Drives</title>
<link rel="stylesheet" type="text/css" href="../../../_styles/master.css">
<link rel="stylesheet" type="text/css" href="../../../_styles/document.css">
<link rel="stylesheet" type="text/css" href="../../_styles/notes.css">
<script type="text/javascript" src="../../../_scripts/master.js"></script>
<script type="text/javascript" src="../../../_scripts/document.js"></script>
<script type="text/javascript" src="../../_scripts/notes.js" defer></script>
</head>

<body>

<!--webbot bot="Include" U-Include="../../_include/noscript.htm" TAG="BODY" startspan -->

<div class="NoScript Header" id="Banner">
  <div id="Links">
    <ul class="LinkList">
      <li> 
      <ul class="PreferNoWrap">
        <li class="LinkListItem"><a href="../../../index.htm">Home</a> </li><!--
     --><li class="LinkListItem"><a target="_self" href="../../toc.htm">Table of Contents</a> </li><!--
     --><li class="LinkListItem"><a href="../../../about/index.htm">About This Site</a> </li>
      </ul>
      <ul class="PreferNoWrap">
        <li class="LinkListItem"><a href="../../../new/index.htm">What’s New?</a> </li><!--
     --><li class="LinkListItem"><a href="../../../feedback/index.htm">Feedback</a> </li><!--
     --><li class="LinkListItem"><a href="../../../consult/index.htm">Consult</a> </li>
      </ul>
      </li>
    </ul>
  </div>
  <div id="Logo">
    <p><span class="PreferNoWrap">Geoff Chappell -</span> <span class="PreferNoWrap">Software Analyst</span> </p>
  </div>
</div>

<!--webbot bot="Include" endspan i-checksum="55207" -->
<div class="Main">
  <h1>Styles of Display Names for Drives </h1>
  <p>The Windows Shell presents disk drives in the My Computer folder (called just 
  Computer in Windows Vista). These are seen most readily in the Windows Explorer 
  when browsing the My Computer folder, but also show in many dialog boxes. Indeed, 
  they show in any shell view of any instance of the My Computer object. As with 
  all objects in the shell namespace, disk drives get display names which are meant 
  to ease the user’s recognition of what might otherwise be obscure. Though programmers 
  and so-called advanced users may be happy to think of disk drives in terms of 
  drive letters, even they mostly prefer to give each drive a name, called a label. 
  The shell’s display name is primarily this label, but drive letters are accommodated, 
  along with a reminder of the type of drive (especially for drives that take removable 
  media). </p>
  <p>The style of display name has long been configurable, but as so often, Microsoft 
  has not exactly rushed to say so. Windows Vista provides seven templates, and 
  selects from them according to the current options and the nature of the drive 
  or of its current contents. </p>
  <table>
    <tr>
      <th>Template for Display Name </th>
      <th>Type of Drive </th>
      <th>Options </th>
    </tr>
    <tr>
      <td><span class="placeholder">type</span> - <span class="placeholder">label</span>
      </td>
      <td>optical drive containing labelled disk </td>
      <td>always show type of optical drive; <br>
      and do not show drive letters </td>
    </tr>
    <tr>
      <td><span class="placeholder">type</span> - Unlabeled Volume
      <span class="placeholder">number</span> </td>
      <td>unlabelled fixed disk other than drive C <br>
      </td>
      <td>distinguish unlabelled fixed disks; <br>
      and do not show drive letters </td>
    </tr>
    <tr>
      <td><span class="placeholder">label_else_type</span> </td>
      <td>&nbsp;</td>
      <td>do not show drive letters </td>
    </tr>
    <tr>
      <td>(<span class="placeholder">letter</span>:) <span class="placeholder">type</span> 
      - <span class="placeholder">label</span> </td>
      <td>optical drive containing labelled disk <br>
      </td>
      <td>always show type of optical drive; <br>
      and show drive letters first </td>
    </tr>
    <tr>
      <td><span class="placeholder">type</span> (<span class="placeholder">letter</span>:)
      <span class="placeholder">label</span> </td>
      <td>optical drive containing labelled disk <br>
      </td>
      <td>always show type of optical drive </td>
    </tr>
    <tr>
      <td>(<span class="placeholder">letter</span>:) <span class="placeholder">label_else_type</span>
      </td>
      <td>&nbsp;</td>
      <td>show drive letters first </td>
    </tr>
    <tr>
      <td><span class="placeholder">label_else_type</span> (<span class="placeholder">letter</span>:)
      </td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
  </table>
  <p>where <span class="placeholder">label_else_type</span> stands for the label 
  of the media in the drive, if available, but falling back to the type of drive. 
  For network drives, the <span class="placeholder">label</span> is typically a 
  compound of the computer name and share name, with yet more parentheses. </p>
  <p>Note the special concern to distinguish types of optical drive even while loaded, 
  so that both the <span class="placeholder">label</span> and
  <span class="placeholder">type</span> are shown (if they differ). For the purpose 
  of composing the display name for an optical drive, the SHELL32 from Windows Vista 
  can identify the <span class="placeholder">type</span> as any of </p>
  <ul>
    <li>DVD RW Drive </li>
    <li>DVD R Drive </li>
    <li>DVD/CD-RW Drive </li>
    <li>DVD/CD-R Drive </li>
    <li>DVD RAM Drive </li>
    <li>DVD Drive </li>
    <li>CD-RW Drive </li>
    <li>CD-R Drive </li>
    <li>CD Drive </li>
  </ul>
  <p>Machines with more than one optical drive are not uncommon, and the option 
  to distinguish them by showing both the <span class="placeholder">type</span> 
  and <span class="placeholder">label</span> is on by default. Indeed, many users 
  will not be able to choose differently, even if they knew the necessary setting, 
  since it is one of policy not preference. </p>
  <h2>Preference </h2>
  <p>What is configurable by users in general is: </p>
  <ul>
    <li>should drive letters show at all; </li>
    <li>if there are to be drive letters, should they come first; </li>
    <li>if drive letters are to come first, should that be just for remote drives 
    or for all drives? </li>
  </ul>
  <p>The choice is set through the following registry value in either of two keys, 
  listed below in order of decreasing precedence. This order has the implication 
  that administrators may specify a machine-wide default which users may override 
  as they choose. </p>
  <table class="Registry">
    <tr>
      <td>Keys </td>
      <td><span class="regkey">HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Explorer</span>
      <br>
      <span class="regkey">HKEY_LOCAL_MACHINE\Software\Microsoft\Windows\CurrentVersion\Explorer</span>
      </td>
    </tr>
    <tr>
      <td>Value </td>
      <td><span class="regvalue">ShowDriveLettersFirst</span> </td>
    </tr>
    <tr>
      <td>Type </td>
      <td>dword </td>
    </tr>
    <tr>
      <td>Default </td>
      <td>0 </td>
    </tr>
    <tr>
      <td>Availability </td>
      <td>SHELL32, in late builds of version 4.72, and higher </td>
    </tr>
  </table>
  <p>The data type may be <span class="constant">REG_DWORD</span>, but four bytes 
  of <span class="constant">REG_BINARY</span> data is accepted also. The data is 
  interpreted in bit flags: </p>
  <table class="Constant">
    <tr>
      <td>0x01 </td>
      <td>show drive letters first for remote drives </td>
    </tr>
    <tr>
      <td>0x02 </td>
      <td>do not show drive letters </td>
    </tr>
    <tr>
      <td>0x04 </td>
      <td>show drive letters first </td>
    </tr>
  </table>
  <p>When the 0x02 bit is set, the others are ignored. When the 0x04 bit is set, 
  the 0x01 bit is superfluous. In effect, there is no point to setting more than 
  one bit. </p>
  <h3>History </h3>
  <p>In the original implementation, <span class="regvalue">ShowDriveLettersFirst</span> 
  is recognised only in the <span class="regkey">HKEY_LOCAL_MACHINE</span> branch, 
  and the choice of settings is between 0x01 and anything else. All three settings 
  are supported from version 5.00 onwards, i.e., for Windows 2000 and higher. Until 
  a recoding for Windows Vista, the settings are mutually exclusive (i.e., they 
  are compared as integer values, rather than tested as bit flags). This recoding 
  for Windows Vista is also when <span class="regkey">HKEY_CURRENT_USER</span> becomes 
  supported. </p>
  <h3>User-Interface Support </h3>
  <p>No user-interface support is known until Windows Vista. None really is expected, 
  not for general users anyway, since these versions support the setting only in 
  a machine-wide key which general users are typically permitted only to read.
  </p>
  <p>In Windows Vista, the 0x02 bit has user-interface support as “Show drive letters” 
  among the “Advanced settings” on the View tab of the Folder Options. Note that 
  the bit flag is for the opposite of the text: clearing the checkbox sets the 0x02 
  bit. </p>
  <p>The other bits have no known user-interface support. They are mentioned in 
  a Microsoft Knowledge Base article that is ostensibly about a different matter, 
  namely <a target="_top" href="http://support.microsoft.com/kb/330193">The computer 
  description appears before the computer name in Windows XP</a>. No hint is given 
  that this registry value is supported from as far back as Internet Explorer 4.01 
  SP2 and Windows 98 SE. </p>
  <h2>Policy </h2>
  <p>Windows Vista adds significantly to the configurability of display names for 
  disk drives. New settings are defined such that the old styles, which are now 
  within the control of general users, are also subject to administrative policy. 
  With these new settings come two new styles, for special cases that were previously 
  capable of ambiguity and may benefit from elaboration. The scheme looks to have 
  been developed with an eye for generalisation, but also looks like it may be still 
  in development. Perhaps this is why none of it is (yet) documented. </p>
  <p>The relevant policies are specified in five registry values, which may each 
  be in either of two keys. The five values allow that different policies can be 
  set for the display names of different types of drive. Again, the keys are listed 
  in decreasing order of precedence. This order has the implication that administrators 
  may specify a machine-wide policy which binds all users (even administrators, 
  except by changing the machine-wide policy). </p>
  <table class="Registry">
    <tr>
      <td>Keys </td>
      <td><span class="regkey">HKEY_LOCAL_MACHINE\Software\Microsoft\Windows\CurrentVersion\Policies\Explorer</span>
      <br>
      <span class="regkey">HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Policies\Explorer</span>
      </td>
    </tr>
    <tr>
      <td>Values </td>
      <td><span class="regvalue">DisplayName_Floppy <br>
      DisplayName_FixedDisk <br>
      DisplayName_OpticalDisk <br>
      DisplayName_RemoteDrive <br>
      DisplayName_RemovableDisk </span></td>
    </tr>
    <tr>
      <td>Type </td>
      <td>dword </td>
    </tr>
    <tr>
      <td>Default </td>
      <td>0 </td>
    </tr>
    <tr>
      <td>Availability </td>
      <td>SHELL32, in Windows Vista builds of version 6.00 </td>
    </tr>
  </table>
  <p>The data type may be <span class="constant">REG_DWORD</span>, but four bytes 
  of <span class="constant">REG_BINARY</span> data is accepted also. The data is 
  interpreted in bit flags: </p>
  <table class="Constant">
    <tr>
      <td>0x01 </td>
      <td>show drive letters </td>
    </tr>
    <tr>
      <td>0x02 </td>
      <td>show drive letters first </td>
    </tr>
    <tr>
      <td>0x04 </td>
      <td>do not show both type and label for optical drives </td>
    </tr>
    <tr>
      <td>0x10 </td>
      <td>do not distinguish unlabelled fixed disks </td>
    </tr>
  </table>
  <div class="Footer">
    <p class="Dates">This page was created on 21st June 2008 and was last modified 
    on 15th August 2008. </p>
    <!--webbot bot="Include" U-Include="../../_include/c08.htm" TAG="BODY" startspan -->

<p class="Copyright">Copyright © 2008. Geoff Chappell. All rights reserved. 
<a href="../../../about/terms.htm">Conditions apply</a>. </p>

<!--webbot bot="Include" endspan i-checksum="41256" -->
  </div>
</div>

</body>

</html>
