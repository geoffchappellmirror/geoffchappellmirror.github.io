<!doctype html>
<html lang="en">

<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<title>CPU_VENDORS (i386)</title>
<link rel="stylesheet" type="text/css" href="../../../../../../../_styles/master.css">
<link rel="stylesheet" type="text/css" href="../../../../../../../_styles/document.css">
<link rel="stylesheet" type="text/css" href="../../../../_styles/km.css">
<script type="text/javascript" src="../../../../../../../_scripts/master.js"></script>
<script type="text/javascript" src="../../../../../../../_scripts/document.js"></script>
<script type="text/javascript" src="../../../../_scripts/km.js" defer></script>
</head>

<body>

<!--webbot bot="Include" U-Include="../../../../_include/noscript.htm" TAG="BODY" startspan -->

<div class="NoScript" id="Banner">
  <div id="Links">
    <ul class="LinkList">
      <li> 
      <ul class="PreferNoWrap">
        <li class="LinkListItem"><a href="../../../../../../../index.htm">Home</a> </li><!--
     --><li class="LinkListItem"><a target="_self" href="../../../../toc.htm">Table of Contents</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../../about/index.htm">About This Site</a> </li>
      </ul>
      <ul class="PreferNoWrap">
        <li class="LinkListItem"><a href="../../../../../../../new/index.htm">What’s New?</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../../feedback/index.htm">Feedback</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../../consult/index.htm">Consult</a> </li>
      </ul>
      </li>
    </ul>
  </div>
  <div id="Logo">
    <p><span class="PreferNoWrap">Geoff Chappell -</span> <span class="PreferNoWrap">Software Analyst</span> </p>
  </div>
</div>

<!--webbot bot="Include" endspan i-checksum="48540" -->
<div class="Main">
  <h1>CPU_VENDORS (i386) </h1>
  <p>The <span class="enum">CPU_VENDORS</span> enumeration is a convenient classification 
  of the <a href="../../../../cpu/cpuid/00000000h/vendor.htm">vendor string</a> 
  that the <span class="instruction">cpuid</span> instruction’s leaf 0 produces 
  in the <span class="register">ebx</span>, <span class="register">edx</span> and
  <span class="register">ecx</span> registers. The recognised vendors and the corresponding 
  values in the enumeration are specific to the processor architecture. This page 
  concerns itself only with 32-bit Windows for the processor architecture that’s 
  variously named i386 or x86. The <a href="../amd64_x/cpu_vendors.htm">x64
  <span class="enum">CPU_VENDORS</span></a> is presented separately. </p>
  <p>From as far back as version 3.50 (but specifically not in version 3.10), the 
  kernel saves each processor’s vendor string into the processor’s
  <span class="struct"><a href="kprcb/index.htm">KPRCB</a></span> as the
  <span class="member">VendorString</span> member. At first, the kernel cared only 
  whether the processor is from Intel or AMD, the first to be checked for the
  <span class="bit">VME</span>, <span class="bit">TSC</span> and
  <span class="bit">MCE</span> bits in the feature flags produced in
  <a href="../../../../cpu/cpuid/00000001h/edx.htm"><span class="register">edx</span> 
  from <span class="instruction">cpuid</span> leaf 1</a>, the second to be checked 
  only for <span class="bit">VME</span> and <span class="bit">TSC</span>. A small 
  reorganisation for version 4.0, perhaps motivated by the addition of Cyrix to 
  the recognised vendors and the expansion of features to check, sees the vendor 
  string get classified to a 32-bit number. This is here taken as the origin of 
  the <span class="enum">CPU_VENDORS</span> enumeration. Version 6.0 starts recording 
  this classification in the <span class="struct">KPRCB</span> as the 8-bit
  <span class="member">CpuVendor</span>. </p>
  <h2>Documentation Status </h2>
  <p>Though the <span class="enum">CPU_VENDORS</span> enumeration is not documented, 
  Microsoft’s names for its values are known from a statically linked library named 
  CLFSMGMT.LIB which Microsoft distributes with the Software Development Kit (SDK) 
  starting with Windows Vista and then from public symbol files for the kernel starting 
  with Windows 8. They are also in private symbol files that Microsoft has distributed 
  in downloadable packages of public symbols. These are notable because they are 
  for user-mode modules which have no known access to the enumeration but pick up 
  its definition because a source file includes the NTOSP.H header. Microsoft does 
  not ordinarily publish this header but its possibly accidental disclosure in early 
  editions of the Windows Driver Kit (WDK) for Windows 10 means that the full C-language 
  definition in this header must now be considered published. The same names for 
  some, but not all, are reproduced in the assembly-language KS386.INC from the 
  WDK starting with Windows Vista. </p>
  <h2>Values </h2>
  <p>That the 32-bit number is formally an enumeration named <span class="enum">
  CPU_VENDORS</span> is not known for certain until WIndows Vista. For earlier versions, 
  the table below describes usage by the kernel and assumes continuity with the 
  names as known for later versions. </p>
  <table class="Enum">
    <colgroup>
      <col class="Value"><col class="Name"><col class="Remarks">
      <col class="Versions">
    </colgroup>
    <thead>
      <tr>
        <th>Value </th>
        <th>Name </th>
        <th>CPU Vendor String </th>
        <th>Versions </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>0 </td>
        <td><span class="constant">CPU_NONE</span> </td>
        <td>&nbsp;</td>
        <td>4.0 and higher </td>
      </tr>
      <tr>
        <td>1 </td>
        <td><span class="constant">CPU_INTEL</span> </td>
        <td>GenuineIntel </td>
        <td>4.0 and higher </td>
      </tr>
      <tr>
        <td>2 </td>
        <td><span class="constant">CPU_AMD</span> </td>
        <td>AuthenticAMD </td>
        <td>4.0 and higher </td>
      </tr>
      <tr>
        <td>3 </td>
        <td><span class="constant">CPU_CYRIX</span> </td>
        <td>CyrixInstead </td>
        <td>4.0 and higher </td>
      </tr>
      <tr>
        <td>4 </td>
        <td><span class="constant">CPU_TRANSMETA</span> </td>
        <td>GenuineTMx86 </td>
        <td>5.1 and higher </td>
      </tr>
      <tr>
        <td rowspan="2">5 </td>
        <td><span class="constant">CPU_VIA</span> <br>
        </td>
        <td>CentaurHauls </td>
        <td>6.2 and higher </td>
      </tr>
      <tr>
        <td><span class="constant">CPU_CENTAUR</span> </td>
        <td>CentaurHauls </td>
        <td>5.1 and higher </td>
      </tr>
      <tr>
        <td>6 </td>
        <td><span class="constant">CPU_RISE</span> </td>
        <td>RiseRiseRise </td>
        <td>late 5.1; <br>
        late 5.2 and higher </td>
      </tr>
      <tr>
        <td>4 (5.0); <br>
        6 (early 5,1, early 5.2); <br>
        7 </td>
        <td><span class="constant">CPU_UNKNOWN</span> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
    </tbody>
  </table>
  <p>In version 5.0 and higher, <span class="constant">CPU_NONE</span> means specifically 
  that no vendor string is known (<span class="instruction">cpuid</span> being absent 
  or unusable) and <span class="constant">CPU_UNKNOWN</span> means that a vendor 
  string is obtained but is not recognised. The x86 kernel has always tolerated 
  processors from unrecognised vendors. (It may treat them poorly, but at least 
  it does not reject them.) </p>
  <div class="Footer">
    <p class="Dates">This page was created on 28th
    <a href="../../../../../../../new/20/12.htm">December 2020</a> from material 
    first published on 14th November 2016. It was last modified on 2nd March 2023.
    </p>
    <!--webbot bot="Include" U-Include="../../../../_include/c1623.htm" TAG="BODY" startspan -->

<p class="Copyright">Copyright © 2016-2023. Geoff Chappell. All rights reserved. 
<a href="../../../../../../../about/terms.htm">Conditions apply</a>. </p>

<!--webbot bot="Include" endspan i-checksum="4941" -->
  </div>
</div>

</body>

</html>
