<!doctype html>
<html lang="en">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>MI_PARTITION_MODWRITES</title>
<link rel="stylesheet" type="text/css" href="../../../../../../../_styles/master.css">
<link rel="stylesheet" type="text/css" href="../../../../../../../_styles/document.css">
<link rel="stylesheet" type="text/css" href="../../../../_styles/km.css">
<script type="text/javascript" src="../../../../../../../_scripts/master.js"></script>
<script type="text/javascript" src="../../../../../../../_scripts/document.js"></script>
<script type="text/javascript" src="../../../../_scripts/km.js" defer></script>
</head>

<body>

<!--webbot bot="Include" U-Include="../../../../_include/noscript.htm" TAG="BODY" startspan -->

<div class="NoScript" id="Banner">
  <div id="Links">
    <ul class="LinkList">
      <li> 
      <ul class="PreferNoWrap">
        <li class="LinkListItem"><a href="../../../../../../../index.htm">Home</a> </li><!--
     --><li class="LinkListItem"><a target="_self" href="../../../../toc.htm">Table of Contents</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../../about/index.htm">About This Site</a> </li>
      </ul>
      <ul class="PreferNoWrap">
        <li class="LinkListItem"><a href="../../../../../../../new/index.htm">What’s New?</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../../feedback/index.htm">Feedback</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../../consult/index.htm">Consult</a> </li>
      </ul>
      </li>
    </ul>
  </div>
  <div id="Logo">
    <p><span class="PreferNoWrap">Geoff Chappell -</span> <span class="PreferNoWrap">Software Analyst</span> </p>
  </div>
</div>

<!--webbot bot="Include" endspan i-checksum="48540" -->
<div class="Main">
  <h1>MI_PARTITION_MODWRITES </h1>
  <p>The <span class="struct">MI_PARTITION_MODWRITES</span> structure (formally
  <span class="struct">_MI_PARTITION_MODWRITES</span>) is here thought to exist 
  only as a subdivision of the <span class="struct"><a href="mi_partition.htm">MI_PARTITION</a></span>, 
  specifically as the latter’s <span class="member">Modwriter</span> member. </p>
  <h2>Variability </h2>
  <p>The <span class="struct">MI_PARTITION_MODWRITES</span> structure is an implementation 
  detail and can be expected to change between builds. The following changes of 
  size give some rough indication of the variability so far: </p>
  <table class="Sizes">
    <colgroup>
      <col class="Version"><col class="Size" span="2">
    </colgroup>
    <thead>
      <tr>
        <th>Version </th>
        <th>Size (x86) </th>
        <th>Size (x64) </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>10.0 </td>
        <td>0x01B0 </td>
        <td>0x02A0 </td>
      </tr>
      <tr>
        <td>1511 to 1703 </td>
        <td>0x01D0 </td>
        <td>0x02D0 </td>
      </tr>
      <tr>
        <td>1709 </td>
        <td>0x01C8 </td>
        <td>0x02C0 </td>
      </tr>
      <tr>
        <td>1803 to 2004 </td>
        <td>0x01D0 </td>
        <td>0x02C0 </td>
      </tr>
    </tbody>
  </table>
  <h2>Layout </h2>
  <p>The sizes in the preceding table and the offsets, names and types in the next 
  are from type information in public symbol files for the kernel. </p>
  <table class="Struct">
    <colgroup>
      <col class="Offset" span="2"><col class="Definition">
      <col class="Versions">
    </colgroup>
    <thead>
      <tr>
        <th>Offset (x86) </th>
        <th>Offset (x64) </th>
        <th>Definition </th>
        <th>Versions </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>0x00 </td>
        <td>0x00 </td>
        <td>
        <pre class="source">MMPAGE_FILE_EXPANSION AttemptForCantExtend;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0x38 (10.0 to 1703); <br>
        0x34 </td>
        <td>0x60 (10.0 to 1703); <br>
        0x58 </td>
        <td>
        <pre class="source">MMPAGE_FILE_EXPANSION PageFileContract;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0x70 (10.0 to 1703); <br>
        0x68 </td>
        <td>0xC0 (10.0 to 1703); <br>
        0xB0 </td>
        <td>
        <pre class="source">ULONG_PTR NumberOfMappedMdls;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0x74 (10.0 to 1703); <br>
        0x6C </td>
        <td>0xC8 (10.0 to 1703); <br>
        0xB8 </td>
        <td>
        <pre class="source">LONG volatile NumberOfMappedMdlsInUse;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0x78 (10.0 to 1703); <br>
        0x70 </td>
        <td>0xCC (10.0 to 1703); <br>
        0xBC </td>
        <td>
        <pre class="source">ULONG NumberOfMappedMdlsInUsePeak;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0x7C (10.0 to 1703); <br>
        0x74 </td>
        <td>0xD0 (10.0 to 1703); <br>
        0xC0 </td>
        <td>
        <pre class="source">MMMOD_WRITER_LISTHEAD MappedFileHeader;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0x94 (10.0 to 1703); <br>
        0x8C </td>
        <td>0xF8 (10.0 to 1703); <br>
        0xE8 </td>
        <td>
        <pre class="source">BOOLEAN NeedMappedMdl;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0x95 (10.0 to 1703); <br>
        0x8D </td>
        <td>0xF9 (10.0 to 1703); <br>
        0xE9 </td>
        <td>
        <pre class="source">BOOLEAN NeedPageFileMdl;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0x96 (10.0 to 1703); <br>
        0x8E </td>
        <td>0xFA (10.0 to 1703); <br>
        0xEA </td>
        <td>
        <pre class="source">BOOLEAN TransitionInserted;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0x98 (10.0 to 1703); <br>
        0x90 </td>
        <td>0xFC (10.0 to 1703); <br>
        0xEC </td>
        <td>
        <pre class="source">LONG LastModifiedWriteError;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0x9C (10.0 to 1703); <br>
        0x94 </td>
        <td>0x0100 (10.0 to 1703); <br>
        0xF0 </td>
        <td>
        <pre class="source">LONG LastMappedWriteError;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0xA0 (10.0 to 1703); <br>
        0x98 </td>
        <td>0x0104 (10.0 to 1703); <br>
        0xF4 </td>
        <td>
        <pre class="source">ULONG volatile MappedFileWriteSucceeded;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0xA4 (10.0 to 1703); <br>
        0x9C </td>
        <td>0x0108 (10.0 to 1703); <br>
        0xF8 </td>
        <td>
        <pre class="source">ULONG MappedWriteBurstCount;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0xA8 (10.0 to 1703); <br>
        0xA0 </td>
        <td>0x010C (10.0 to 1703); <br>
        0xFC </td>
        <td>
        <pre class="source">ULONG LowPriorityModWritesOutstanding;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0xAC (10.0 to 1703); <br>
        0xA4 </td>
        <td>0x0110 (10.0 to 1703); <br>
        0x0100 </td>
        <td>
        <pre class="source">KEVENT BoostModWriteIoPriorityEvent;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0xBC (10.0 to 1703); <br>
        0xB4 </td>
        <td>0x0128 (10.0 to 1703); <br>
        0x0118 </td>
        <td>
        <pre class="source">LONG ModifiedWriteThreadPriority;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0xC0 (10.0 to 1703); <br>
        0xB8 </td>
        <td>0x0130 (10.0 to 1703); <br>
        0x0120 </td>
        <td>
        <pre class="source">ULONG_PTR ModifiedPagesLowPriorityGoal;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0xC4 (10.0 to 1703); <br>
        0xBC </td>
        <td>0x0138 (10.0 to 1703); <br>
        0x0128 </td>
        <td>
        <pre class="source">KEVENT ModifiedPageWriterEvent;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0xD4 (1511 to 1703); <br>
        0xCC </td>
        <td>0x0150 (1511 to 1703); <br>
        0x0140 </td>
        <td>
        <pre class="source">KEVENT ModifiedWriterExitedEvent;</pre>
        </td>
        <td>1511 and higher </td>
      </tr>
      <tr>
        <td>0xD4 (10.0); <br>
        0xE4 (1511 to 1703); <br>
        0xDC </td>
        <td>0x0150 (10.0); <br>
        0x0168 (1511 to 1703); <br>
        0x0158 </td>
        <td>
        <pre class="source">LONG volatile WriteAllPagefilePages;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0xD8 (10.0); <br>
        0xE8 (1511 to 1703); <br>
        0xE0 </td>
        <td>0x0154 (10.0); <br>
        0x016C (1511 to 1703); <br>
        0x015C </td>
        <td>
        <pre class="source">LONG volatile WriteAllMappedPages;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0xDC (10.0); <br>
        0xEC (1511 to 1703); <br>
        0xE4 </td>
        <td>0x0158 (10.0); <br>
        0x0170 (1511 to 1703); <br>
        0x0160 </td>
        <td>
        <pre class="source">KEVENT MappedPageWriterEvent;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0xF0 (10.0); <br>
        0x0100 (1511 to 1703); <br>
        0xF8 </td>
        <td>0x0170 (10.0); <br>
        0x0188 (1511 to 1703); <br>
        0x0178 </td>
        <td>
        <pre class="source">MI_MODWRITE_DATA ModWriteData;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0x0120 (10.0); <br>
        0x0130 (1511 to 1703); <br>
        0x0128 </td>
        <td>0x01B0 (10.0); <br>
        0x01C8 (1511 to 1703); <br>
        0x01B8 </td>
        <td>
        <pre class="source">KEVENT RescanPageFilesEvent;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0x0130 (10.0); <br>
        0x0140 (1511 to 1703); <br>
        0x0138 </td>
        <td>0x01C8 (10.0); <br>
        0x01E0 (1511 to 1703); <br>
        0x01D0 </td>
        <td>
        <pre class="source">MMMOD_WRITER_LISTHEAD PagingFileHeader;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0x0148 (10.0); <br>
        0x0158 (1511 to 1703); <br>
        0x0150 </td>
        <td>0x01F0 (10.0); <br>
        0x0208 (1511 to 1703); <br>
        0x01F8 </td>
        <td>
        <pre class="source">ETHREAD *ModifiedPageWriterThread;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0x014C (10.0); <br>
        0x015C (1511 to 1703); <br>
        0x0154 </td>
        <td>0x01F8 (10.0); <br>
        0x0210 (1511 to 1703); <br>
        0x0200 </td>
        <td>
        <pre class="source">EX_RUNDOWN_REF ModifiedPageWriterRundown;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0x0150 (10.0); <br>
        0x0160 (1511 to 1703); <br>
        0x0158 </td>
        <td>0x0200 (10.0); <br>
        0x0218 (1511 to 1703); <br>
        0x0208 </td>
        <td>
        <pre class="source">WORK_QUEUE_ITEM PagefileScanWorkItem;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0x0160 (10.0); <br>
        0x0170 (1511 to 1703); <br>
        0x0168 </td>
        <td>0x0220 (10.0); <br>
        0x0238 (1511 to 1703); <br>
        0x0228 </td>
        <td>
        <pre class="source">ULONG PagefileScanCount;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0x0164 (10.0); <br>
        0x0174 (1511 to 1703); <br>
        0x016C (1709) </td>
        <td>0x0224 (10.0); <br>
        0x023C (1511 to 1703); <br>
        0x022C (1709) </td>
        <td>
        <pre class="source">LONG volatile ClusterWritesDisabled [2];</pre>
        </td>
        <td>10.0 to 1709 </td>
      </tr>
      <tr>
        <td>0x016C </td>
        <td>0x022C </td>
        <td>
        <pre class="source">LONG volatile ClusterRestrictionLock;</pre>
        </td>
        <td>1803 and higher </td>
      </tr>
      <tr>
        <td>0x0170 </td>
        <td>0x0230 </td>
        <td>
        <pre class="source">MI_RESTRICTED_MODWRITES ClusterRestriction [2];</pre>
        </td>
        <td>1803 and higher </td>
      </tr>
      <tr>
        <td>0x017C (1511 to 1703); <br>
        0x0164 (1709); <br>
        0x0178 </td>
        <td>0x0248 (1511 to 1703); <br>
        0x0238 </td>
        <td>
        <pre class="source">KEVENT NotifyStoreMemoryConditions;</pre>
        </td>
        <td>1511 and higher </td>
      </tr>
      <tr>
        <td>0x016C (10.0); <br>
        0x018C (1511 to 1703); <br>
        0x0184 (1709); <br>
        0x0188 </td>
        <td>0x022C (10.0); <br>
        0x0260 (1511 to 1703); <br>
        0x0250 </td>
        <td>
        <pre class="source">UCHAR volatile DelayedMappedWrite;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0x0170 (10.0); <br>
        0x0190 (1511 to 1703); <br>
        0x0188 (1709); <br>
        0x018C </td>
        <td>0x0230 (10.0); <br>
        0x0264 (1511 to 1703); <br>
        0x0254 </td>
        <td>
        <pre class="source">ULONG volatile PagefileReservationsEnabled;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0x0174 (10.0); <br>
        0x0194 (1511 to 1703); <br>
        0x018C (1709); <br>
        0x0190 </td>
        <td>0x0238 (10.0); <br>
        0x0268 (1511 to 1703); <br>
        0x0258 </td>
        <td>
        <pre class="source">EX_PUSH_LOCK PageFileCreationLock;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0x0178 (10.0); <br>
        0x0198 (1511 to 1703); <br>
        0x0190 (1709); <br>
        0x0194 </td>
        <td>0x0240 (10.0); <br>
        0x0270 (1511 to 1703); <br>
        0x0260 </td>
        <td>
        <pre class="source">WORK_QUEUE_ITEM TrimPagefileWorkItem;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0x0188 (10.0); <br>
        0x01A8 (1511 to 1703); <br>
        0x01A0 (1709); <br>
        0x01A8 </td>
        <td>0x0260 (10.0); <br>
        0x0290 (1511 to 1703); <br>
        0x0280 </td>
        <td>
        <pre class="source">ULONGLONG LastTrimPagefileTime;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0x0190 (10.0); <br>
        0x01B0 (1511 to 1703); <br>
        0x01A8 (1709); <br>
        0x01B0 </td>
        <td>0x0268 (10.0); <br>
        0x0298 1511 to 1703); <br>
        0x0288 </td>
        <td>
        <pre class="source">WORK_QUEUE_ITEM WsSwapPagefileContractWorkItem;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0x01A0 (10.0); <br>
        0x01C0 (1511 to 1703); <br>
        0x01B8 (1709); <br>
        0x01C0 </td>
        <td>0x0288 (10.0); <br>
        0x02B8 (1511 to 1703); <br>
        0x02A8 </td>
        <td>
        <pre class="source">LONG volatile WsSwapPageFileContractionInProgress;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0x01A4 (10.0); <br>
        0x01C4 (1511 to 1703); <br>
        0x01BC (1709); <br>
        0x01C4 </td>
        <td>0x0290 (10.0); <br>
        0x02C0 (1511 to 1703); <br>
        0x02B0 </td>
        <td>
        <pre class="source">EX_PUSH_LOCK WorkingSetSwapLock;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
      <tr>
        <td>0x01A8 (10.0); <br>
        0x01C8 (1511 to 1703); <br>
        0x01C0 (1709); <br>
        0x01C8 </td>
        <td>0x0298 (10.0); <br>
        0x02C8 (1511 to 1703); <br>
        0x02B8 </td>
        <td>
        <pre class="source">LONG volatile WorkingSetInswapLock;</pre>
        </td>
        <td>10.0 and higher </td>
      </tr>
    </tbody>
  </table>
  <div class="Footer">
    <p class="Dates">This page was created on 14th July 2016 and was last modified 
    on 31st <a href="../../../../../../../new/22/07.htm">August 2022</a>. </p>
    <!--webbot bot="Include" U-Include="../../../../_include/c1622.htm" TAG="BODY" startspan -->

<p class="Copyright">Copyright © 2016-2022. Geoff Chappell. All rights reserved. 
<a href="../../../../../../../about/terms.htm">Conditions apply</a>. </p>

<!--webbot bot="Include" endspan i-checksum="4925" -->
  </div>
</div>

</body>

</html>
