<!doctype html>
<html lang="en">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>MMSECTION_FLAGS</title>
<link rel="stylesheet" type="text/css" href="../../../../../../../_styles/master.css">
<link rel="stylesheet" type="text/css" href="../../../../../../../_styles/document.css">
<link rel="stylesheet" type="text/css" href="../../../../_styles/km.css">
<script type="text/javascript" src="../../../../../../../_scripts/master.js"></script>
<script type="text/javascript" src="../../../../../../../_scripts/document.js"></script>
<script type="text/javascript" src="../../../../_scripts/km.js" defer></script>
</head>

<body>

<!--webbot bot="Include" U-Include="../../../../_include/noscript.htm" TAG="BODY" startspan -->

<div class="NoScript" id="Banner">
  <div id="Links">
    <ul class="LinkList">
      <li> 
      <ul class="PreferNoWrap">
        <li class="LinkListItem"><a href="../../../../../../../index.htm">Home</a> </li><!--
     --><li class="LinkListItem"><a target="_self" href="../../../../toc.htm">Table of Contents</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../../about/index.htm">About This Site</a> </li>
      </ul>
      <ul class="PreferNoWrap">
        <li class="LinkListItem"><a href="../../../../../../../new/index.htm">What’s New?</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../../feedback/index.htm">Feedback</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../../consult/index.htm">Consult</a> </li>
      </ul>
      </li>
    </ul>
  </div>
  <div id="Logo">
    <p><span class="PreferNoWrap">Geoff Chappell -</span> <span class="PreferNoWrap">Software Analyst</span> </p>
  </div>
</div>

<!--webbot bot="Include" endspan i-checksum="48540" -->
<div class="Main">
  <h1>MMSECTION_FLAGS </h1>
  <p>The <span class="struct">MMSECTION_FLAGS</span> (formally
  <span class="struct">_MMSECTION_FLAGS</span>) are a structure of
  <span class="type">UINT</span> bit fields that are shared between the
  <span class="struct"><a href="section.htm">SECTION</a></span> and
  <span class="struct">CONTROL_AREA</span> structures. </p>
  <p>In the table that follows, the masks and Microsoft’s names for the members 
  are from public symbol files for the kernel, starting with Windows 2000 SP3. What’s 
  shown for earlier versions is, of course, something of a guess. </p>
  <p>Strikingly many of the flags have kept their same numerical value through the 
  whole history of Windows. Before Windows XP this may have been helped by the flags’ 
  exposure to public view through the KDEXTX86 debugger extension’s
  <span class="command">!ca</span> command. (Back then, debugger extensions had 
  to rely on hard-coded knowledge, with no help from type information in symbol 
  files.) </p>
  <p>The first significant disruption was for Windows Vista to accommodate the 6-bit
  <span class="member">PreferredNode</span> (which, by the way, can be set as the 
  low 6 bits of the <span class="argument">AllocationAttributes</span> argument 
  to the <span class="function">MmCreateSection</span> function). This also laiid 
  the ground for a second disruption: version 6.0 had placed these new bits at the 
  end, requiring some shuffling of older flags, but then version 6.2 apparently 
  wanted that spare bits be at the end. </p>
  <table class="Flags">
    <colgroup>
      <col class="Mask"><col class="Definition"><col class="Versions">
      <col class="Remarks">
    </colgroup>
    <thead>
      <tr>
        <th>Mask </th>
        <th>Definition </th>
        <th>Versions </th>
        <th>Remarks </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>0x00000001 </td>
        <td>
        <pre class="source">UINT BeingDeleted : 1;</pre>
        </td>
        <td>all </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x00000002 </td>
        <td>
        <pre class="source">UINT BeingCreated : 1;</pre>
        </td>
        <td>all </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x00000004 </td>
        <td>
        <pre class="source">UINT BeingPurged : 1;</pre>
        </td>
        <td>3.51 and higher </td>
        <td>earlier use not yet confirmed </td>
      </tr>
      <tr>
        <td>0x00000008 </td>
        <td>
        <pre class="source">UINT NoModifiedWriting : 1;</pre>
        </td>
        <td>all </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x00000010 </td>
        <td>
        <pre class="source">UINT FailAllIo : 1;</pre>
        </td>
        <td>all </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x00000020 </td>
        <td>
        <pre class="source">UINT Image : 1;</pre>
        </td>
        <td>all </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x00000040 </td>
        <td>
        <pre class="source">UINT Based : 1;</pre>
        </td>
        <td>all </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x00000080 </td>
        <td>
        <pre class="source">UINT File : 1;</pre>
        </td>
        <td>all </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td rowspan="2">0x00000100 </td>
        <td>
        <pre class="source">UINT Networked : 1;</pre>
        </td>
        <td>3.10 to 6.1 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>
        <pre class="source">UINT AttemptingDelete : 1;</pre>
        </td>
        <td>6.2 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td rowspan="3">0x00000200 </td>
        <td>
        <pre class="source">UINT NoCache : 1;</pre>
        </td>
        <td>3.51 to 5.2 </td>
        <td>earlier use not yet confirmed </td>
      </tr>
      <tr>
        <td>
        <pre class="source">UINT Rom : 1;</pre>
        </td>
        <td>6.0 to 6.1 </td>
        <td>previously 0x20000000 </td>
      </tr>
      <tr>
        <td>
        <pre class="source">UINT PrefetchCreated : 1;</pre>
        </td>
        <td>6.2 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x00000400 </td>
        <td>
        <pre class="source">UINT PhysicalMemory : 1;</pre>
        </td>
        <td>all </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td rowspan="2">0x00000800 </td>
        <td>
        <pre class="source">UINT CopyOnWrite : 1;</pre>
        </td>
        <td>3.10 to 1511 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>
        <pre class="source">UINT ImageControlAreaRemovableMedia : 1;</pre>
        </td>
        <td>1607 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x00001000 </td>
        <td>
        <pre class="source">UINT Reserve : 1;</pre>
        </td>
        <td>all </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x00002000 </td>
        <td>
        <pre class="source">UINT Commit : 1;</pre>
        </td>
        <td>all </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td rowspan="3">0x00004000 </td>
        <td>
        <pre class="source">UINT FloppyMedia : 1;</pre>
        </td>
        <td>3.10 to 5.2 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>
        <pre class="source">UINT Accessed : 1;</pre>
        </td>
        <td>6.0 to 6.1 </td>
        <td>previously 0x08000000 </td>
      </tr>
      <tr>
        <td>
        <pre class="source">UINT NoChange : 1;</pre>
        </td>
        <td>6.2 and higher </td>
        <td>previously 0x00800000 </td>
      </tr>
      <tr>
        <td>0x00008000 </td>
        <td>
        <pre class="source">UINT WasPurged : 1;</pre>
        </td>
        <td>all </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x00010000 </td>
        <td>
        <pre class="source">UINT UserReference : 1;</pre>
        </td>
        <td>all </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x00020000 </td>
        <td>
        <pre class="source">UINT GlobalMemory : 1;</pre>
        </td>
        <td>all </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x00040000 </td>
        <td>
        <pre class="source">UINT DeleteOnClose : 1;</pre>
        </td>
        <td>3.51 and higher </td>
        <td>earlier use not yet confirmed </td>
      </tr>
      <tr>
        <td>0x00080000 </td>
        <td>
        <pre class="source">UINT FilePointerNull : 1;</pre>
        </td>
        <td>3.51 and higher </td>
        <td>earlier use not yet confirmed </td>
      </tr>
      <tr>
        <td>0x03F00000 </td>
        <td>
        <pre class="source">UINT PreferredNode : 6;</pre>
        </td>
        <td>6.2 and higher </td>
        <td>previously 0xFC000000 </td>
      </tr>
      <tr>
        <td>0x00100000 (3.51 to 5.2) </td>
        <td>
        <pre class="source">UINT DebugSymbolsLoaded : 1;</pre>
        </td>
        <td>3.51 to 5.2 </td>
        <td>earlier use not yet confirmed </td>
      </tr>
      <tr>
        <td>0x00100000 (6.0 to 6.1); <br>
        0x04000000 </td>
        <td>
        <pre class="source">UINT GlobalOnlyPerSession : 1;</pre>
        </td>
        <td>6.0 and higher </td>
        <td>previously 0x10000000 </td>
      </tr>
      <tr>
        <td>0x00200000 (3.51 to 6.1) </td>
        <td>
        <pre class="source">UINT SetMappedFileIoComplete : 1;</pre>
        </td>
        <td>3.51 to 6.1 </td>
        <td>earlier use not yet confirmed </td>
      </tr>
      <tr>
        <td>0x00400000 (3.51) </td>
        <td>
        <pre class="source">UINT BeingFlushed : 1;</pre>
        </td>
        <td>3.51 </td>
        <td>earlier use not yet confirmed </td>
      </tr>
      <tr>
        <td>0x00800000 (3.10 to 3.51); <br>
        0x00400000 (4.0 to 6.1) </td>
        <td>
        <pre class="source">UINT CollidedFlush : 1;</pre>
        </td>
        <td>3.10 to 6.1 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x01000000 (3.51); <br>
        0x00800000 (4.0 to 6.1) </td>
        <td>
        <pre class="source">UINT NoChange : 1;</pre>
        </td>
        <td>3.51 to 6.1 </td>
        <td>next as 0x00004000 </td>
      </tr>
      <tr>
        <td rowspan="2">0x02000000 (3.51); <br>
        0x01000000 (4.0 to 5.2) </td>
        <td>
        <pre class="source">UINT HadUserReference : 1;</pre>
        </td>
        <td>3.51 to early 5.2 </td>
        <td>earlier use not yet confirmed </td>
      </tr>
      <tr>
        <td>
        <pre class="source">UINT filler0 : 1;</pre>
        </td>
        <td>late 5.2 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td rowspan="2">0x02000000 (4.0 to 5.2); <br>
        0x01000000 (6.0 to 6.1) </td>
        <td>
        <pre class="source">UINT ImageMappedInSystemSpace : 1;</pre>
        </td>
        <td>4.0 to 5.2 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>
        <pre class="source">UINT Spare : 1;</pre>
        </td>
        <td>6.0 to 6.1 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td rowspan="2">0x04000000 (5.0 to 5.2); <br>
        0x02000000 (6.0 to 6.1); <br>
        0x08000000 </td>
        <td>
        <pre class="source">UINT filler0 : 1;</pre>
        </td>
        <td>5.0 only </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>
        <pre class="source">UINT UserWritable;</pre>
        </td>
        <td>5.1 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x08000000 (5.0 to 5.2) </td>
        <td>
        <pre class="source">UINT Accessed : 1;</pre>
        </td>
        <td>5.0 to 5.2 </td>
        <td>next as 0x00004000 </td>
      </tr>
      <tr>
        <td>0x10000000 (5.0 to 5.2) </td>
        <td>
        <pre class="source">UINT GlobalOnlyPerSession : 1;</pre>
        </td>
        <td>5.0 to 5.2 </td>
        <td>next as 0x00100000 </td>
      </tr>
      <tr>
        <td>0x20000000 (5.1 to 5.2) </td>
        <td>
        <pre class="source">UINT Rom : 1;</pre>
        </td>
        <td>5.1 to 5.2 </td>
        <td>next as 0x00000200 </td>
      </tr>
      <tr>
        <td>0x40000000 (late 5.2) </td>
        <td>
        <pre class="source">UINT WriteCombined : 1;</pre>
        </td>
        <td>late 5.2 only </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td rowspan="4">&nbsp;</td>
        <td>
        <pre class="source">UINT filler : 6;</pre>
        </td>
        <td>3.51 to 4.0 </td>
        <td>earlier definition not yet confirmed </td>
      </tr>
      <tr>
        <td>
        <pre class="source">UINT filler : 3;</pre>
        </td>
        <td>5.0 only </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>
        <pre class="source">UINT filler : 2;</pre>
        </td>
        <td>5.1 to early 5.2 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>
        <pre class="source">UINT filler : 1;</pre>
        </td>
        <td>late 5.2 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0xFC000000 (6.0 to 6.1) </td>
        <td>
        <pre class="source">UINT PreferredNode : 6;</pre>
        </td>
        <td>6.0 to 6.1 </td>
        <td>next as 0x03F00000 </td>
      </tr>
      <tr>
        <td>0x10000000 </td>
        <td>
        <pre class="source">UINT SystemVaAllocated : 1;</pre>
        </td>
        <td>10.0 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x20000000 </td>
        <td>
        <pre class="source">UINT PreferredFsCompressionBoundary : 1;</pre>
        </td>
        <td>10.0 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x40000000 </td>
        <td>
        <pre class="source">UINT UsingFileExtents : 1;</pre>
        </td>
        <td>10.0 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x80000000 </td>
        <td>
        <pre class="source">UINT PageSize64 : 1;</pre>
        </td>
        <td>1607 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td rowspan="2">&nbsp;</td>
        <td>
        <pre class="source">UINT Spare : 4;</pre>
        </td>
        <td>6.2 to 6.3 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>
        <pre class="source">UINT Spare : 1;</pre>
        </td>
        <td>10.0 to 1511 </td>
        <td>&nbsp;</td>
      </tr>
    </tbody>
  </table>
  <div class="Footer">
    <p class="Dates">This page was created on 1st September 2019 but was not published 
    until 7th <a href="../../../../../../../new/22/07.htm">August 2022</a>. </p>
    <!--webbot bot="Include" U-Include="../../../../_include/c22.htm" TAG="BODY" startspan -->

<p class="Copyright">Copyright © 2022. Geoff Chappell. All rights reserved. 
<a href="../../../../../../../about/terms.htm">Conditions apply</a>. </p>

<!--webbot bot="Include" endspan i-checksum="5890" -->
  </div>
</div>

</body>

</html>
