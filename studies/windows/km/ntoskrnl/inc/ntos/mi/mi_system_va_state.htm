<!doctype html>
<html lang="en">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>MI_SYSTEM_VA_STATE</title>
<link rel="stylesheet" type="text/css" href="../../../../../../../_styles/master.css">
<link rel="stylesheet" type="text/css" href="../../../../../../../_styles/document.css">
<link rel="stylesheet" type="text/css" href="../../../../_styles/km.css">
<script type="text/javascript" src="../../../../../../../_scripts/master.js"></script>
<script type="text/javascript" src="../../../../../../../_scripts/document.js"></script>
<script type="text/javascript" src="../../../../_scripts/km.js" defer></script>
</head>

<body>

<!--webbot bot="Include" U-Include="../../../../_include/noscript.htm" TAG="BODY" startspan -->

<div class="NoScript" id="Banner">
  <div id="Links">
    <ul class="LinkList">
      <li> 
      <ul class="PreferNoWrap">
        <li class="LinkListItem"><a href="../../../../../../../index.htm">Home</a> </li><!--
     --><li class="LinkListItem"><a target="_self" href="../../../../toc.htm">Table of Contents</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../../about/index.htm">About This Site</a> </li>
      </ul>
      <ul class="PreferNoWrap">
        <li class="LinkListItem"><a href="../../../../../../../new/index.htm">What’s New?</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../../feedback/index.htm">Feedback</a> </li><!--
     --><li class="LinkListItem"><a href="../../../../../../../consult/index.htm">Consult</a> </li>
      </ul>
      </li>
    </ul>
  </div>
  <div id="Logo">
    <p><span class="PreferNoWrap">Geoff Chappell -</span> <span class="PreferNoWrap">Software Analyst</span> </p>
  </div>
</div>

<!--webbot bot="Include" endspan i-checksum="48540" -->
<div class="Main">
  <h1>MI_SYSTEM_VA_STATE </h1>
  <p>The <span class="struct">MI_SYSTEM_VA_STATE</span> structure (formally
  <span class="struct">_MI_SYSTEM_VA_STATE</span>) is known only as the type of 
  the <span class="member">SystemVa</span> member of the <span class="struct">
  <a href="mi_system_information.htm">MI_SYSTEM_INFORMATION</a></span>, which is 
  in turn the type of the internal variable <span class="variable">MiState</span> 
  in the Windows 10 kernel. </p>
  <p>As a collection of what earlier versions had as separately named internal variables, 
  the <span class="struct">MI_SYSTEM_VA_STATE</span> is highly susceptible to changing 
  between builds. </p>
  <table class="Sizes">
    <colgroup>
      <col class="Version"><col class="Size" span="2">
    </colgroup>
    <thead>
      <tr>
        <th>Version </th>
        <th>Size (x86) </th>
        <th>Size (x64) </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>10.0 to 1511 </td>
        <td>0x14C0 </td>
        <td>0x02C0 </td>
      </tr>
      <tr>
        <td>1607 </td>
        <td>0x14C0 </td>
        <td>0x0300 </td>
      </tr>
      <tr>
        <td>1703 </td>
        <td>0x1500 </td>
        <td>0x0380 </td>
      </tr>
      <tr>
        <td>1709 </td>
        <td>0x1500 </td>
        <td>0x03C0 </td>
      </tr>
      <tr>
        <td>1803 to 1809 </td>
        <td>0x2740 </td>
        <td>0x0500 </td>
      </tr>
      <tr>
        <td>1903 </td>
        <td>0x2740 </td>
        <td>0x0480 </td>
      </tr>
      <tr>
        <td>2004 </td>
        <td>0x2740 </td>
        <td>0x04C0 </td>
      </tr>
    </tbody>
  </table>
  <p>These sizes and the offsets, names and types in the table below are from type 
  information in the public symbol files for the kernel. </p>
  <table class="Struct">
    <colgroup>
      <col class="Offset" span="2"><col class="Definition">
      <col class="Versions"><col class="Remarks">
    </colgroup>
    <thead>
      <tr>
        <th>Offset (x86) </th>
        <th>Offset (x64) </th>
        <th>Definition </th>
        <th>Versions </th>
        <th>Remarks </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>0x00 </td>
        <td>0x00 </td>
        <td>
        <pre class="source">ULONG_PTR SystemTablesLock;</pre>
        </td>
        <td>10.0 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x04 </td>
        <td>&nbsp;</td>
        <td>
        <pre class="source">ULONG SystemVaBias;</pre>
        </td>
        <td>10.0 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x08 </td>
        <td>&nbsp;</td>
        <td>
        <pre class="source">ULONG SystemAvailableVaLow;</pre>
        </td>
        <td>10.0 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x0C </td>
        <td>&nbsp;</td>
        <td>
        <pre class="source">ULONG VirtualBias;</pre>
        </td>
        <td>10.0 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x10 (10.0 to 1511) </td>
        <td>&nbsp;</td>
        <td>
        <pre class="source">PVOID HyperSpaceEnd;</pre>
        </td>
        <td>10.0 to 1511 </td>
        <td>next at 0x1418 </td>
      </tr>
      <tr>
        <td>0x14 (10.0 to 1511); <br>
        0x10 (1607) </td>
        <td>&nbsp;</td>
        <td>
        <pre class="source"><a href="../../../api/mm/mi/mmpte/index.htm">MMPTE</a> *HyperSpaceEndPte;</pre>
        </td>
        <td>10.0 to 1607 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x18 (10.0 to 1511); <br>
        0x14 (1607); <br>
        0x10 </td>
        <td>&nbsp;</td>
        <td>
        <pre class="source">PVOID SystemRangeStart;</pre>
        </td>
        <td>10.0 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x1C (10.0 to 1511); <br>
        0x18 (1607); <br>
        0x14 </td>
        <td>&nbsp;</td>
        <td>
        <pre class="source">UCHAR SystemCachePdeCount [0x0400];</pre>
        </td>
        <td>10.0 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x041C (10.0 to 1511); <br>
        0x0418 (1607); <br>
        0x0414 </td>
        <td>&nbsp;</td>
        <td>
        <pre class="source">PVOID SystemCacheReverseMaps [0x0400];</pre>
        </td>
        <td>10.0 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>&nbsp;</td>
        <td>0x08 </td>
        <td>
        <pre class="source">ULONGLONG AvailableSystemCacheVa;</pre>
        </td>
        <td>10.0 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>&nbsp;</td>
        <td>0x10 </td>
        <td>
        <pre class="source">MI_DYNAMIC_BITMAP DynamicBitMapKernelStacks;</pre>
        </td>
        <td>1709 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>&nbsp;</td>
        <td>0x10 (10.0 to 1703); <br>
        0x58 </td>
        <td>
        <pre class="source">MI_DYNAMIC_BITMAP DynamicBitMapSystemPtes;</pre>
        </td>
        <td>10.0 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>&nbsp;</td>
        <td>0x60 (10.0 to 1607); <br>
        0x58 (1703); <br>
        0xA0 </td>
        <td>
        <pre class="source">MI_DYNAMIC_BITMAP DynamicBitMapDriverImages [2];</pre>
        </td>
        <td>10.0 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>&nbsp;</td>
        <td>0x0100 (10.0 to 1607); <br>
        0xE8 (1703); <br>
        0x0130 </td>
        <td>
        <pre class="source">MI_DYNAMIC_BITMAP DynamicBitMapPagedPool;</pre>
        </td>
        <td>10.0 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td rowspan="2">&nbsp;</td>
        <td rowspan="2">0x0150 (10.0 to 1607); <br>
        0x0130 (1703); <br>
        0x0178 (1709 to 1809) </td>
        <td>
        <pre class="source">MI_DYNAMIC_BITMAP DynamicBitMapSpecialPool;</pre>
        </td>
        <td>10.0 to 1607 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>
        <pre class="source">MI_DYNAMIC_BITMAP DynamicBitMapSpecialPool [2];</pre>
        </td>
        <td>1703 to 1809 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>&nbsp;</td>
        <td>0x01A0 (10.0 to 1607); <br>
        0x01C0 (1703); <br>
        0x0208 (1709 to 1809); <br>
        0x0178 </td>
        <td>
        <pre class="source">MI_DYNAMIC_BITMAP DynamicBitMapSystemCache;</pre>
        </td>
        <td>10.0 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>&nbsp;</td>
        <td>0x01C0 </td>
        <td>
        <pre class="source">MI_DYNAMIC_BITMAP DynamicBitMapSecureNonPagedPool;</pre>
        </td>
        <td>2004 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>&nbsp;</td>
        <td>0x0208 (1703); <br>
        0x0250 (1709 to 1809); <br>
        0x01C0 (1903); <br>
        0x0208 </td>
        <td>
        <pre class="source">PVOID HalPrivateVaStart;</pre>
        </td>
        <td>1703 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>&nbsp;</td>
        <td>0x0210 (1703); <br>
        0x0258 (1709 to 1809); <br>
        0x01C8 (1903); <br>
        0x0210 </td>
        <td>
        <pre class="source">ULONGLONG HalPrivateVaSize;</pre>
        </td>
        <td>1703 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>&nbsp;</td>
        <td>0x01F0 (10.0 to 1607); <br>
        0x0218 (1703); <br>
        0x0260 (1709 to 1809); <br>
        0x01D0 (1903); <br>
        0x0218 </td>
        <td>
        <pre class="source">ULONG SystemVaAssignment [8];</pre>
        </td>
        <td>1607 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>&nbsp;</td>
        <td>0x0210 (10.0 to 1607); <br>
        0x0238 (1703); <br>
        0x0280 (1709 to 1809); <br>
        0x01F0 (1903); <br>
        0x0238 </td>
        <td>
        <pre class="source">ULONG SystemVaAssignmentHint;</pre>
        </td>
        <td>1607 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x1414 </td>
        <td>&nbsp;</td>
        <td>
        <pre class="source">MI_SYSTEM_REGION_REFERENCE VaRegion [0x0400];</pre>
        </td>
        <td>1803 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td rowspan="2">0x2414 </td>
        <td rowspan="2">0x0284 (1803 to 1809); <br>
        0x01F4 (1903); <br>
        0x023C </td>
        <td>
        <pre class="source">ULONG TopLevelPteLockBits [0x80];</pre>
        </td>
        <td>1803 and higher (x86) </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>
        <pre class="source">ULONG TopLevelPteLockBits [0x20];</pre>
        </td>
        <td>1803 and higher (x64) </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x2614 </td>
        <td>&nbsp;</td>
        <td>
        <pre class="source">ULONG TopLevelPteAlternateLockBits [4];</pre>
        </td>
        <td>1803 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x1414 (1703 to 1709); <br>
        0x2624 </td>
        <td>0x023C (1703); <br>
        0x0284 (1709); <br>
        0x0304 (1803 to 1809); <br>
        0x0274 (1903); <br>
        0x02BC </td>
        <td>
        <pre class="source">LONG volatile DeleteKvaLock;</pre>
        </td>
        <td>1703 and higher </td>
        <td>previously at 0x143C and 0x0258 </td>
      </tr>
      <tr>
        <td rowspan="2">0x1418 (1703 to 1709); <br>
        0x2628 </td>
        <td rowspan="2">0x0240 (1703); <br>
        0x0288 (1709); <br>
        0x0308 (1803 to 1809); <br>
        0x0278 (1903); <br>
        0x02C0 </td>
        <td>
        <pre class="source">MI_WSLE *WsleArrays [5];</pre>
        </td>
        <td>1703 to 1709 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>
        <pre class="source">MI_WSLE *WsleArrays [8];</pre>
        </td>
        <td>1803 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x142C (1703 to 1709); <br>
        0x2648 </td>
        <td>0x0268 (1703); <br>
        0x02B0 (1709); <br>
        0x0348 (1803 to 1809); <br>
        0x02B8 (1903); <br>
        0x0300 </td>
        <td>
        <pre class="source">MI_HYPER_SPACE *PagableHyperSpace;</pre>
        </td>
        <td>1703 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x1418 (1607); <br>
        0x1430 (1703 to 1709); <br>
        0x264C </td>
        <td>0x0218 (1607); <br>
        0x0270 (1703); <br>
        0x02B8 (1709); <br>
        0x0350 (1803 to 1809); <br>
        0x02C0 (1903); <br>
        0x0308 </td>
        <td>
        <pre class="source">PVOID HyperSpaceEnd;</pre>
        </td>
        <td>1607 and higher </td>
        <td>previously at 0x10 (x86) </td>
      </tr>
      <tr>
        <td>0x141C (10.0 to 1607) </td>
        <td>0x01F0 (10.0 to 1511); <br>
        0x0220 (1607) </td>
        <td>
        <pre class="source">MMWSLE_HASH *WorkingSetListHashStart;</pre>
        </td>
        <td>10.0 to 1607 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x1420 (10.0 to 1607) </td>
        <td>0x01F8 (10.0 to 1511); <br>
        0x0228 (1607) </td>
        <td>
        <pre class="source">MMWSLE_HASH *WorkingSetListHashEnd;</pre>
        </td>
        <td>10.0 to 1607 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x1424 (10.0 to 1607) </td>
        <td>0x0200 (10.0 to 1511); <br>
        0x0230 (1607) </td>
        <td>
        <pre class="source">MMWSLE_NONDIRECT_HASH *WorkingSetListIndirectHashStart;</pre>
        </td>
        <td>10.0 to 1607 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x2650 </td>
        <td>0x02C8 (1903); <br>
        0x0310 </td>
        <td>
        <pre class="source">ULONG_PTR PagableHyperSpaceBytes;</pre>
        </td>
        <td>1903 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>&nbsp;</td>
        <td>0x02D0 (1903); <br>
        0x0318 </td>
        <td>
        <pre class="source">ULONGLONG PageTableCommitmentOffset [2];</pre>
        </td>
        <td>1903 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x1428 (10.0 to 1607); <br>
        0x1434 (1703 to 1709); <br>
        0x2650 (1803 to 1809); <br>
        0x2654 </td>
        <td>0x0208 (10.0 to 1511); <br>
        0x0238 (1607); <br>
        0x0278 (1703); <br>
        0x02C0 (1709); <br>
        0x0358 (1803 to 1809); <br>
        0x02E0 (1903); <br>
        0x0328 </td>
        <td>
        <pre class="source">KEVENT FreeSystemCacheVa;</pre>
        </td>
        <td>10.0 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x1438 (10.0 to 1607); <br>
        0x1444 (1703 to 1709); <br>
        0x2660 (1803 to 1809); <br>
        0x2664 </td>
        <td>0x0220 (10.0 to 1511); <br>
        0x0250 (1607); <br>
        0x0290 (1703); <br>
        0x02D8 (1709); <br>
        0x0370 (1803 to 1809); <br>
        0x02F8 (1903); <br>
        0x0340 </td>
        <td>
        <pre class="source">ULONG_PTR SystemVaLock;</pre>
        </td>
        <td>10.0 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x143C (10.0 to 1607) </td>
        <td>0x0228 (10.0 to 1511); <br>
        0x0258 (1607) </td>
        <td>
        <pre class="source">LONG volatile DeleteKvaLock;</pre>
        </td>
        <td>10.0 to 1607 </td>
        <td>next at 0x1414 and 0x023C </td>
      </tr>
      <tr>
        <td>0x1440 (10.0 to 1607) </td>
        <td>0x0230 (10.0 to 1511); <br>
        0x0260 (1607) </td>
        <td>
        <pre class="source">MI_PTE_CHAIN_HEAD FreeSystemCache;</pre>
        </td>
        <td>10.0 to 1607 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x1458 (10.0 to 1607); <br>
        0x1448 (1703 to 1709); <br>
        0x2664 (1803 to 1809); <br>
        0x2668 </td>
        <td>0x0248 (10.0 to 1511); <br>
        0x0278 (1607); <br>
        0x0298 (1703); <br>
        0x02E0 (1709); <br>
        0x0378 (1803 to 1809); <br>
        0x0300 (1903); <br>
        0x0348 </td>
        <td>
        <pre class="source">ULONG_PTR SystemCacheViewLock;</pre>
        </td>
        <td>10.0 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x145C (1607) </td>
        <td>0x0280 (1607) </td>
        <td>
        <pre class="source">EX_PUSH_LOCK SystemCacheInitLock;</pre>
        </td>
        <td>1607 only </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x145C (10.0 to 1511); <br>
        0x1460 (1607) </td>
        <td>0x0250 (10.0 to 1511); <br>
        0x0288 (1607) </td>
        <td>
        <pre class="source">ULONG_PTR UnusableWsles [5];</pre>
        </td>
        <td>10.0 to 1607 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x1470 (10.0 to 1511); <br>
        0x1474 (1607) </td>
        <td>0x0278 (10.0 to 1511); <br>
        0x02B0 (1607) </td>
        <td>
        <pre class="source">ULONG_PTR PossibleWsles [5];</pre>
        </td>
        <td>10.0 to 1607 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>0x1488 (1607) </td>
        <td>0x02D8 (1607) </td>
        <td>
        <pre class="source"><a href="../ps/mmsupport_instance.htm">MMSUPPORT_INSTANCE</a> *SystemWs [3];</pre>
        </td>
        <td>1607 only </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td rowspan="2">0x144C (1703 to 1709); <br>
        0x2668 (1803 to 1809); <br>
        0x266C </td>
        <td rowspan="2">0x02A0 (1703); <br>
        0x02E8 (1709); <br>
        0x0380 (1803 to 1809); <br>
        0x0308 (1903); <br>
        0x0350 </td>
        <td>
        <pre class="source"><a href="mmwsl_instance.htm">MMWSL_INSTANCE</a> SystemWorkingSetList [5];</pre>
        </td>
        <td>1703 to 1709 </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>
        <pre class="source">MMWSL_INSTANCE SystemWorkingSetList [8];</pre>
        </td>
        <td>1803 and higher </td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>&nbsp;</td>
        <td>0x04C0 (1803 to 1809); <br>
        0x0448 (1903); <br>
        0x0490 </td>
        <td>
        <pre class="source">ULONGLONG SelfmapLock [4];</pre>
        </td>
        <td>1803 and higher </td>
        <td>&nbsp;</td>
      </tr>
    </tbody>
  </table>
  <div class="Footer">
    <p class="Dates">This page was created on 19th October 2019 and was last modified 
    on 31st <a href="../../../../../../../new/22/07.htm">August 2022</a>. </p>
    <!--webbot bot="Include" U-Include="../../../../_include/c1922.htm" TAG="BODY" startspan -->

<p class="Copyright">Copyright © 2019-2022. Geoff Chappell. All rights reserved. 
<a href="../../../../../../../about/terms.htm">Conditions apply</a>. </p>

<!--webbot bot="Include" endspan i-checksum="5309" -->
  </div>
</div>

</body>

</html>
