<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Kernel Exports Added for Windows 10 Version 1709</title>
<link rel="stylesheet" type="text/css" href="../../../../../_styles/master.css">
<link rel="stylesheet" type="text/css" href="../../../../../_styles/document.css">
<link rel="stylesheet" type="text/css" href="../../_styles/km.css">
<script type="text/javascript" src="../../../../../_scripts/master.js"></script>
<script type="text/javascript" src="../../../../../_scripts/document.js"></script>
<script type="text/javascript" src="../../_scripts/km.js"></script>
</head>

<body>

<!--webbot bot="Include" U-Include="../../_include/noscript.htm" TAG="BODY" startspan -->

<div class="NoScript" id="Banner">
  <div id="Links">
    <ul class="LinkList">
      <li class="LinkListItem"><a href="../../../../../index.htm"><span>Home</span></a> </li>
      <li class="LinkListItem"><a target="_self" href="../../toc.htm"><span>Table of Contents</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../about/index.htm"><span>About This Site</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../new/index.htm"><span>What’s New?</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../feedback/index.htm"><span>Feedback</span></a> </li>
      <li class="LinkListItem"><a href="../../../../../consult/index.htm"><span>Consult</span></a> </li>
    </ul>
  </div>
  <div id="Logo">
    <p>Geoff Chappell, Software Analyst </p>
  </div>
</div>

<!--webbot bot="Include" endspan i-checksum="21016" -->
<p class="alert">Revision in progress. Use caution. </p>
<h1>Kernel Exports Added for Windows 10 Version 1709 </h1>
<p>This page lists the functions that are newly exported from the Windows kernel 
in its 1709 release. Relative to the highly selective disclosure that Microsoft 
has established for previous releases of Windows 10, surprisingly many of these 
additions for the 1709 release are documented. </p>
<!--webbot bot="Include" U-Include="../../_include/colours2.htm" TAG="BODY" startspan -->

<p>For the table below, documentation status is summarised by colour coding so that 
more detail can be given as Remarks with less text. (If you read this website with 
scripts enabled, then hovering the mouse over any coloured text will produce a tooltip 
that shows why the text is coloured.) Functions that have their own non-trivial 
documentation are shown with no background colour. Functions that appear to be completely 
undocumented are <span class="undocumented">highlighted yellow</span>. If a function 
is documented now but was not documented in the first contemporaneous Device Driver 
Kit (DDK), Windows Driver Kit (WDK) or Installable File System (IFS) Kit, then it 
is <span class="delayed">shaded yellow</span> to retain some of its previous status. 
Many undocumented functions do at least have C-language declarations in one or another 
header file from the WDK. These are <span class="declared">shaded orange</span>, 
except for one special case. Some declarations are known only from “minwin” headers 
that Microsoft published in early editions of the WDK for Windows 10 which seem 
since to have been withdrawn. These are <span class="minwin">highlighted orange</span> 
to indicate that public knowledge even of the declaration is exceptional. </p>

<!--webbot bot="Include" endspan i-checksum="15261" -->
<table class="Functions">
  <colgroup>
    <col class="Name"><col class="Remarks" span="2">
  </colgroup>
  <tr>
    <th>Name </th>
    <th>Export History </th>
    <th>Declaration History </th>
  </tr>
  <tr>
    <td><span class="undocumented function">AlpcCreateSecurityContext</span>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">CcGetNumberOfMappedPages</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">EtwTelemetryCoverageReport</span>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">ExGetFirmwareType</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">ExIsSoftBoot</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">FsRtlNotifyFilterReportChangeLiteEx</span>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">HvlInvokeFastExtendedHypercall</span>
    </td>
    <td>x64 only </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">IoCheckLinkShareAccess</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">IoRemoveLinkShareAccess</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">IoSetLinkShareAccess</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">IoUpdateLinkShareAccess</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">KeSetLastBranchRecordInUse</span>
    </td>
    <td>x64 only </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">MmGetSectionInformation</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">MmMapMdl</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">NtNotifyChangeDirectoryFileEx</span>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="declared function">NtQueryDirectoryFileEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">PoFxSetTargetDripsDevicePowerState</span> </td>
    <td>&nbsp;</td>
    <td>declared start is 10.0 </td>
  </tr>
  <tr>
    <td><span class="function">PsGetParentSilo</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">PsGetProcessSilo</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">PsIsWin32KFilterAuditEnabledForProcess</span>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">PsIsWin32KFilterEnabledForProcess</span>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented variable">PsPartitionType</span> (data) </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">PsSetLoadImageNotifyRoutineEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">PsSetProcessFaultInformation</span>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
</table>
<p>Though <span class="minwin function">PsGetProcessSilo</span> is not an exported 
function until the 1709 release, it exists in the kernel as an internal routine 
even in the original Windows 10. It was perhaps meant to be exported all along, 
if only for Microsoft’s private use. </p>
<table class="Functions">
  <colgroup>
    <col class="Name"><col class="Remarks" span="2">
  </colgroup>
  <tr>
    <th>Name </th>
    <th>Export History </th>
    <th>Declaration History </th>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlCapabilityCheckForSingleSessionSku</span>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlCheckSystemBootStatusIntegrity</span>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">RtlExtendCorrelationVector</span> </td>
    <td>&nbsp;</td>
    <td>declared start is 1703 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlExtractBitMapEx</span> </td>
    <td>x64 only </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlGetSystemBootStatus</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlGetSystemBootStatusEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">RtlIncrementCorrelationVector</span> </td>
    <td>&nbsp;</td>
    <td>declared start is 1703 </td>
  </tr>
  <tr>
    <td><span class="function">RtlInitializeCorrelationVector</span> </td>
    <td>&nbsp;</td>
    <td>declared start is 1703 </td>
  </tr>
  <tr>
    <td><span class="function">RtlIsCloudFilesPlaceholder</span> </td>
    <td>&nbsp;</td>
    <td>declared start is 1703 </td>
  </tr>
  <tr>
    <td><span class="function">RtlIsPartialPlaceholder</span> </td>
    <td>&nbsp;</td>
    <td>declared start is 1703 </td>
  </tr>
  <tr>
    <td><span class="function">RtlIsPartialPlaceholderFileHandle</span> </td>
    <td>&nbsp;</td>
    <td>declared start is 1703 </td>
  </tr>
  <tr>
    <td><span class="function">RtlIsPartialPlaceholderFileInfo</span> </td>
    <td>&nbsp;</td>
    <td>declared start is 1703 </td>
  </tr>
  <tr>
    <td><span class="function">RtlIsStateSeparationEnabled</span> </td>
    <td>&nbsp;</td>
    <td>before 1803, declared start is 1703 <br>
    since 1803, declared start is 1803 </td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlOpenImageFileOptionsKey</span>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlPcToFileName</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlPcToFilePath</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlQueryImageFileKeyOption</span>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">RtlQueryThreadPlaceholderCompatibilityMode</span>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlRestoreSystemBootStatusDefaults</span>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlSetSystemBootStatus</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlSetSystemBootStatusEx</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">RtlSetThreadPlaceholderCompatibilityMode</span>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlShiftLeftBitMap</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">RtlShiftLeftBitMapEx</span> </td>
    <td>x64 only </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="function">RtlValidateCorrelationVector</span> </td>
    <td>&nbsp;</td>
    <td>declared start is 1703 </td>
  </tr>
</table>
<p>Declaration of <span class="function">RtlIsStateSeparationEnabled</span> is troubled. 
In the NTDDK.H from the WDK for Windows 10 Version 1709, its conditional-compilation 
block allows <span class="constant">NTDDI_WIN10_RS2</span>. In the next WDK, the 
comment that closes the block has been updated to requiring
<span class="constant">NTDDI_WIN10_RS3</span>. Perhaps the whole block was briefly 
corrected while preparing the WDK for 1803, but then the declaration got caught 
up with that of the new <span class="function">RtlGetPersistedStateLocation</span> 
and the <span class="directive">#if</span> jumps ahead to requiring
<span class="constant">NTDDI_WIN10_RS4</span>. </p>
<table class="Functions">
  <colgroup>
    <col class="Name"><col class="Remarks" span="2">
  </colgroup>
  <tr>
    <th>Name </th>
    <th>Export History </th>
    <th>Documentation History </th>
  </tr>
  <tr>
    <td><span class="undocumented function">VslGetSecurePciEnabled</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">ZwAlpcOpenSenderProcess</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="minwin function">ZwGetNextThread</span> </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="undocumented function">ZwNotifyChangeDirectoryFileEx</span>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><span class="delayed function">ZwQueryDirectoryFileEx</span> </td>
    <td>&nbsp;</td>
    <td>before December 2017, <span class="declared">declared</span> </td>
  </tr>
</table>
<p>The only documentation of <span class="delayed function">ZwQueryDirectoryFileEx</span> 
at Microsoft’s website today, 27th September 2020, is well separated from other 
WDK documentation into a section for previous versions and carries a warning that 
Microsoft is “no longer updating this content regularly.” Microsoft’s date for the 
page is 12th December 2017 which would mean it was not published for the 1709 release.
</p>
<div class="Footer">
  <p class="Dates">This page was created on 2nd October 2018 and was last modified 
  on 26th <a href="../../../../../new/20/10.htm">October 2020</a>. </p>
  <!--webbot bot="Include" U-Include="../../_include/c1820.htm" TAG="BODY" startspan -->

<p class="Copyright">Copyright © 2018-2020. Geoff Chappell. All rights reserved. 
<a href="../../../../../about/terms.htm">Conditions apply</a>. </p>

<!--webbot bot="Include" endspan i-checksum="5539" -->
</div>

</body>

</html>
